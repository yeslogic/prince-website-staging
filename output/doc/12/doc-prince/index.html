<!DOCTYPE html><html class="p10" id="doc-12">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="description" content="Convert HTML documents to PDF. Beautiful printing with CSS. Support for JavaScript and SVG.">
<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
<link rel="stylesheet" property="stylesheet" type="text/css" href="/css/common10.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="crossorigin">
<link href="https://fonts.googleapis.com/css2?family=Public+Sans:ital,wght@0,100..900;1,100..900&amp;display=swap" rel="stylesheet">
<link rel="stylesheet" property="stylesheet" type="text/css" href="/css/jquery-ui-1.12.1.min.css">
<link rel="stylesheet" property="stylesheet" type="text/css" href="/css/jquery-ui-1.12.1.theme.min.css">
<title>Prince - User Guide</title>
<link rel="stylesheet" type="text/css" href="/css/doc-style2.css">

<script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="/js/dynamicscrollspy.js"></script>
<script type="text/javascript" src="/js/skrollr-simplemodal-masonry.min.js"></script>
<script type="text/javascript" src="/js/common.js"></script>
<script>

    $(function() {
      $('#scrollspy').DynamicScrollspy({
        affix: false, //affix by default
        tH: 1, //lowest-level header to be included (H2)
        bH: 6, //highest-level header to be included (H6)
        genIDs: false, //generate random IDs for headers?
        offset: 300, //offset from viewport top for scrollspy
        testing: false //if testing, append heading tagName and ID to each heading
      });
    })

function shiftWindow() { if ((location.hash.indexOf('window.') == 1) || (location.hash.indexOf('prop-') == 1) || (location.hash.indexOf('cl-') == 1) || (location.hash.indexOf('fig.') == 1) || (location.hash.indexOf('at-') == 1) || (location.hash.indexOf('note-') == 1)) { scrollBy(0, -100);
}};

function toggleDetails() { if ((location.hash.indexOf('window.') == 1) || (location.hash.indexOf('prop-') == 1)) {
var prop = document.getElementById(location.hash.substr(1));
var att = document.createAttribute('open');
var parentDetails = $(prop).parents('details');
for (i = 0; i < parentDetails.length; i++) {
  parentDetails[i].setAttribute('open','')
}
prop.scrollIntoView();
}};

function toggleAllDetails(t) {
if (t == 'js') { var type = 'js-support-table' } else if (t == 'css') { var type = 'prop-list' };
var g = document.getElementById(type);
var d = g.getElementsByTagName('details');
var id = 'toggle-' + t;
var a = document.getElementById(id);
if ( a.hasAttribute('open') == false ) {
for (i=0; i < d.length; i++) {
  d[i].setAttribute('open','');
  a.setAttribute('open','');
}}
else if ( a.hasAttribute('open') == true ) {
for (i=0; i < d.length; i++) {
  d[i].removeAttribute('open');
  a.removeAttribute('open');
}}
if ( t == 'js' ) { document.getElementById('.window').parentElement.setAttribute('open','') }
}

window.addEventListener("load",  function() { toggleDetails(); shiftWindow(); });
window.addEventListener("hashchange", function() { toggleDetails(); shiftWindow(); });

</script>

</head>
<body class="user-guide" id="doc-prince">

<div class="header-container">
    <div class="mainheader-container">
        <div class="header">
            <div class="logo">
                <a href="/"><img src="/images/Prince-logo.png" alt="Prince"></a>
            </div>
            <div class="menu">
                <ul>
                    <li><a href="/purchase/">Buy Prince</a></li>
                    <li><a href="/samples/">Samples</a></li>
                    <li><a class="current" href="/doc/">
                      Documentation</a></li>
                    <li><a href="/forum/">Forum</a></li>
                    <li><a class="menu-cta" href="/download/">
                      Download</a></li>
                </ul>
            </div>
            <div style="clear:both"></div>
            <a class="mobile-menu-trigger"><img src="/images/menu-icon2.png" alt=""></a>
        </div>
    </div>
    <div class="subheader-container">
        <div class="subheader">
            <div class="submenu">
                <ul>
                    <li><a href="/doc/12/doc-install/">Installation Guide</a></li>
                    <li><a href="/doc/12/doc-prince/">User Guide</a></li>
                    <li><a href="/doc/12/doc-refs/">Reference Guide</a></li>
                </ul>
            </div>
            <div style="clear:both"></div>
        </div>
    </div>
</div>

<div class="content1150 body-and-footer-container">
<div class="body-container">

<div id="scrollspy"></div>
<div class="main-frame">


<h1 id="styling">Styling <a href="#styling" class="self-link"></a>
</h1>

<p>When preparing a document with HTML and CSS, you need to first create the content -
but then you need to style it to make it visually appealing.  You can choose which
fonts to use, how to format your text and your paragraphs, choose the layout for your
page, give your text, background and style some color, insert images - and much more!</p>

<p>In the following sections you can find detailed information on how to achieve this
with Prince.</p>

<p>The major difference between formatting for the web and PDF/Print is that PDF is
<a href="/doc/12/doc-prince/#paged">paginated</a>, which means that content is placed on discrete
pages, as opposed to one continuous flow, typical for web pages.</p>

<p>Prince allows you to control a number of options that affect how PDF formats pages,
from straight-forward options such as page size, to decorations, headers and footers,
numbering and page breaking options.  See detailed information in the <a href="/doc/12/doc-prince/#paged">Paged Media</a>
section.</p>

<p class="note">
Prince applies default styles to all (X)HTML documents - these style
rules can be found in the <code>html.css</code> style sheet, located in the
<code>style</code> folder inside the installation directory (see
<a href="/doc/12/doc-install/#installation-layout">Installation Layout</a>).
</p>


  <h2 id="fonts">Fonts <a href="#fonts" class="self-link"></a>
</h2>

<p>
Prince supports WOFF (Web Open Font Format), TrueType and OpenType (TTF and CFF)
font formats.
</p>

  <h3 id="font-family">Defining a font family <a href="#font-family" class="self-link"></a>
</h3>
<p>
To define the font, or the fonts to be used in a document, the
<code><a href="/doc/12/doc-refs/#prop-font-family">font-family</a></code> property is used.  Prince will
try to use the specified font, and should glyphs be missing, it will silently
fall back to the next font in the cascade - typically a
<a href="/doc/12/doc-prince/#font-families">generic font family</a>.
</p>

<p>
To prevent this font switching mechanism and force Prince to only use the defined
font, the special keyword <code>prince-no-fallback</code> is available: it triggers
a warning if any glyphs are not found in the specified font, instead of switching
to another one.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>h1 { font-family: MyFont, prince-no-fallback; }</pre></code>
</div>
</div>

<p>
The <a href="/doc/12/doc-refs/#at-font-face"><code>@font-face</code></a>
at-rule can be used to define custom font names.  The <code><a href="/doc/12/doc-refs/#prop-font-family">font-family</a></code>
descriptor defines the font family name that will be used in all CSS font family
name matching, and the <code><a href="/doc/12/doc-refs/#prop-src">src</a></code> descriptor specifies
the resource containing font data. They both are required for the
<a href="/doc/12/doc-refs/#at-font-face"><code>@font-face</code></a>
rule to be valid.
</p>

<p>
The <code><a href="/doc/12/doc-refs/#prop-src">src</a></code> descriptor can define the resource with a
<code>url()</code> function - an optional <code>format()</code> function defines
the format of the remotely fetched font.  Alternatively, the <code>local()</code>
and <code>prince-lookup()</code> functions can be used - the former searches for
locally installed system fonts, while the latter will also find fonts defined by
other <a href="/doc/12/doc-refs/#at-font-face"><code>@font-face</code></a>
rules.  See <a href="/doc/12/doc-refs/#css-functions">CSS Functional Expressions</a>.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>@font-face {
  font-family: MyFont;
  src: prince-lookup("MyFont"),
       url("http://example.com/MyFont.ttf") format("truetype");
}</pre></code>
</div>
<p>
In this example we are defining a new font face, called <code>MyFont</code>.  We
instruct Prince to check if the MyFont truetype font is installed locally or already
defined by another @font-face rule, and, all failing, to download it from a
remote location.
</p>
</div>

<p class="note">
When a chosen bold and/or italic font is missing, Prince tries to
artificially synthesize the missing font - i.e. to embolden or italicize the
original font.  However, it might lead to undesired results.  This feature
can be disabled with the
<a href="/doc/12/doc-refs/#cl-no-artificial-fonts"><code>--no-artificial-fonts</code></a>
command-line option.
</p>


<h3 id="opentype-features">OpenType Features in Prince <a href="#opentype-features" class="self-link"></a>
</h3>

<p>
Prince supports OpenType features, and enables certain ones by default in specific
scripts.  The following ones are enabled by default in Prince:
</p>

<table class="grid">
<thead>
<tr>
<th>Script</th>
<th>Enabled features</th>
</tr>
</thead>
<tbody>
<tr>
<td>Latin, Greek, Cyrillic</td>
<td>ccmp, liga, dist, kern*, mark, mkmk, vrt2/vert</td>
</tr>
<tr>
<td>Arabic/Syriac</td>
<td>ccmp, rlig, calt, liga, mset, isol, medi, fina, kern, curs, mark, mkmk</td>
</tr>
<tr>
<td>Indic</td>
<td>ccmp, and many other Indic-specific substitutions</td>
</tr>
<tr>
<td>Other scripts</td>
<td>kern*, mark, mkmk</td>
</tr>
</tbody>
<tfoot>
<tr>
<td colspan="2">
<p class="note">
* Kerning can be disabled with the keyword <code>prince-no-kerning</code> of the
<code><a href="/doc/12/doc-refs/#prop-font-variant">font-variant</a></code> property.
</p>
</td>
</tr>
</tfoot>
</table>

<p class="tip">
Microsoft has a list of the OpenType feature names
<a href="https://www.microsoft.com/typography/otspec/featurelist.htm">here</a>.
</p>

<p>
It is possible to enable other OpenType features by using the <code><a href="/doc/12/doc-refs/#prop-font-variant">font-variant</a></code>
CSS property with the <code>prince-opentype()</code> function (see
<a href="/doc/12/doc-refs/#css-functions">CSS Functional Expressions</a>).
</p>

<p class="note">
Care must be taken in which order the features are enabled!  And please note
that enabling one feature will disable all the default features.
</p>



  <h3 id="font-families">Generic font families <a href="#font-families" class="self-link"></a>
</h3>
<p>
Prince maps the CSS generic font families to the Microsoft Core Fonts.  The Microsoft
Core Fonts are pre-installed on Windows and MacOS X systems but not on Linux systems.
To use them on Linux you must install the <a href="http://corefonts.sourceforge.net">msttcorefonts</a>
package, which is available for most Linux distributions.
</p>

<p>
The following table shows the default fonts for the main languages on Windows, MacOS
X and Linux.
</p>

<table class="grid">
<thead>
<tr>
<th>Generic family</th>
<th>Operating system</th>
<th>Language</th>
<th>Actual font</th>
</tr>
</thead>
<tbody>
<tr>
<td rowspan="15"><code>serif</code></td>
<td rowspan="5">Windows</td>
<td>Latin</td>
<td>Times New Roman</td>
</tr>
<tr>
<td>Chinese</td>
<td>MingLiU</td>
</tr>
<tr>
<td>Japanese</td>
<td>MS Mincho</td>
</tr>
<tr>
<td>Korean</td>
<td>Batang</td>
</tr>
<tr>
<td>Devanagari / Hindi</td>
<td>Mangal</td>
</tr>
<tr>
<td rowspan="5">MacOS X</td>
<td>Latin</td>
<td>Times New Roman</td>
</tr>
<tr>
<td>Chinese</td>
<td>LiSong Pro</td>
</tr>
<tr>
<td>Japanese</td>
<td>Hiragino Mincho ProN</td>
</tr>
<tr>
<td>Korean</td>
<td>AppleMyungjo</td>
</tr>
<tr>
<td>Devanagari / Hindi</td>
<td>Devanagari MT</td>
</tr>
<tr>
<td rowspan="5">Linux</td>
<td>Latin</td>
<td>Times New Roman, DejaVu Serif, DejaVu LGC Serif, Liberation Serif</td>
</tr>
<tr>
<td>Chinese</td>
<td>AR PL UMing CN, AR PL SungtiL GB</td>
</tr>
<tr>
<td>Japanese</td>
<td>Kochi Mincho, IPAMincho</td>
</tr>
<tr>
<td>Korean</td>
<td>UnBatang, Baekmuk Batang</td>
</tr>
<tr>
<td>Devanagari / Hindi</td>
<td>Lohit Devanagari</td>
</tr>
<tr>
<td rowspan="12"><code>sans-serif</code></td>
<td rowspan="4">Windows</td>
<td>Latin</td>
<td rowspan="2">Arial</td>
</tr>
<tr>
<td>Chinese</td>
</tr>
<tr>
<td>Japanese</td>
<td>MS Gothic</td>
</tr>
<tr>
<td>Korean</td>
<td>Dotum</td>
</tr>
<tr>
<td rowspan="4">MacOS X</td>
<td>Latin</td>
<td>Arial</td>
</tr>
<tr>
<td>Chinese</td>
<td>LiHei Pro</td>
</tr>
<tr>
<td>Japanese</td>
<td>Hiragino Kaku Gothic ProN</td>
</tr>
<tr>
<td>Korean</td>
<td>Apple SD Gothic Neo, Apple Gothic</td>
</tr>
<tr>
<td rowspan="4">Linux</td>
<td>Latin</td>
<td>Arial, DejaVu Sans, DejaVu LGC Sans, Liberation Sans</td>
</tr>
<tr>
<td>Chinese</td>
<td>AR PL UKai CN, AR PL KaitiM GB</td>
</tr>
<tr>
<td>Japanese</td>
<td>Kochi Gothic, IPAGothic</td>
</tr>
<tr>
<td>Korean</td>
<td>UnDotum, Baekmuk Gulim</td>
</tr>
<tr>
<td rowspan="12"><code>monospace</code></td>
<td>Windows</td>
<td colspan="2" rowspan="2">Courier New</td>
</tr>
<tr>
<td>MacOS X</td>
</tr>
<tr>
<td>Linux</td>
<td colspan="2">Courier New, DejaVu Sans Mono, DejaVu LGC Sans Mono, Liberation Mono</td>
</tr>
</tbody>
</table>

<p>
The complete list of defaults, including details like e.g. the exact Unicode
ranges Prince is using, can be found in the <code>fonts.css</code> file
located in the installation directory of Prince resources.  (See
<a href="/doc/12/doc-install/#installation-layout">Installation Layout</a>).
</p>

<p>
In order to redefine these defaults, see <a href="/doc/12/doc-prince/#redefining-font-families">Redefining the generic font families</a>.
</p>






  <h3 id="redefining-font-families">Redefining the generic font families <a href="#redefining-font-families" class="self-link"></a>
</h3>

<p>
The CSS generic font families can be redefined to use different fonts
by editing the <code class="filename">fonts.css</code> file in the Prince
installation (see <a href="/doc/12/doc-install/#installation-layout">Installation Layout</a>).
Each font family is defined using a
<a href="/doc/12/doc-refs/#at-font-face"><code>@font-face</code></a> rule,
which maps a font family to an actual font either by name or by filename.  (See
<a href="/doc/12/doc-prince/#font-families">Generic font families</a>).
</p>
<p>
Here is an example of mapping the generic "sans-serif" font family to the
local system font called "Trebuchet MS".
</p>
<div class="example">
<p class="label">fonts.css</p>
<div class="programlisting">
<code><pre>@font-face {
    font-family: sans-serif;
    src: local("Trebuchet MS")
}</pre></code>
</div>
</div>

<p>
It is also possible to map the generic font families to local fonts specified
by the filename of the TrueType font file.
This will usually require using multiple
<a href="/doc/12/doc-refs/#at-font-face"><code>@font-face</code></a> rules,
one for each TrueType font file in the font family, which usually includes four
files (normal, bold, italic and bold-italic).  Here is an example of mapping the
generic "sans-serif" font family to the "Trebuchet MS" font using filenames,
assuming that the font is installed in the usual system directory on Linux.
</p>
<div class="example">
<p class="label">fonts.css</p>
<div class="programlisting">
<code><pre>@font-face {
    font-family: sans-serif;
    font-style: normal;
    font-weight: normal;
    src: url("/usr/share/fonts/truetype/msttcorefonts/trebuc.ttf")
}

@font-face {
    font-family: sans-serif;
    font-style: normal;
    font-weight: bold;
    src: url("/usr/share/fonts/truetype/msttcorefonts/trebucbd.ttf")
}

@font-face {
    font-family: sans-serif;
    font-style: italic;
    font-weight: normal;
    src: url("/usr/share/fonts/truetype/msttcorefonts/trebucit.ttf")
}

@font-face {
    font-family: sans-serif;
    font-style: italic;
    font-weight: bold;
    src: url("/usr/share/fonts/truetype/msttcorefonts/trebucbi.ttf")
}</pre></code>
</div>
</div>
<p>
Prince can be instructed not to use system fonts with the
<a href="/doc/12/doc-refs/#cl-no-system-fonts"><code>--no-system-fonts</code></a>
command-line option.  Only fonts defined with
<a href="/doc/12/doc-refs/#at-font-face"><code>@font-face</code></a>
rules in CSS will be available.
</p>



<h2 id="layout">Layout <a href="#layout" class="self-link"></a>
</h2>

<p>
Layout is the way in which text and pictures are set out on a page.  It defines the
final look of a document.  Prince understands layout by means of CSS, cascading style
sheets.
</p>

<p>
In the following chapters we shall go through the main points when preparing the
layout of a page.  It mainly follows the general steps of layout for web pages: starting
from <a href="/doc/12/doc-prince/#text-formatting">Text formatting</a> and <a href="/doc/12/doc-prince/#paragraph-formatting">Paragraph formatting</a>,
via the <a href="/doc/12/doc-prince/#css-box">Box Model</a>, until <a href="/doc/12/doc-prince/#tables">Tables</a>, <a href="/doc/12/doc-prince/#lists">Lists</a>,
<a href="/doc/12/doc-prince/#columns">Columns</a>, <a href="/doc/12/doc-prince/#floats">Floats</a>, <a href="/doc/12/doc-prince/#flexbox">Flex Layout</a>,
and <a href="/doc/12/doc-prince/#footnotes">Footnotes</a>.
</p>

<p>
A separate chapter, <a href="/doc/12/doc-prince/#paged">Paged Media</a>, will analyze in-depth the major difference
between formatting for the web and PDF/Print, namely that PDF is paginated, content
is placed on discrete pages.
</p>




<h3 id="text-formatting">Text formatting <a href="#text-formatting" class="self-link"></a>
</h3>

<p>Text can be styled with CSS by defining font styles or text layout styles.</p>

<p>After choosing an appropriate typeface for your text with the <code><a href="/doc/12/doc-refs/#prop-font-family">font-family</a></code>
property (see <a href="/doc/12/doc-prince/#fonts">Fonts</a>), you can assign it different sizes with the
<code><a href="/doc/12/doc-refs/#prop-font-size">font-size</a></code> property.</p>

<p>Next up you should decide whether to give it some <code><a href="/doc/12/doc-refs/#prop-color">color</a></code>. The default
text color for a page is defined in the <code>body</code> selector, but each selector
can have its own color.</p>

<div class="example">
<div class="programlisting"><code language="CSS"><pre>body {
    font-family: Helvetica, Arial, sans-serif;
    color: blue;
}</pre></code></div>
</div>

<p>Special formatting can be achieved through the <code><a href="/doc/12/doc-refs/#prop-font-style">font-style</a></code>,
<code><a href="/doc/12/doc-refs/#prop-font-weight">font-weight</a></code>, <code><a href="/doc/12/doc-refs/#prop-text-transform">text-transform</a></code>
or <code><a href="/doc/12/doc-refs/#prop-text-decoration">text-decoration</a></code> properties.  All of these
properties can also be set with the shorthand property <code><a href="/doc/12/doc-refs/#prop-font">font</a></code>.</p>

<p>It is also possible to style the vertical alignment of text in an inline box with
the <code><a href="/doc/12/doc-refs/#prop-vertical-align">vertical-align</a></code> property. The value <code>baseline</code> is
the default, <code>sub</code> and <code>super</code> align the baseline of the element
with the subscript-baseline or superscript-baseline of its parent respectively. The
<code>text-top</code> and <code>text-bottom</code> values align the top of the element
with the top or bottom of the parent's font, while <code>middle</code> aligns the
middle of the element with the baseline plus half the x-height of the parent.</p>

<p>In order to determine how compact the text should be displayed, the <code><a href="/doc/12/doc-refs/#prop-letter-spacing">letter-spacing</a></code>
can be used.  Alternatively, the property <code><a href="/doc/12/doc-refs/#prop-font-stretch">font-stretch</a></code> might be
used, but note that it does not change the geometry of any arbitrary font by stretching
or shrinking it - instead, it merely instructs Prince to choose the most appropriate
face of the font, if the selected font offers several ones.  Also note that this property
is not supported for system fonts on Windows.</p>

<p>In a similar fashion, the property <code><a href="/doc/12/doc-refs/#prop-word-spacing">word-spacing</a></code> can be used
to determine the distance between words.</p>

<p>The directionality of the text is controlled through the <a href="/doc/12/doc-prince/#writing-mode">Writing Mode</a>.</p>




<h3 id="paragraph-formatting">Paragraph formatting <a href="#paragraph-formatting" class="self-link"></a>
</h3>

<p>Now that you have decided on the basic properties of the text, you can turn your
attention to styling the paragraphs. The <code><a href="/doc/12/doc-refs/#prop-text-align">text-align</a></code> property is
used to control how text is aligned within its containing box, while the
<code><a href="/doc/12/doc-refs/#prop-text-indent">text-indent</a></code> property determines the indentation of
the first line of text in the element.</p>

<p>If the <code><a href="/doc/12/doc-refs/#prop-text-align">text-align</a></code> property has a value of <code>left</code>,
<code>right</code> or <code>center</code>, the text will be aligned to the left, right
or center respectively. The <code>justify</code> value instructs Prince to justify
text. It is not uncommon, in printed texts, to align text based on whether the text
appears on a left or right page. To support this, two new keywords are added to the
<code><a href="/doc/12/doc-refs/#prop-text-align">text-align</a></code> property: <code>inside</code> is the
same as 'left' on right pages and 'right' on left pages, and <code>outside</code>
is the same as 'right' on left pages and 'left' on right pages.</p>

<p>
Prince adds the property <code><a href="/doc/12/doc-refs/#prop-prince-text-justify">prince-text-justify</a></code> to
define how to treat justified text for CJK languages.  The value <code>prince-cjk</code>
allows space to be inserted between CJK characters when justifying even if there
aren't any space characters.
</p>

<p>The last line of an element can receive its own alignment style with the
<code><a href="/doc/12/doc-refs/#prop-text-align-last">text-align-last</a></code> property.  It takes the same
values as <code><a href="/doc/12/doc-refs/#prop-text-align">text-align</a></code>.</p>

<div class="example">
<div class="programlisting"><code language="CSS"><pre>p {
    text-align: justify;
    text-indent: 5em;
}</pre></code></div>
</div>

<p>It is also possible to style the first line of a paragraph in a different way -
to achieve this, the selector <code>::first-line</code> is used.</p>

<div class="example">
<div class="programlisting"><code language="CSS"><pre>p::first-line {
    text-indent: 8em;
}</pre></code></div>
</div>

<p>It is not unusual to give the first letter of a paragraph a bigger font size than
the rest of the paragraph.  The selector <code>::first-letter</code> is useful for
this purpose.</p>

<div class="example">
<div class="programlisting"><code language="CSS"><pre>p::first-letter {
    font-size: 2em;
}</pre></code></div>
</div>

<p>One of the most common use cases is for so-called drop caps - large capital letters
at the beginning of a chapter that have the depth of several lines of text.</p>

<p>In the following example we are selecting the first letter of the first paragraph,
which gets styled much bigger than the normal text, and gets floated to the left.
The normal text is wrapping around this first large letter.</p>

<div class="example">
<div class="programlisting"><code language="CSS"><pre>p:first-child::first-letter {
    font-size: 5em;
    line-height: 3rem;
    float: left;
}</pre></code></div>
</div>

<p>Another important aspect when formatting a paragraph is how compact the text
lines should appear on the printed page.  The property
<code><a href="/doc/12/doc-refs/#prop-line-height">line-height</a></code> can be used to determine the height
of text lines.</p>

<p>The property <code><a href="/doc/12/doc-refs/#prop-line-stacking-strategy">line-stacking-strategy</a></code> allows to
choose whether individual lines should have their height determined based on their
content, or whether all lines in a paragraph should have the same height, or a
compromise where their heights are determined by their content and then rounded
up to a multiple of the paragraph line height.</p>

<p>In order to lay out text in a well-balanced way, it might at times be necessary
to hyphenate some words - to enable hyphenation, the <code><a href="/doc/12/doc-refs/#prop-hyphens">hyphens</a></code>
property is used.  For details please refer to the section on
<a href="/doc/12/doc-prince/#hyphenation">Hyphenation</a>.</p>

<p>Prince also allows for line-breaking in certain situations even in the absence of
whitespace - for example, after slashes in long URLs. This behavior can be
disabled with the <code><a href="/doc/12/doc-refs/#prop-prince-linebreak-magic">prince-linebreak-magic</a></code> property
for situations in which more precise control over line-breaking is preferred.</p>

<p>The property <code><a href="/doc/12/doc-refs/#prop-overflow-wrap">overflow-wrap</a></code> controls wrapping
behavior <em>of last resort</em>: whether it is better for a word to overflow
its container, or to be broken at an arbitrary point (subject to
<code><a href="/doc/12/doc-refs/#prop-white-space">white-space</a></code>, and not splitting within a grapheme
cluster), without adding a hyphen.
</p>

<p class="note">
Prince does not support the value <code>break-word</code> of the property
<code><a href="/doc/12/doc-refs/#prop-word-break">word-break</a></code> to achieve a similar effect.  Use the
value <code>break-all</code> of <code><a href="/doc/12/doc-refs/#prop-word-break">word-break</a></code>, or
the property <code><a href="/doc/12/doc-refs/#prop-overflow-wrap">overflow-wrap</a></code> with the value
<code>break-word</code> instead.
</p>



<h3 id="writing-mode">Writing Mode <a href="#writing-mode" class="self-link"></a>
</h3>

<p>A writing mode describes the directionality of a script, i.e. it describes
the direction the script is to be read.  In (X)HTML, the language of a
document is defined by the <code>lang</code> or <code>xml:lang</code>
attributes.  To control the rendering of the text, a couple of CSS properties
can be used: the <code><a href="/doc/12/doc-refs/#prop-direction">direction</a></code> property defines
the inline direction of the script, that is left-to-right (like e.g. Latin or
Indic scripts) or right-to-left (like e.g. Arabic and Hebrew scripts).</p>

<p>The <code><a href="/doc/12/doc-refs/#prop-writing-mode">writing-mode</a></code> property, on the other
hand, describes the block direction of the script, namely whether the text
should be laid out horizontally, top-to-bottom (like e.g. Latin or Arabic
scripts), or vertically, right-to-left (like e.g. Chinese scripts).  The
default value is <code>horizontal-tb</code>, which means horizontal,
top-to-bottom.</p>

<p>
Prince sets the PDF direction based on the direction and writing mode of the
document root element to support right-to-left books.
</p>

<p>Changing the writing mode of a document, that is, the inline or block
direction, not only changes the direction of the script, but also affects
several other aspects of the printed document.</p>

<p>The page selector pseudo-classes <code>:recto</code> and <code>:verso</code>
(see <a href="/doc/12/doc-prince/#page-rules">Selecting pages</a>) are relative to the direction of
the script.  In a left-to-right script, <code>:recto</code> is the right-hand
side of a spread, and <code>:verso</code> is the left-hand side, while in a
right-to-left script these values are inverted: <code>:recto</code> defines
the left-hand side of a spread, and <code>:verso</code> defines the
right-hand side.  See also <a href="/doc/12/doc-prince/#page-rules">Selecting pages</a>.</p>

<p>Columns change their orientation when the writing mode is changed -
<code><a href="/doc/12/doc-refs/#prop-writing-mode">writing-mode</a></code> <code>vertical-rl</code> arranges the
columns horizontally, top-to-bottom.</p>

<p class="note">This can be used to rotate content - see <a href="/doc/12/doc-prince/#wide-content-sideways">Printing wide content sideways</a> and <a href="/doc/12/doc-prince/#rotating-table-cells">Rotating content in table cells</a>.</p>





  <h3 id="css-box">Box Model <a href="#css-box" class="self-link"></a>
</h3>

<p>
All HTML elements follow the CSS box model.  Their <code><a href="/doc/12/doc-refs/#prop-margin">margin</a></code>,
<code><a href="/doc/12/doc-refs/#prop-border">border</a></code>, <code><a href="/doc/12/doc-refs/#prop-padding">padding</a></code> and
<code><a href="/doc/12/doc-refs/#prop-background">background</a></code> can all be styled.
</p>


<h4 id="margin">Margin <a href="#margin" class="self-link"></a>
</h4>
<p>
At the very outside of the box are the margins.  Each margin's size can be set
individualy with the properties <a href="/doc/12/doc-refs/#prop-margin-top">margin-top</a>, <a href="/doc/12/doc-refs/#prop-margin-bottom">margin-bottom</a>,
<a href="/doc/12/doc-refs/#prop-margin-left">margin-left</a> and <a href="/doc/12/doc-refs/#prop-margin-right">margin-right</a>, or you can
use the <i>shorthand property</i> <a href="/doc/12/doc-refs/#prop-margin">margin</a> to specify all four
margins together.  The syntax of the shorthand property is:
</p>

<div class="example">
<div class="syntaxlisting">
<code language="CSS"><pre><a href="/doc/12/doc-refs/#prop-margin">margin</a>: <span class="replaceable">top</span> <span class="replaceable">right</span> <span class="replaceable">bottom</span> <span class="replaceable">left</span></pre></code>
</div>
</div>

<p>
If there are only:
</p>

<ul>
<li>three values: then the left margin is set equal to the right
margin;</li>
<li>two values: then the left margin is set equal to the right margin,
and the bottom margin is set equal to the top margin;</li>
<li>one value: then all margins are made equal.</li>
</ul>

<p>
Prince expands the margin properties with <code><a href="/doc/12/doc-refs/#prop-margin-inside">margin-inside</a></code>
and <code><a href="/doc/12/doc-refs/#prop-margin-outside">margin-outside</a></code>, defining the margin
respectively on the inside or outside of a spread: inside is on the right when
used on a left-facing page, and on left on a right-facing page; outside is on
the left when used on a left-facing page, and on the right on a right-facing
page.
</p>

<p>
Always keep in mind that <code><a href="/doc/12/doc-refs/#prop-margin-top">margin-top</a></code> and
<code><a href="/doc/12/doc-refs/#prop-margin-bottom">margin-bottom</a></code> of blocks are combined (i.e.
"collapsed") into a single margin according to a possibly rather complex
behavior known as <em>margin collapsing</em>.  The notable exception is
the behavior of margins in <a href="/doc/12/doc-prince/#flexbox">Flex Layout</a>.
</p>



<h4 id="border">Border <a href="#border" class="self-link"></a>
</h4>

<p>
The border of a box can be styled with several border properties.  The borders can
either be individually styled with <code><a href="/doc/12/doc-refs/#prop-border-top">border-top</a></code>,
<code><a href="/doc/12/doc-refs/#prop-border-right">border-right</a></code>, <code><a href="/doc/12/doc-refs/#prop-border-bottom">border-bottom</a></code>
and <code><a href="/doc/12/doc-refs/#prop-border-left">border-left</a></code>, or the shorthand property
<code><a href="/doc/12/doc-refs/#prop-border">border</a></code> can be used to style all four borders of
the box in the same way.
</p>

<p>
To style the borders, the <code><a href="/doc/12/doc-refs/#prop-border-color">border-color</a></code>,
<code><a href="/doc/12/doc-refs/#prop-border-style">border-style</a></code> and
<code><a href="/doc/12/doc-refs/#prop-border-width">border-width</a></code> properties can be used.  For each
of them, also <code>top</code>, <code>right</code>, <code>bottom</code> and
<code>left</code> variants are available to style each border separately.
</p>

<p>
The property <code><a href="/doc/12/doc-refs/#prop-border-radius">border-radius</a></code> property can be used
for styling rounded corners.
</p>

<p>
The <code><a href="/doc/12/doc-refs/#prop-border-clip">border-clip</a></code> property splits the borders into
parts along the border edge - the first part is visible, the second one is
invisible, the third part is visible, etc.
</p>



<h4 id="padding">Padding <a href="#padding" class="self-link"></a>
</h4>

<p>
The property <code>padding</code> defines the padding inside the box model.
Each padding's size can be set individually with the properties
<a href="/doc/12/doc-refs/#prop-padding-top">padding-top</a>, <a href="/doc/12/doc-refs/#prop-padding-bottom">padding-bottom</a>,
<a href="/doc/12/doc-refs/#prop-padding-left">padding-left</a> and <a href="/doc/12/doc-refs/#prop-padding-right">padding-right</a>, or you can
use the <i>shorthand property</i> <a href="/doc/12/doc-refs/#prop-padding">padding</a> to specify all four
paddings together.  The syntax of the shorthand property is:
</p>

<div class="example">
<div class="syntaxlisting">
<code language="CSS"><pre><a href="/doc/12/doc-refs/#prop-padding">padding</a>: <span class="replaceable">top</span> <span class="replaceable">right</span> <span class="replaceable">bottom</span> <span class="replaceable">left</span></pre></code>
</div>
</div>

<p>
If there are only:
</p>

<ul>
<li>three values: then the left padding is set equal to the right
padding;</li>
<li>two values: then the left padding is set equal to the right padding,
and the bottom padding is set equal to the top padding;</li>
<li>one value: then all paddings are made equal.</li>
</ul>




<h4 id="background">Background <a href="#background" class="self-link"></a>
</h4>

<p>
The background of an element can be styled with the
<code><a href="/doc/12/doc-refs/#prop-background-color">background-color</a></code> and the
<code><a href="/doc/12/doc-refs/#prop-background-image">background-image</a></code> properties, or with the
shorthand property <code><a href="/doc/12/doc-refs/#prop-background">background</a></code>.  See also
<a href="/doc/12/doc-prince/#images-background">Background Images</a>.
</p>

<p>
Various standard properties are available to position the background, to clip it
or to determine whether, and how it should be repeated.  Prince extends control
on the background with the <code><a href="/doc/12/doc-refs/#prop-prince-background-image-resolution">prince-background-image-resolution</a></code>
property, used to control image size in print (see <a href="/doc/12/doc-prince/#images-size">Image Size</a>).
</p>






  <h3 id="display">Display <a href="#display" class="self-link"></a>
</h3>

<p>
Every HTML element is displayed in a way depending on what type of element it
is.  Most elements are displayed as either <code>block</code> or <code>inline</code>
elements.  The default display value can be changed with the
<code><a href="/doc/12/doc-refs/#prop-display">display</a></code> property.
</p>

<p>
A <code>block</code> element always starts on a new line and takes up all the
available width.
</p>

<p>
An <code>inline</code> element, on the other hand, does not start on a new line,
and only takes up as much space as necessary.
</p>

<p class="note">
<code>inline</code> elements are not allowed to have <code>block</code> elements
inside it.
</p>

<p>
A hybrid type, namely the <code>inline-block</code> element, is like
<code>inline</code> elements, but it can have a width and a height - which
can be very useful when you want to create a grid of CSS boxes that fills all
the width and wraps nicely.  The inside of an <code>inline-block</code> element
is formatted like a block box.
</p>

<p class="note">
Care needs to be taken with <code>inline-block</code> elements, because Prince
<a href="#faq-one-page">cannot split them over several pages</a>.
</p>

<p>
The value <code>run-in</code> displays a block element as if it were an inline
element at the beginning of the following block element.
</p>

<p>
With the value <code>list-item</code>, the element is effectively transformed
into a list item - for more on lists, please see the chapter <a href="/doc/12/doc-prince/#lists">Lists</a>.
</p>

<p>
The value <code>flex</code> enables <a href="/doc/12/doc-prince/#flexbox">Flex Layout</a>, while
<code>inline-flex</code> makes an element behave like an inline element and lays
out its content according to the flex layout model.
</p>

<p>
Several values refer to <a href="/doc/12/doc-prince/#tables">Tables</a>, making elements behave as if
they were table elements.  However, the value <code>inline-table</code> has no
direct equivalent in HTML - it behaves like a <code>table</code> HTML element,
but as an inline element, rather than a block element.  Inside the table box is
a block context.
</p>

<p>
The special value <code>none</code>, which removes the content from the document,
is very useful when hiding certain elements in the printed layout.
</p>





<h3 id="transformations">Transformations <a href="#transformations" class="self-link"></a>
</h3>

<p>
Prince supports CSS transformations of Level 1, with some limitations: it
recognizes <code>transform</code> and <code>transform-origin</code>, but does
not recognize <code>transform-box</code>.  Furthermore, Prince does not allow
perspective transforms.
</p>

<p>
The <code><a href="/doc/12/doc-refs/#prop-transform">transform</a></code> property can be used to rotate,
translate, scale or skew an element.
</p>

<p class="note">
The <code><a href="/doc/12/doc-refs/#prop-transform">transform</a></code> property currently does not affect
SVG elements - they need to use their own <code>transform</code> attribute instead
(see <a href="/doc/12/doc-prince/#svg-transformations">SVG Transformations</a>).
</p>

<p>
The <code><a href="/doc/12/doc-refs/#prop-transform">transform</a></code> property function <code>rotate()</code>
rotates the element clockwise from its current position.  Negative values rotate
conter-clockwise.
</p>

<p>
The function <code>translate()</code> moves an element along a vertical and/or
horizontal axis.  The functions <code>translatex()</code> and
<code>translatey()</code> move the element along one of those axis only.  The
function <code>translate3d()</code> is supported if the Z (third) coordinate is
zero, thus making it equivalent to the 2D <code>translate()</code>.
</p>

<p>
The function <code>scale()</code> affects the size of the element - note that
this also alters other properties of an element, such as its
<code><a href="/doc/12/doc-refs/#prop-font-size">font-size</a></code>, <code><a href="/doc/12/doc-refs/#prop-padding">padding</a></code>,
<code><a href="/doc/12/doc-refs/#prop-height">height</a></code> and <code><a href="/doc/12/doc-refs/#prop-width">width</a></code>.
The functions <code>scalex()</code> and <code>scaley()</code> transform the
element in one dimension only.
</p>

<p>
The functions <code>skewx()</code> and <code>skewy()</code> tilt an element to
the left or right.  There is no shorthand form.
</p>

<p>
The origin for the transformations, i.e. the point around which a transformation
is applied, can be set with the <code><a href="/doc/12/doc-refs/#prop-transform-origin">transform-origin</a></code>
property.
</p>

<p>If only one term is given, then the second component is assumed to be
<code>center</code>.  In particular, if only a percentage or length is given,
then it is assumed to be the horizontal coordinate.</p>

<p>If both values are given as keywords, order doesn't matter; but if two
coordinates are given and either coordinate is a length or percentage, then
the horizontal component must come first: so <code>top 50%</code> is not valid,
but <code>top</code> and <code>top center</code> and <code>50% top</code> are
all valid and equivalent.</p>




  <h3 id="lists">Lists <a href="#lists" class="self-link"></a>
</h3>

<p>
A list item has two parts: <code>marker</code> and
<code>content</code>.
</p>
<p>
The <code>content</code> part is rendered inside the list item's
border box,
and is styled the same way as a normal block,
such as <code>div</code> or <code>p</code> element.
</p>
<p>
The <code>marker</code> positioning is determined by the
<code><a href="/doc/12/doc-refs/#prop-list-style-position">list-style-position</a></code>
property and is styled using the <code>::marker</code>
pseudo-element.
</p>


<h4 id="content-list-markers">List markers <a href="#content-list-markers" class="self-link"></a>
</h4>
<p>
The <code><a href="/doc/12/doc-refs/#prop-content">content</a></code> property can be applied to the <code>::marker</code>
pseudo-element to specify a custom marker for list items.
</p>

<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code language="css"><pre>li::marker { content: "No. " counter(list-item) }</pre></code>
</div>
</div>


  <h4 id="list-markers">List marker position <a href="#list-markers" class="self-link"></a>
</h4>
<p>
List markers are rendered outside the list item in the left
margin area by default.
If the CSS property <code><a href="/doc/12/doc-refs/#prop-list-style-position">list-style-position</a></code> has value
<code>inside</code>,
the marker is rendered as the first inline box inside the list item.
</p>

<div class="lists">
<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code language="css"><pre>ol {
    padding-left: 1cm;
    border: solid 2px darkgreen
}
li { border: solid 1px black }
li.inside { list-style-position: inside }
li.outside { list-style-position: outside }</pre></code>
</div>

<p class="label">Output</p>
<div class="output">
<ol class="position">
<li class="inside">
    This list item sets the <code><a href="/doc/12/doc-refs/#prop-list-style-position">list-style-position</a></code> to <code>inside</code>,
    so the list marker is rendered inside the principal box of <code>li</code>.
</li>
<li class="outside">
    This list item sets the <code><a href="/doc/12/doc-refs/#prop-list-style-position">list-style-position</a></code> to <code>outside</code>,
    so the list marker is rendered outside the principal box of <code>li</code>.
</li>
</ol>
</div>
<p class="comment">
When the marker position is <code>outside</code>,
it is rendered outside the <code>li</code> principal box.
If you want the marker to appear inside the principal box of
<code>ol</code>,
make sure to give <code>ol</code> enough left padding
or <code>li</code> enough left margin.
</p>
</div>
</div>



<h4 id="list-marker-type">List marker type <a href="#list-marker-type" class="self-link"></a>
</h4>
<p>
Different list marker types can be chosen by setting the
CSS property <code><a href="/doc/12/doc-refs/#prop-list-style-type">list-style-type</a></code> to different values:
<code>disc</code> | <code>hyphen</code> | <code>decimal</code> | <code>lower-alpha</code> | ...
</p>
<p>
The property <code><a href="/doc/12/doc-refs/#prop-list-style-type">list-style-type</a></code>
applies to list items and determines the type of marker that
they receive. The following table shows examples of some list
style types (a table with examples of all supported options for
ordered lists, see <a href="/doc/12/doc-prince/#counter-styles">Counter styles</a>).
</p>
<table class="grid">
<tr>
<td><code>decimal</code></td>
<td>1, 2, 3, ...</td>
</tr>
<tr>
<td><code>decimal-leading-zero</code></td>
<td>01, 02, 03, ... 09, 10, 11, ...</td>
</tr>
<tr>
<td>
<code>lower-alpha</code>, <code>lower-latin</code>
</td>
<td>a, b, c, ... z, aa, ab, ...</td>
</tr>
<tr>
<td>
<code>upper-alpha</code>, <code>upper-latin</code>
</td>
<td>A, B, C, ... Z, AA, AB, ...</td>
</tr>
<tr>
<td><code>lower-roman</code></td>
<td>i, ii, iii, iv, v, vi, ...</td>
</tr>
<tr>
<td><code>upper-roman</code></td>
<td>I, II, III, IV, V, VI, ...</td>
</tr>
<tr>
<td><code>asterisks</code></td>
<td>*, **, ***, ...</td>
</tr>
</table>

<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code language="css"><pre>li.upper-alpha { list-style-type: upper-alpha }
li.lower-roman { list-style-type: lower-roman }</pre></code>
</div>

<p class="label">Output</p>
<div class="output">
<ol>
<li class="upper-alpha">
    The marker type of this list item is upper-alpha.
</li>
<li class="lower-roman">
    The marker type of this list item is lower-roman.
</li>
</ol>
</div>

</div>




<h4 id="list-marker-style">List marker style <a href="#list-marker-style" class="self-link"></a>
</h4>

<p>
The list marker can also be replaced by an image by using the
<code><a href="/doc/12/doc-refs/#prop-list-style-image">list-style-image</a></code> property.
</p>

<p>
The shorthand property <code><a href="/doc/12/doc-refs/#prop-list-style">list-style</a></code> can be used to
set the three properties <code><a href="/doc/12/doc-refs/#prop-list-style-image">list-style-image</a></code>,
<code><a href="/doc/12/doc-refs/#prop-list-style-position">list-style-position</a></code> and
<code><a href="/doc/12/doc-refs/#prop-list-style-type">list-style-type</a></code> together.
</p>

<p>
Alternatively, the <code>::marker</code> pseudo-element can be used to style the
list item marker, giving full control over its content, width, alignment and so on.
</p>

<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code language="css"><pre>li::marker { width: 2.4cm }
li.left::marker { text-align: left }
li.center::marker { text-align: center }
li.right::marker { text-align: right }
li.text_marker::marker {
    content: "Number " counter(list-item)
}
li.image_marker::marker {
    content: url("../../image/prince.jpg")
}</pre></code>
</div>
<p class="label">Output</p>
<img src="/images/doc-latest/marker.png" alt="Marker example">
</div>




  <h3 id="tables">Tables <a href="#tables" class="self-link"></a>
</h3>


  <h4 id="table-auto-layout">Automatic table layout <a href="#table-auto-layout" class="self-link"></a>
</h4>

<p>
When the <i>automatic table layout</i> algorithm is used,
all contents of the table will be processed to determine
the table width and its column width.
</p>
<p>
The <i>automatic table layout</i> algorithm is used
in the following situations:
</p>
<ul>
<li>by default; or</li>
<li>when table <code><a href="/doc/12/doc-refs/#prop-table-layout">table-layout</a></code> property is
<code>auto</code>; or
</li>
<li>when table <code><a href="/doc/12/doc-refs/#prop-width">width</a></code> property is
<code>auto</code>, regardless of the
value of the <code><a href="/doc/12/doc-refs/#prop-table-layout">table-layout</a></code> property.
</li>
</ul>

<p>
The basic rules used by Prince can be summarized as follows:
</p>
<ul>
<li>
Uses all contents of a column to calculate its maximum and minimum
width.
The minimum width typically ensures that the column should be big
enough to hold the widest non-breakable unit (for example, a word or an image).
The maximum width typically ensures that the column should hold all cell
contents without breaking line (unless an explicit line break occurs).
</li>
<li>
If a calculated minimum or maximum column width is smaller than the
corresponding specified column width,
it will be replaced with the specified column width.
</li>
<li>
If table <code>width</code> has value <code>auto</code>,
and if the table fits in the container when using maximum column widths,
then maximum column widths will be used.
Otherwise, minimum column widths will be used,
but they will be adjusted, if the sum of them is smaller than the specified the
table width or the container width,
so that the table can take up as much space as possible.
</li>
</ul>



  <h4 id="table-fixed-layout">Fixed table layout <a href="#table-fixed-layout" class="self-link"></a>
</h4>
<p>
When the <i>fixed table layout</i> algorithm is used,
the table column widths are determined by their specified
widths or by the remaining space available, regardless of their
contents.
</p>
<p>
The <i>fixed table layout</i> algorithm is used in the following
situations:
</p>

<ul>
<li>
when the table <code><a href="/doc/12/doc-refs/#prop-table-layout">table-layout</a></code> property has a value
<code>fixed</code>,
and
</li>
<li>
the value of <code><a href="/doc/12/doc-refs/#prop-width">width</a></code> property is not
<code>auto</code>
</li>
</ul>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>table {
    table-layout: fixed;
    width: 90%
}</pre></code>
</div>
<p class="comment">
Note that if the <code><a href="/doc/12/doc-refs/#prop-width">width</a></code> property has value
<code>auto</code>
(which is the default value), the <code><a href="/doc/12/doc-refs/#prop-table-layout">table-layout</a></code> property
will be ignored and automatic table layout will be used instead.
</p>
</div>

<p>
The basic rules used by Prince are as follows:
</p>

<ul>
<li>
If a column has a specified width, then the specified width
is used as its minimum width.
</li>
<li>
For columns that do not have specified widths, the remaining space
(specified table width - sum of all the specified column widths) is
evenly divided among them as their minimum widths.
</li>
<li>
If the sum of all the minimum column widths is smaller than the
specified table width, they will be adjusted to eat up the remaining
space.
</li>
</ul>



  <h4 id="table-borders-seperate">Separated table borders <a href="#table-borders-seperate" class="self-link"></a>
</h4>
<p>
When the <code><a href="/doc/12/doc-refs/#prop-border-collapse">border-collapse</a></code> property is set to
<code>separate</code>,
a table can have separate borders around individual cells.
The space between table cell borders is determined by the value of its
<code><a href="/doc/12/doc-refs/#prop-border-spacing">border-spacing</a></code> property.
</p>

<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code langauge="CSS"><pre>table {
    border-collapse: separate;
    border-spacing: 5px;
    border: solid 3px black
}
td { border: solid 1px red }
td.dash-blue  { border: 2px dashed blue }
td.solid-green { border: 2px solid green }</pre></code>
</div>

<p class="label">Output</p>
<div class="output">
<table class="separate">
<tr>
    <td> A </td>
    <td> B </td>
    <td> C </td>
</tr>
<tr>
    <td> D </td>
    <td class="dash-blue"> E </td>
    <td class="solid-green"> F </td>
</tr>
<tr>
    <td> G </td>
    <td> H </td>
    <td> I </td>
</tr>
</table>
</div>

<p class="comment">
Note that by default,
the value of <code><a href="/doc/12/doc-refs/#prop-border-collapse">border-collapse</a></code> is
<code>separate</code>.
</p>
</div>




  <h4 id="table-border-collapse">Collapsing table borders <a href="#table-border-collapse" class="self-link"></a>
</h4>
<p>
When the CSS property <code><a href="/doc/12/doc-refs/#prop-border-collapse">border-collapse</a></code> is set to
<code>collapse</code>,
each edge of each cell resolves its final border style and border width
based on certain rules.
</p>

<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code language="css"><pre>table {
    border-collapse: collapse;
    border: solid 3px black
}
table td { border: solid 1px red }
td.dash-blue  { border: 2px dashed blue }
td.solid-green { border: 2px solid green }</pre></code>
</div>
<p class="label">Output</p>
<div class="output">
<table class="collapse">
<tr>
    <td> A </td>
    <td> B </td>
    <td> C </td>
</tr>
<tr>
    <td> D </td>
    <td class="dash-blue"> E </td>
    <td class="solid-green"> F </td>
</tr>
<tr>
    <td> G </td>
    <td> H </td>
    <td> I </td>
</tr>
</table>
</div>
<p class="comment">
Note that the <code><a href="/doc/12/doc-refs/#prop-border-spacing">border-spacing</a></code> property is not used
in the collapsing table border model.
</p>
</div>

<p>
The rules used by Prince for choosing the "winner" border are as follows:
</p>
<ul>
<li>
If a border has a border style of <code>hidden</code>,
it beats those with other border styles;
</li>
<li>
Otherwise, if a border has a border style of <code>none</code>, it
loses to those with other border styles;
</li>
<li>
Otherwise, if a border has thicker border width, it beats those with
thinner ones;
</li>
<li>
Otherwise, a border wins if its border style has higher precedence.
The precedence order is: <code>solid</code>,
<code>dashed</code> then <code>dotted</code>;
</li>
<li>
Otherwise, a border wins if it is set in a part that has higher
precedence.
The precedence order is: cell, row, row-group then table.
</li>
</ul>



  <h4 id="table-column-span">Cells that span columns <a href="#table-column-span" class="self-link"></a>
</h4>
<p>
Prince table cells that span multiple columns using the
<code><a href="/doc/12/doc-refs/#prop-table-column-span">table-column-span</a></code> CSS property, which
takes an integer value and is set to 1 by default.
</p>

<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code language="css"><pre>td.colspan2 { table-column-span: 2 }</pre></code>
</div>
<p class="label">XML</p>
<div class="programlisting">
<code language="doc"><pre>&lt;td class="colspan2"&gt; B &lt;/td&gt;</pre></code>
</div>

<p class="label">Output</p>
<div class="output">
<table class="colspan">
<tr>
<td>A</td> <td class="colspan2" colspan="2">B</td>
</tr>
<tr>
<td>C</td> <td>D</td> <td>E</td>
</tr>
</table>
</div>
</div>



  <h4 id="table-row-span">Cells that span rows <a href="#table-row-span" class="self-link"></a>
</h4>
<p>
Prince supports table cells that span multiple rows using the
<code><a href="/doc/12/doc-refs/#prop-table-row-span">table-row-span</a></code> CSS property, which takes
an integer value and is set to 1 by default.
</p>

<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code language="css"><pre>td.rowspan2 { table-row-span: 2 }</pre></code>
</div>
<p class="label">XML</p>
<div class="programlisting">
<code language="doc"><pre>&lt;td class="rowspan2"&gt; A &lt;/td&gt;</pre></code>
</div>
<p class="label">Output</p>
<div class="output">
<table class="rowspan">
<tr>
<td class="rowspan2" rowspan="2">A</td> <td>B</td> <td>C</td>
</tr>
<tr>
<td>D</td> <td>E</td>
</tr>
</table>
</div>
</div>



  <h4 id="tables-numbering-rows">Numbering table rows <a href="#tables-numbering-rows" class="self-link"></a>
</h4>

<p>
If you want to number table rows in a table,
but there are just too many rows to number by hand, or
if the document is dynamically generated and hand numbering
is impossible, CSS counters and generated content can help you out:
</p>

<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code langauge="CSS"><pre>table { counter-reset: row }
tr { counter-increment: row }
tr::before {
    content: counter(row);
    display: table-cell
}</pre></code>
</div>

<p class="label">HTML</p>
<div class="programlisting">
<code><pre>&lt;table&gt;
&lt;tr&gt;&lt;td&gt;The First Table Row&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;The Second Table Row&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;The Third Table Row&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;</pre></code>
</div>

<div class="output">
<p class="label">Output</p>
<table>
<tr>
<td class="counter">1</td>
<td>The First Table Row</td>
</tr>
<tr>
<td class="counter">2</td>
<td>The Second Table Row</td>
</tr>
<tr>
<td class="counter">3</td>
<td>The Third Table Row</td>
</tr>
</table>
</div>

<p class="comment">
As pseudo-elements only inherit inheritable properties
from the element they are attached, non-inheritable properties, such as
display and border properties, need to be explicitly set in the pseudo-elements.
</p>
</div>




  <h4 id="tables-running-headers-footers">Running table headers and footers <a href="#tables-running-headers-footers" class="self-link"></a>
</h4>
<p>
When a table spans across more than one page, it might be desirable to
have a "running" table header and footer so that they can be carried on to
all the subsequent pages on which the table appears.
</p>

<div class="example">
<p class="label">HTML</p>
<div class="programlisting">
<code language="HTML"><pre>&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt; &lt;td&gt;Name&lt;/td&gt; &lt;td&gt;Mark&lt;/td&gt; &lt;td&gt;Grade&lt;/td&gt; &lt;/tr&gt;
 &lt;/thead&gt;
 &lt;tr&gt; &lt;td&gt;Xuehong&lt;/td&gt; &lt;td&gt;95&lt;/td&gt; &lt;td&gt;H1&lt;/td&gt; &lt;/tr&gt;
 <span class="comment">&lt;!-- other rows for other students --&gt;</span>
 &lt;tfoot&gt;
  &lt;tr&gt; &lt;td&gt;Name&lt;/td&gt; &lt;td&gt;Mark&lt;/td&gt; &lt;td&gt;Grade&lt;/td&gt; &lt;/tr&gt;
 &lt;/tfoot&gt;
&lt;/table&gt;</pre></code>

</div>
<p class="comment">
Rows inside the <code>thead</code> element are used as a running table header.
Rows inside the <code>tfoot</code> element are used as a running table footer.
</p>
</div>

<p>
See also <a href="/doc/12/doc-prince/#long-tables">Long Tables</a>.
</p>


   <h4 id="tables-caption">Table captions <a href="#tables-caption" class="self-link"></a>
</h4>

<p>
Tables can also be provided with a table caption by using the <code>caption</code>
HTML element, or by styling an arbitrary element with
<code><a href="/doc/12/doc-refs/#prop-display">display</a>: table-caption</code> to be made to behave like
<code>caption</code> elements.  The caption is positioned above the table by
default, but it can be moved to the bottom with the
<code><a href="/doc/12/doc-refs/#prop-caption-side">caption-side</a></code> property.
</p>

<p>
When a table spans across more than one page, the <code><a href="/doc/12/doc-refs/#prop-prince-caption-page">prince-caption-page</a></code>
property determines whether table captions will be displayed on the first page of
a table, or only on the following pages, or repeated on every page that a table
appears on.  See also <a href="/doc/12/doc-prince/#fancy-table-captions">Fancy Table Captions</a>.
</p>





  <h3 id="columns">Columns <a href="#columns" class="self-link"></a>
</h3>

  <p>Reading long lines of text can be difficult - multiple columns have been used
  in print for a very long time.  CSS allows for clean styling in multiple columns
  with the help of several properties.</p>

  <p>The <code><a href="/doc/12/doc-refs/#prop-column-count">column-count</a></code> property specifies the number of columns for the
  selected element - the column width will be calculated automatically.  Alternatively,
  you can define the (optimal) width of a column with the <code><a href="/doc/12/doc-refs/#prop-column-width">column-width</a></code>
  property, and the number of columns will be defined automatically.  Note that Prince might
  make small adjustments to the actual width in order to use the available space at
  its best.  Both values can also be set simultaneously with the shorthand <code><a href="/doc/12/doc-refs/#prop-columns">columns</a></code>
  property.</p>

  <div class="example">
  <div class="programlisting">
  <code language="CSS"><pre>p {
    <a href="/doc/12/doc-refs/#prop-column-count">column-count</a>: 3;
}</pre></code>
  </div>
  </div>

  <p>The height of the columns is balanced by default, and the text is distributed
  to the available columns so that the height of the content in each column is approximately
  equal.  In some situations it might be desirable to explicitly determine the height
  of the columns, creating as many columns as necessary.  This is achieved by setting
  the <code><a href="/doc/12/doc-refs/#prop-height">height</a></code> or <code><a href="/doc/12/doc-refs/#prop-max-height">max-height</a></code>
  properties on a multi-column block.</p>

  <p>With the <code><a href="/doc/12/doc-refs/#prop-column-gap">column-gap</a></code> property the distance between columns can be
  styled and the <code><a href="/doc/12/doc-refs/#prop-column-rule">column-rule</a></code> property allows the addition of a line
  between columns - this is similar to using <code><a href="/doc/12/doc-refs/#prop-border-left">border-left</a></code> or
  <code><a href="/doc/12/doc-refs/#prop-border-right">border-right</a></code> properties.</p>

  <div class="example">
  <div class="programlisting">
  <code language="CSS"><pre>p {
    <a href="/doc/12/doc-refs/#prop-column-gap">column-gap</a>: 2em;
    <a href="/doc/12/doc-refs/#prop-column-rule">column-rule</a>: red dotted thin;
}</pre></code>
  </div>
  </div>

  <p>The <code><a href="/doc/12/doc-refs/#prop-column-fill">column-fill</a></code> property determines how the content is distributed
  to fill various columns: the property can be set to <code>auto</code>, filling the
  columns sequentially, or <code>balance</code>, dividing the content in equal ways
  between the columns.</p>

  <p>When content is laid out in multiple columns, Prince can determine where column
  breaks are placed in a similar way to breaking content into pages.  Use the
  properties <code><a href="/doc/12/doc-refs/#prop-break-before">break-before</a></code> and <code><a href="/doc/12/doc-refs/#prop-break-after">break-after</a></code>
  with the value <code>column</code> to fine tune this behavior.</p>

  <p class="note">Prince also supports the properties <code><a href="/doc/12/doc-refs/#prop-column-break-before">column-break-before</a></code>
  and <code><a href="/doc/12/doc-refs/#prop-column-break-after">column-break-after</a></code>.  However, you are encouraged
  to use the newer properties <code><a href="/doc/12/doc-refs/#prop-break-before">break-before</a></code>,
  <code><a href="/doc/12/doc-refs/#prop-break-after">break-after</a></code> with the keyword <code>column</code>
  from the CSS Fragmentation Module Level 3.
  </p>

  <p>If an element is to break the flow and span several columns, the property
  <code><a href="/doc/12/doc-refs/#prop-column-span">column-span</a></code> helps to achieve this.  For
  floated elements (see <a href="/doc/12/doc-prince/#floats">Floats</a>) a numeric value tells Prince how
  many columns the element should span. For non-floated elements that are part of
  the regular flow of the document, only the keyword <code>all</code> can be used.</p>

  <p>The following example instructs Prince to make the <code>h1</code> heading element
  span all the columns:</p>

  <div class="example">
  <div class="programlisting">
  <code language="CSS"><pre>body {
    <a href="/doc/12/doc-refs/#prop-column-count">column-count</a>: 3;
}
h1 {
    <a href="/doc/12/doc-refs/#prop-column-span">column-span</a>: all;
}</pre></code>
  </div>
  </div>

  <p>Prince features also several column-specific extensions to the
  <code><a href="/doc/12/doc-refs/#prop-float">float</a></code> property, namely
  <a href="/doc/12/doc-prince/#float-extension-page-column">Page and column floats</a> and
  <a href="/doc/12/doc-prince/#float-extension-footnotes">Page and column footnotes</a>.</p>



  <h3 id="floats">Floats <a href="#floats" class="self-link"></a>
</h3>

  <p>When printed texts contain images, the text is usually laid out to wrap around those
  images. To accomplish the same with CSS, the images are floated - either to the
  left or right of text, or at times even to the top or to the bottom of a column. The <code><a href="/doc/12/doc-refs/#prop-float">float</a></code>
  property does just this - it floats an element, allowing the content of other elements
  to flow around it.</p>

  <div class="example">
  <div class="programlisting">
  <code language="CSS"><pre>img {
    <a href="/doc/12/doc-refs/#prop-float">float</a>: right;
}</pre></code>
  </div>
  </div>

  <p>The property <code><a href="/doc/12/doc-refs/#prop-clear">clear</a></code> can be considered the float's sister property:
  an element that has the <code><a href="/doc/12/doc-refs/#prop-clear">clear</a></code> property set on it will not move up,
  next to the floated element, like the float is asking for.  Instead, it will move
  down after the float.</p>

  <p>Prince extends the traditional behavior of floats with a few features that
  have been ubiquitous in printing for a long time.</p>


  <h4 id="float-extensions">Prince extensions to floats <a href="#float-extensions" class="self-link"></a>
</h4>

  <p>Traditionally, floats move in the inline direction, left or right.  Prince extends
  this behavior with page floats that move in the block direction, specifying that
  an element should be floated to the top or to the bottom of a page,
  and with column floats that move the float to the nearest edge of
  the column in a multi-column layout, with optional column spanning
  of the float.</p>

  <p>This allows for more flexible layout options that meet the needs
  of formatting documents for print.</p>

  <h5 id="float-extension-page-column">Page and column floats <a href="#float-extension-page-column" class="self-link"></a>
</h5>

  <p>When giving the <code><a href="/doc/12/doc-refs/#prop-float">float</a></code> property the value <code>top</code> or
  <code>bottom</code>, the element will be floated to, respectively, the top or the
  bottom of the page. The values <code>column-top</code> and <code>column-bottom</code>
  float the element to the top or bottom of the column it appears in, while <code>column-top-corner</code>
  and <code>column-bottom-corner</code> float the element to the top or bottom of
  the last column, rather than its natural column.  These can be useful if you wanted
  to create a magazine-style layout, floating an image to the right-hand corner of
  the current multi-column layout.</p>

  <div class="example">
  <div class="programlisting">
  <code language="CSS"><pre>img {
    <a href="/doc/12/doc-refs/#prop-float">float</a>: column-top-corner;
}</pre></code>
  </div>
  </div>

  <p>A floated element can span several columns with the help of the <code><a href="/doc/12/doc-refs/#prop-column-span">column-span</a></code>
  property (see <a href="/doc/12/doc-prince/#columns">Columns</a>). The following example instructs Prince to
  make the image span two columns:</p>

  <div class="example">
  <div class="programlisting">
  <code language="CSS"><pre>img {
    <a href="/doc/12/doc-refs/#prop-float">float</a>: column-top-corner;
    <a href="/doc/12/doc-refs/#prop-column-span">column-span</a>: 2;
}</pre></code>
  </div>
  </div>

  <p>The value <code>prince-snap</code> instructs Prince to float the image to the
  nearest "end", i.e. to the top or bottom of the page, or of the column in the case
  of a multi-column layout.</p>

  <div class="example">
  <div class="programlisting">
  <code language="CSS"><pre>img {
    <a href="/doc/12/doc-refs/#prop-float">float</a>: prince-snap;
}</pre></code>
  </div>
  </div>

  <h5 id="float-extension-spread">Spread floats <a href="#float-extension-spread" class="self-link"></a>
</h5>

  <p>In print one typically has to deal with left facing and right facing pages, together
  forming a spread. To take this into account when placing an element, Prince extends
  the <code><a href="/doc/12/doc-refs/#prop-float">float</a></code> property with the values <code>inside</code> and <code>outside</code>,
  moving the element respectively to the inside or outside of a spread.</p>

  <p>If the <code>inside</code> and <code>outside</code> values are used in a multi-column
  layout, the element is floated to the inside or outside of the column it appears
  in its natural flow.</p>

  <h5 id="float-extension-footnotes">Page and column footnotes <a href="#float-extension-footnotes" class="self-link"></a>
</h5>

  <p>The value <code>footnote</code> transforms the element into a footnote: it creates
  a footnote call in the place where it appears in its natural flow, and moves the
  element to the bottom of the page. The footnote marker is placed outside of the
  block of the footnote. With the value <code>inline-footnote</code>, the footnote
  marker is placed inside of the block of the footnote. Two additional values, namely
  <code>prince-column-footnote</code> and <code>prince-column-inline-footnote</code>
  behave in an analogous way, but move the footnote not to the bottom of the page,
  but to the bottom of its column instead.  See also <a href="/doc/12/doc-prince/#footnotes">Footnotes</a>.</p>

  <h5 id="float-extension-conditionals">Conditional modifiers <a href="#float-extension-conditionals" class="self-link"></a>
</h5>

  <p>Prince also takes the additional modifier <code>next</code>.  In a multi-column
  layout, this defers the float to the next column, otherwise it defers the float
  to the next page.</p>

  <div class="example">
  <div class="programlisting">
  <code language="CSS"><pre>img {
    <a href="/doc/12/doc-refs/#prop-float">float</a>: column-top next;
}</pre></code>
  </div>
  </div>

  <p>The optional modifier <code>unless-fit</code> is to be used in combination with
  other float instructions, and expresses a conditional: the element is only floated
  if it would otherwise cause a page or column break.  For example, If you have a
  large image that happens to occur at the end of the page, it could force a page
  break and leave a gap at the end of the previous page. So you could float the image
  <code>top unless-fit</code>, which would move it to the top of the next page <em>unless
  it fits on the current page without causing a break and leaving a gap</em>:</p>

  <div class="example">
  <div class="programlisting">
  <code language="CSS"><pre>img {
    <a href="/doc/12/doc-refs/#prop-float">float</a>: top unless-fit;
}</pre></code>
  </div>
  </div>

  




  <h3 id="footnotes">Footnotes <a href="#footnotes" class="self-link"></a>
</h3>

<p>
Prince supports footnotes using the <code><a href="/doc/12/doc-refs/#prop-float">float</a></code> property.
If an element has the property <var>float: footnote</var> then it will be
floated into the footnote area of the page and a reference will be placed in
the text.
</p>
<p>
This example shows some simple footnotes, the <var>fn</var>
class is used to create footnotes:
</p>

<div class="example">
<div class="figure-float-right" id="fig-footnotes">
  <div class="title">
    Footnotes example
  </div>
  <img src="/images/doc-latest/footnotes.png" width="428" height="157" alt="Footnotes example">
  <div class="caption">
    Footnotes example
  </div>
</div>

<p class="label">CSS</p>
<div class="programlisting">
<code language="CSS"><pre>.fn {
    <a href="/doc/12/doc-refs/#prop-float">float</a>: footnote
}</pre></code>
</div>
<p class="label">HTML</p>
<div class="programlisting">
<code language="HTML"><pre>&lt;p&gt;
Footnotes&lt;span class="fn"&gt;A footnote is a note placed at
the bottom of a page of a book or manuscript that comments on or
cites a reference for a designated part of the text.&lt;/span&gt;
are essential in printed documents and Prince knows how to generate
them. Most readers will read the footnotes before they read the text
from where the footnotes are anchored&lt;span class="fn"&gt;Often,
the most interesting information is found in the footnotes.&lt;/span&gt;.
&lt;/p&gt;</pre></code>
</div>
</div>


<p>
Each footnote implicitly increments the <i>footnote</i> counter
which is used to number the footnotes.
The footnote counter can be reset at each new page, section or chapter
as necessary.
This example resets the counter on each new page.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>@page {
    <a href="/doc/12/doc-refs/#prop-counter-reset">counter-reset</a>: footnote
}</pre></code>
</div>
</div>


<h4 id="footnote-calls">Footnote calls <a href="#footnote-calls" class="self-link"></a>
</h4>

<p>
Footnote calls are the numeric anchors in the text that refer to the
footnotes.
Prince will generate footnote calls using the <code>::footnote-call</code>
pseudo-element.
This is the default style for footnote calls:
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>*::footnote-call {
    <a href="/doc/12/doc-refs/#prop-content">content</a>: counter(footnote);
    <a href="/doc/12/doc-refs/#prop-font-size">font-size</a>: 83%;
    <a href="/doc/12/doc-refs/#prop-vertical-align">vertical-align</a>: super;
    <a href="/doc/12/doc-refs/#prop-line-height">line-height</a>: none
}</pre></code>
</div>
<p class="comment">
This will display the current value of the
footnote counter in a superscript position in a slightly smaller font than
the main text.
The <code><a href="/doc/12/doc-refs/#prop-line-height">line-height</a></code> declaration ensures that the superscript
position of the footnote does not affect the line height of the main text.
</p>
</div>

<p>
The footnote call style can be customized to use different fonts or colors.
It can even be customized to include different content, such
as placing the footnote counter in brackets rather than making it superscript.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>*::footnote-call {
    <a href="/doc/12/doc-refs/#prop-content">content</a>: "[" counter(footnote) "]";
    <a href="/doc/12/doc-refs/#prop-font-size">font-size</a>: inherit;
    <a href="/doc/12/doc-refs/#prop-vertical-align">vertical-align</a>: inherit;
}</pre></code>
</div>
<p class="comment">
This rule will generate footnote calls with the number of the footnote in
brackets, like this: [1], [2], [3].
</p>
</div>




<h4 id="footnote-markers">Footnote markers <a href="#footnote-markers" class="self-link"></a>
</h4>

<p>
Prince automatically generates footnote markers, the numeric markers placed
in front of the footnote text.
Footnote markers are similar to the markers added to
list items (see <a href="/doc/12/doc-prince/#lists">Lists</a>)
in most respects, and can be styled in a similar fashion
using the <code>::footnote-marker</code> pseudo-element:
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>*::footnote-marker {
    <a href="/doc/12/doc-refs/#prop-font-weight">font-weight</a>: bold
}</pre></code>
</div>
<p class="comment">
This rule will generate footnote markers with a bold font.
</p>
</div>

<p>
Footnote markers are rendered outside the footnote in the left
margin area by default.
If the CSS property <code><a href="/doc/12/doc-refs/#prop-footnote-style-position">footnote-style-position</a></code>
has value <code>inside</code>,
the marker is rendered as the first inline box inside the footnote.
This property is similar to the
<code><a href="/doc/12/doc-refs/#prop-list-style-position">list-style-position</a></code>
property that applies to list markers (see <a href="/doc/12/doc-prince/#lists">Lists</a>).
</p>



<h4 id="footnotes-styling">Styling and behavior of footnotes <a href="#footnotes-styling" class="self-link"></a>
</h4>

<p>
Footnotes are placed within the <code>@footnote</code> area of the page
(see <a href="/doc/12/doc-prince/#page-regions">Page regions</a>), which can be styled within
<a href="/doc/12/doc-refs/#at-page"><code>@page</code></a> rules.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>@page {
    @footnote {
        <a href="/doc/12/doc-refs/#prop-border-top">border-top</a>: solid black thin;
        <a href="/doc/12/doc-refs/#prop-padding-top">padding-top</a>: 8pt
    }
}</pre></code>
</div>
<p class="comment">
This rule adds a border and some padding to the top of the footnotes area.
</p>
</div>

<p class="note">
If there are no footnotes on a page, the footnotes area will not be displayed
on that page at all.
</p>

<p>
By default, the <code>@footnote</code> area is at the bottom of the page.
However, Prince allows to position the area in different places, effectively
offering a mechanism to create simple sidenotes (see <a href="/doc/12/doc-prince/#sidenotes">Sidenotes</a>).
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>@page {
    @footnote {
        <a href="/doc/12/doc-refs/#prop-position">position</a>: absolute;
        <a href="/doc/12/doc-refs/#prop-left">left</a>: 10px;
    }
}</pre></code>
</div>
<p class="comment">
This rule moves the footnotes area to the left side of a page.
</p>
</div>

<p>
Footnotes are created with the <code><a href="/doc/12/doc-refs/#prop-float">float</a></code> property
(see also <a href="/doc/12/doc-prince/#floats">Floats</a>):  an element can be removed from the normal
flow of the document by styling it with the <code>footnote</code> value.  This
creates a footnote call in the place where the element would be in its natural
flow, and moves the element's content to the bottom of the page. The footnote
marker is rendered outside the footnote in the left margin area, and the footnote
is displayed as a block element.
</p>

<p>
The property <code><a href="/doc/12/doc-refs/#prop-footnote-display">footnote-display</a></code> can be used to change
the default display of footnotes: besides the default <code>block</code> display,
they can be also treated as <code>inline</code> elements.  The value <code>compact</code>
leaves it up to Prince to determine whether to display the footnote as a block
or inline element: if two or more footnotes fit on one line, they will be treated
as inline elements to take up less space.
</p>

<p class="note">
Making a footnote into an inline element moves the footnote marker
into the footnote box as the first inline box inside the footnote.
</p>

<p>
The <code><a href="/doc/12/doc-refs/#prop-float">float</a></code> property offers also the value
<code>inline-footnote</code>, which is another mechanism to transform the
footnote into an inline element.
</p>

<p>
In a multi-column layout, footnotes can be rendered at the bottom of the page as
normal footnotes, or alternatively at the bottom of each column by using the values
<code>prince-column-footnote</code> or <code>prince-column-inline-footnote</code>
for the <code><a href="/doc/12/doc-refs/#prop-float">float</a></code> property.  See also <a href="/doc/12/doc-prince/#float-extensions">Prince extensions to floats</a>.
</p>

<p>
In some situations it might happen that footnotes do not fit on the page on which
the footnote call was placed. It might be desirable to tie the footnote to the same
page as the call - the <code><a href="/doc/12/doc-refs/#prop-prince-footnote-policy">prince-footnote-policy</a></code> can be of help. The
following example instructs Prince to move the line with the footnote call to the
next page, in order to keep it on the same page as the footnote itself:
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>p {
  prince-footnote-policy: keep-with-line;
}</pre></code>
</div>
</div>

<p>
Alternatively, the value <code>keep-with-block</code> moves the entire paragraph to
the next page.
</p>

<p class="note">
This property must be applied to the paragraph in which the footnote occurs,
not to the footnote element itself.
</p>



  <h3 id="flexbox">Flex Layout <a href="#flexbox" class="self-link"></a>
</h3>

  <p>Flex layout is a layout model similar to the block layout.  It lacks
  <a href="/doc/12/doc-prince/#columns">Columns</a> and <a href="/doc/12/doc-prince/#floats">Floats</a> but gains
  powerful possibilities to distribute space and align content in a
  more flexible way.  The content of a flex container can alter its
  height and width to best fill the available space, it can be easily
  aligned even if the size is unknown or dynamic, and most importantly
  it can be laid out in any direction, as opposed to the traditional
  layout models that would either be vertically-based (block layout)
  or horizontally-based (inline layout).</p>

  <p>Prince supports the Flex specification fully, the main
  limitation currently being page breaks.</p>

  <p>In Flex layout some properties apply to the parent element,
  i.e. to the flex container, while others apply to the children, or
  flex items.</p>

  <h4 id="flex-containers">Flex Containers <a href="#flex-containers" class="self-link"></a>
</h4>

  <p>To use the flex layout, flex needs to be enabled on the parent
  element to create the flex container by defining
  the <code>flex</code> value for
  the  <code><a href="/doc/12/doc-refs/#prop-display">display</a></code> property.</p>

  <div class="example">
  <div class="programlisting">
  <code language="CSS"><pre>.flexcontainer {
    <a href="/doc/12/doc-refs/#prop-display">display</a>: flex;
}</pre></code>
  </div>
  </div>

  <p>Next, the direction of the flex layout can be defined by means of
  the <code><a href="/doc/12/doc-refs/#prop-flex-direction">flex-direction</a></code> property: rightwards,
  leftwards, downwards, or even upwards!  With the <code><a href="/doc/12/doc-refs/#prop-flex-wrap">flex-wrap</a></code> property the wrapping of the flex container is
  controlled - the default is to try to arrange all items on one line.  The
  shorthand property <code><a href="/doc/12/doc-refs/#prop-flex-flow">flex-flow</a></code> can be used
  to define <code><a href="/doc/12/doc-refs/#prop-flex-direction">flex-direction</a></code> and
  <code><a href="/doc/12/doc-refs/#prop-flex-wrap">flex-wrap</a></code> together.</p>

  <div class="example">
  <div class="programlisting">
  <code language="CSS"><pre>.flexcontainer {
    <a href="/doc/12/doc-refs/#prop-display">display</a>: flex;
    <a href="/doc/12/doc-refs/#prop-flex-flow">flex-flow</a>: row wrap;
}</pre></code>
  </div>
  </div>

  <p>The property <code><a href="/doc/12/doc-refs/#prop-justify-content">justify-content</a></code>
  defines the alignment of the content along the main axis - extra
  free space can be distributed in various ways after or before the
  content, or in specific ways between the flex items.  The alignment
  along the cross axis is controlled with
  the <code><a href="/doc/12/doc-refs/#prop-align-items">align-items</a></code> property.  In case
  there are multiple item lines in a flex container, the alignment of
  the lines can be controlled with
  the <code><a href="/doc/12/doc-refs/#prop-align-content">align-content</a></code> property.  If
  there is only one line, the property has no effect.</p>

  <h4 id="flex-items">Flex Items <a href="#flex-items" class="self-link"></a>
</h4>

  <p>By default, items are placed in the source order inside a flex
  container, but with the <code><a href="/doc/12/doc-refs/#prop-order">order</a></code>
  property it can be modified!</p>

  <div class="example">
  <div class="programlisting">
  <code language="CSS"><pre>.flexitem1 {
    <a href="/doc/12/doc-refs/#prop-order">order</a>: 2;
}
.flexitem2 {
    <a href="/doc/12/doc-refs/#prop-order">order</a>: 1;
}
.flexitem3 {
    <a href="/doc/12/doc-refs/#prop-order">order</a>: 3;
}</pre></code>
  </div>
  </div>

  <p>The <code><a href="/doc/12/doc-refs/#prop-flex-grow">flex-grow</a></code> property defines the
  proportion by which a flex item can grow, if necessary,
  while <code><a href="/doc/12/doc-refs/#prop-flex-shrink">flex-shrink</a></code> defines the
  proportion by which an item can shrink.
  The <code><a href="/doc/12/doc-refs/#prop-flex-basis">flex-basis</a></code> property defines the
  default size of an element, before the remaining space is
  distributed.  However, it is recommended to use the shorthand
  property <code><a href="/doc/12/doc-refs/#prop-flex">flex</a></code> instead - the value
  for the <code><a href="/doc/12/doc-refs/#prop-flex-grow">flex-grow</a></code> is mandatory, the
  other properties are automatically set in an intelligent way.</p>

  <div class="example">
  <div class="programlisting">
  <code language="CSS"><pre>.flexitem {
    <a href="/doc/12/doc-refs/#prop-flex">flex</a>: 2;
}</pre></code>
  </div>
  </div>

  <p>Finally, the property <code><a href="/doc/12/doc-refs/#prop-align-self">align-self</a></code>
  allows the default alignment specified with
  the <code><a href="/doc/12/doc-refs/#prop-align-items">align-items</a></code> property to be
  overridden for individual flex items.</p>

  <p>It is important to know that margins of flex items behave in a slightly
  special way: margins of adjacent flex items do not collapse, and using
  the keyword <code>auto</code> for the margins of a flex item will
  automatically distribute the available space equally around the item -
  and it will be centered in both axis!</p>

  <p>Please notice that percentage values of margins and paddings of flex items
  are resolved by Prince against the inline axis, i.e. left/right/top/bottom
  percentages all resolve against width.</p>


  <h2 id="paged">Paged Media <a href="#paged" class="self-link"></a>
</h2>

<p>
Prince produces PDFs - which are a prominent example of paged media.  There are a
few differences that are crucial to keep in mind when preparing a document for
paged media intended for print:
</p>

<dl>
  <dt>Pagination</dt>
  <dd><p>The major difference between formatting for the web and for PDF/Print is that
  PDF is paginated, i.e. the content is placed on discrete pages.  Pages have a defined
  <a href="/doc/12/doc-prince/#page-size">size</a> and content can be laid out in a specific
  pattern making use of predefined <a href="/doc/12/doc-prince/#page-regions">page regions</a>.
  Elements can not only be floated right and left, but they can also be floated to
  the top and bottom of the page, or of a column, or the float even can be
  deferred to the next page (see <a href="/doc/12/doc-prince/#float-extensions">Prince extensions to floats</a>).  Pages can be
  <a href="/doc/12/doc-prince/#page-rules">selected</a> and
  <a href="/doc/12/doc-prince/#named-pages">named</a>, which allows for specific treatment of
  certain pages.  Also, it is important to have an understanding of
  <a href="/doc/12/doc-prince/#controlling-pagination">pagination</a>: content might not fit
  on a page and might spill over into the next page, or it might be necessary
  to move it to the next page in order to avoid creating gaps (see
  also <a href="/doc/12/doc-prince/#float-extension-conditionals">Conditional modifiers</a>).</p></dd>

  <dt>Page spreads</dt>
  <dd><p>A basic unit for paged media in print is the page spread: the left page, called
  <i>verso</i> in a left-to-right script (see <a href="/doc/12/doc-prince/#writing-mode">Writing Mode</a>), and
  the right page, called <i>recto</i>, are of the same size and typically are
  symmetrical to each other and are centered on the gutter.  Selected and named
  pages can be placed <i>recto</i> or <i>verso</i>, and Prince expands several
  properties and the <a href="/doc/12/doc-refs/#at-page"><code>@page</code></a>
  at-rule pseudo-classes with the values <code>verso</code> and <code>recto</code>, or
  <code>inside</code> and <code>outside</code>, referring to the layout on each
  page of the spread.</p></dd>

  <dt>Non-interactive</dt>
  <dd><p>Last but not least, paged media intended for print is non-interactive by nature.
  All CSS properties referring to user interaction make no sense, scripting cannot
  be interactive and scripts need to run before layout is finished.  But for these
  details and scripting after layout please check the section on <a href="/doc/12/doc-prince/#js-print">JavaScript in Printed Media</a>.</p></dd>
</dl>

<p>
Prince allows you to control a number of options that affect how to format
pages, from straight-forward options such as <a href="/doc/12/doc-prince/#page-size">page size</a>,
to <a href="/doc/12/doc-prince/#page-style">page style</a>, <a href="/doc/12/doc-prince/#page-regions">page
regions</a> like headers and footers, <a href="/doc/12/doc-prince/#controlling-pagination">pagination
control</a> and <a href="/doc/12/doc-prince/#counters">page numbering</a>.
</p>

<p>
CSS properties that affect pages are specified within
page <i>at-rules</i> (see <a href="/doc/12/doc-refs/#css-atrules">CSS At-rules</a>).
For example, we can use the <a href="/doc/12/doc-refs/#prop-size">size</a> property within the
<a href="/doc/12/doc-refs/#at-page"><code>@page</code></a> rule to
specify the page size (see <a href="/doc/12/doc-prince/#page-size">Page size</a>).
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>@page {
    <a href="/doc/12/doc-refs/#prop-size">size</a>: A4
}</pre></code>
</div>
</div>

<p>
In this section we will show most of the properties that can be specified
within a page rule,
then we will show how pagination can be controlled and how page styles can
be applied to selected pages.
</p>

<h3 id="page-size">Page size <a href="#page-size" class="self-link"></a>
</h3>

<p>
Page size can be specified using the <code><a href="/doc/12/doc-refs/#prop-size">size</a></code>
property in <i>length</i> units or by a page size keyword (see
<a href="/doc/12/doc-refs/#page-size-keywords">Page Size Keywords</a> for a list), optionally combined with
the <code>portrait</code> or <code>landscape</code> keyword.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>/* Use A4 paper */
@page { <a href="/doc/12/doc-refs/#prop-size">size</a>: A4 }

/* Use A4 paper in landscape orientation */
@page { size: A4 landscape }

/* These two custom sizes are equivalent */
@page { size: 30cm 40cm }
@page { size: 40cm 30cm landscape }

/* Use square paper, this sets width and height */
@page { size: 30cm }</pre></code>
</div>
</div>

<p>
Sometimes it can be useful to specify the page dimensions in pixels,
for example when creating presentation slides (see <a href="/doc/12/doc-prince/#presentation-slides">Presentation slides</a>).
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>@page {
    <a href="/doc/12/doc-refs/#prop-size">size</a>: 1280px 960px;
}</pre></code>
</div>
</div>



  <h3 id="page-style">Page style <a href="#page-style" class="self-link"></a>
</h3>

<p>
Pages, like other block level elements, follow the CSS box model
introduced in <a href="/doc/12/doc-prince/#css-box">Box Model</a>.  Their <code><a href="/doc/12/doc-refs/#prop-margin">margin</a></code>,
<code><a href="/doc/12/doc-refs/#prop-border">border</a></code>, <code><a href="/doc/12/doc-refs/#prop-padding">padding</a></code>
and <code><a href="/doc/12/doc-refs/#prop-background">background</a></code> can be styled within
<a href="/doc/12/doc-refs/#at-page"><code>@page</code></a> rules.
</p>

<p class="note">
The <a href="/doc/12/doc-refs/#at-page"><code>@page</code></a>
rules can only style the page and its margin boxes - it cannot contain
style rules to target specific elements, but it can contain at-rules
to target the page regions (for a complete list of possible at-rules,
see <a href="/doc/12/doc-prince/#page-regions">Page regions</a>).
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>
@page {
    <a href="/doc/12/doc-refs/#prop-margin">margin</a>: 2cm;
}
</pre></code>
</div>
</div>

<p>
Prince also supports the <code>margin-outside</code> and
<code>margin-inside</code> properties.  These allow you to specify different
margins for the inside and outside edges of paper as it is bound into a book.
For example it may be necessary to have a larger inside margin (called a
<i>gutter</i>) so that after some of the margin is used by the binding, the
remaining margins are even.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>@page {
    <a href="/doc/12/doc-refs/#prop-margin">margin</a>: 2cm;
    <a href="/doc/12/doc-refs/#prop-margin-inside">margin-inside</a>: 3cm;
}</pre></code>
</div>
</div>

<p>
  This is used in <a href="/doc/12/doc-prince/#fig-fancyheader">Fancy headers</a>.
</p>


  <h3 id="page-regions">Page regions <a href="#page-regions" class="self-link"></a>
</h3>

<div class="figure-float-right" id="fig-marginboxes">
  <div class="title">
    Page regions
  </div>
  <img src="/images/doc-latest/marginboxes-1.colour.png" alt="A page with content in some of its page regions.">
  <div class="caption">
    A page with content in some of its page regions.
  </div>
</div>

<p>
Most content appears inside the <i>page area</i> of one or more pages.
Surrounding the page area, but within the margin area, are the <i>page-margin
boxes</i>.  Other special areas are overlaying the whole page or are placed
at the bottom of the <i>page area</i>.  Collectively, they are known as the
<i>page regions</i>.
</p>

<p>
This figure shows the positions of some page regions placed in the page margin,
called the <i>page-margin boxes</i>.  Some of them can be used for creating
running page headers and footers.
</p>

<p>
The <a href="/doc/12/doc-refs/#at-page"><code>@page</code></a>
background is <span class="fig-marginboxes-lightgrey">grey</span> and the
<var>body</var>'s, i.e. the page area's background is
<span class="fig-marginboxes-white">white</span>.
</p>

<p>
The first four page-margin boxes, namely
</p>
<ul>
  <li>
<code>@top</code>,</li>
  <li>
<code>@bottom</code>,</li>
  <li>
<code>@left</code> and</li>
  <li><code>@right</code></li>
</ul>
<p>
are easy to understand and are shown in <span class="fig-marginboxes-yellow">yellow</span>
and <span class="fig-marginboxes-red">red</span>.
</p>
<p>
Each of these page-margin boxes has a synonym ending in <code>-center</code>
or <code>-middle</code> - for instance <code>@top-center</code> is the same
as <code>@top</code>, while <code>@left-middle</code> is the same as <code>@left</code>.
</p>
<p>
You can place content in a page-margin box with the <code><a href="/doc/12/doc-refs/#prop-content">content</a></code>
property.
</p>
<p>
For example, you can print the current page number at the bottom of each
page (see <a href="/doc/12/doc-prince/#gen-content">Generated Content</a>):
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>@page {
    @bottom {
        <a href="/doc/12/doc-refs/#prop-content">content</a>: counter(page)
    }
}</pre></code>
</div>
</div>

<p>
Two examples in <a href="/doc/12/doc-prince/#page-rules">the next chapter</a> show examples
of page headers and footers:
</p>

<ul>
  <li>
    the <a href="/doc/12/doc-prince/#fig-titlepage">Novel title page example</a> creates a footer to display the
    page number, but suppresses it for the title page; and
  </li>
  <li>
    the <a href="/doc/12/doc-prince/#fig-textbook">Textbook page numbers example</a> displays a more complex use of headers
    by placing the book title in the header of left pages, and the current
    chapter's title in the header of right-facing pages, in addition to the page
    number.
  </li>
</ul>

<p>
Several other page regions can also be used. The full list of page regions is
shown in the <a href="/doc/12/doc-prince/#tab-marginboxes">Page regions</a> table.
</p>

<div id="tab-marginboxes" class="table">
<div class="title">Page regions</div>
<table class="grid">
<thead>
<tr>
<th>Name</th>
<th colspan="2">Default alignment</th>
<th>In figure</th>
</tr>
<tr>
<th></th>
<th><code><a href="/doc/12/doc-refs/#prop-text-align">text-align</a></code></th>
<th><code><a href="/doc/12/doc-refs/#prop-vertical-align">vertical-align</a></code></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>@top</code></td>
<td>center</td>
<td>middle</td>
<td class="fig-marginboxes-yellow">yellow</td>
</tr>
<tr>
<td><code>@bottom</code></td>
<td>center</td>
<td>middle</td>
<td class="fig-marginboxes-yellow">yellow</td>
</tr>
<tr>
<td><code>@left</code></td>
<td>center</td>
<td>middle</td>
<td class="fig-marginboxes-red">red</td>
</tr>
<tr>
<td><code>@right</code></td>
<td>center</td>
<td>middle</td>
<td class="fig-marginboxes-red">red</td>
</tr>
<tr>
<td><code>@top-left</code></td>
<td>left</td>
<td>middle</td>
<td class="fig-marginboxes-green">green</td>
</tr>
<tr>
<td><code>@top-center</code></td>
<td>center</td>
<td>middle</td>
<td>not shown</td>
</tr>
<tr>
<td><code>@top-right</code></td>
<td>right</td>
<td>middle</td>
<td>not shown</td>
</tr>
<tr>
<td><code>@bottom-left</code></td>
<td>left</td>
<td>middle</td>
<td>not shown</td>
</tr>
<tr>
<td><code>@bottom-center</code></td>
<td>center</td>
<td>middle</td>
<td>not shown</td>
</tr>
<tr>
<td><code>@bottom-right</code></td>
<td>right</td>
<td>middle</td>
<td>not shown</td>
</tr>
<tr>
<td><code>@left-top</code></td>
<td>center</td>
<td>top</td>
<td class="fig-marginboxes-green">green</td>
</tr>
<tr>
<td><code>@left-middle</code></td>
<td>center</td>
<td>middle</td>
<td>not shown</td>
</tr>
<tr>
<td><code>@left-bottom</code></td>
<td>center</td>
<td>bottom</td>
<td>not shown</td>
</tr>
<tr>
<td><code>@right-top</code></td>
<td>center</td>
<td>top</td>
<td>not shown</td>
</tr>
<tr>
<td><code>@right-middle</code></td>
<td>center</td>
<td>middle</td>
<td>not shown</td>
</tr>
<tr>
<td><code>@right-bottom</code></td>
<td>center</td>
<td>bottom</td>
<td>not shown</td>
</tr>
<tr>
<td><code>@top-left-corner</code></td>
<td>right</td>
<td>middle</td>
<td>not shown</td>
</tr>
<tr>
<td><code>@top-right-corner</code></td>
<td>left</td>
<td>middle</td>
<td class="fig-marginboxes-blue">blue</td>
</tr>
<tr>
<td><code>@bottom-left-corner</code></td>
<td>right</td>
<td>middle</td>
<td>not shown</td>
</tr>
<tr>
<td><code>@bottom-right-corner</code></td>
<td>left</td>
<td>middle</td>
<td>not shown</td>
</tr>
<tr>
<td><code>@page-float-top</code></td>
<td>center</td>
<td>top</td>
<td>not shown</td>
</tr>
<tr>
<td><code>@page-float-bottom</code></td>
<td>center</td>
<td>bottom</td>
<td>not shown</td>
</tr>
<tr>
<td><code>@prince-overlay</code></td>
<td>center</td>
<td>middle</td>
<td>not shown</td>
</tr>
<tr>
<td><code>@footnote</code></td>
<td>left</td>
<td>middle</td>
<td>not shown</td>
</tr>
</tbody>
</table>
</div>

<p>
Prince will try to create page regions of the correct sizes.  If you need to
create boxes of specific sizes you may need to use only a single box (eg:
<code>@top</code>) and use the <code><a href="/doc/12/doc-refs/#prop-content">content</a></code>
property to place elements with specific sizes in it.
</p>

<p>
Note that in the above <a href="/doc/12/doc-prince/#fig-marginboxes">
    Page regions
  </a> figure, Prince
leaves space for <code>@top-right</code> and <code>@left-bottom</code> boxes
because their counterparts (<code>@top-left</code> and <code>@left-top</code>
respectively) have been defined.  This keeps the <code>@top</code> and
<code>@left</code> centered along the top and side of the page respectively.
</p>

<p>
The page-margin boxes <code>@top</code>, <code>@top-left</code> or
<code>@top-right</code> can be used to create running page headers, and
the page-margin boxes <code>@bottom</code>, <code>@bottom-left</code> or
<code>@bottom-right</code> are useful for page footers (see
<a href="/doc/12/doc-prince/#page-headers-footers">Page Headers and Footers</a>).
</p>

<p>
The page region <code>@prince-overlay</code> is a special region, overlaying
all of the page area.  A typical use is for creating watermarks on all pages of
the document (see <a href="/doc/12/doc-prince/#watermarks">Watermarks</a>).
</p>

<p>
The page region <code>@footnote</code> is placed by default at the foot of
the page area and contains the footnotes (see <a href="/doc/12/doc-prince/#footnotes">Footnotes</a>).
Note that if there are no footnotes on a page, the footnote area will not be
displayed on that page at all.
</p>

<p>
Many CSS properties can be applied to page regions:
</p>
<ul>
<li>
<p>
All of the
<code><a href="/doc/12/doc-refs/#prop-margin">margin</a></code>, <code><a href="/doc/12/doc-refs/#prop-border">border</a></code>,
<code><a href="/doc/12/doc-refs/#prop-padding">padding</a></code> and <code><a href="/doc/12/doc-refs/#prop-background">background</a></code>
properties can be used to style page regions.
</p>
</li>
<li>
<p>
The <code><a href="/doc/12/doc-refs/#prop-vertical-align">vertical-align</a></code> property can be applied to any
page region to vertically align its content.
</p>
</li>
<li>
<p>
When a page region contains generated content, many inline style properties such
as <code><a href="/doc/12/doc-refs/#prop-color">color</a></code> and <code><a href="/doc/12/doc-refs/#prop-font">font</a></code>
can be applied to style the generated content.
</p>
</li>
</ul>

<p class="note">
The <code>@footnote</code> area can be positioned other than its default
position (see <a href="/doc/12/doc-prince/#footnotes-styling">Styling and behavior of footnotes</a> and <a href="/doc/12/doc-prince/#sidenotes">Sidenotes</a>).
All other page regions cannot be moved - their position is defined by the
page margins.
</p>


  <h4 id="page-gen-content">Generated content in page regions <a href="#page-gen-content" class="self-link"></a>
</h4>

<p>
We have already shown an example of using the <code>page</code> counter to
print the page number at the bottom of each page,
this is one example of generated content.
The <code>page</code> counter is predefined and starts at 1;
it increments automatically for each new page.
(Note that the page counter cannot be incremented manually using the
<code><a href="/doc/12/doc-refs/#prop-counter-increment">counter-increment</a></code> property.)
</p>
<p>
The <code>page</code> counter can be reset using the
<code><a href="/doc/12/doc-refs/#prop-counter-reset">counter-reset</a></code> property at any block-level element within
a non-floating element in the normal flow.
This is useful for restarting page numbering at a new section of the
document.
</p>

<div id="ex-restart-page-numbers" class="example">
  <div class="title">Restarting page numbering</div>
<p class="label">HTML</p>
<div class="programlisting">
<code language="HTML"><pre>&lt;body&gt;
    &lt;div class="front"&gt; cover page, etc, ... &lt;/div&gt;
    &lt;div class="contents"&gt;
        table of contents, ...
    &lt;/div&gt;
    &lt;div class="body"&gt;
    &lt;div class="chapter"&gt; chapter 1...&lt;/div&gt;
    &lt;div class="chapter"&gt; chapter 2...&lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=appendix"&gt; appendix1 &lt;/div&gt;
    &lt;div class=appendix"&gt; appendix2, ... &lt;/div&gt;
&lt;/body&gt;</pre></code>
</div>

<p class="label">CSS</p>
<div class="programlisting">
<code language="CSS"><pre>.contents {
    <a href="/doc/12/doc-refs/#prop-display">display</a>: block;
    <a href="/doc/12/doc-refs/#prop-page">page</a>: table-of-contents;
    <a href="/doc/12/doc-refs/#prop-counter-reset">counter-reset</a>: page 1
}
@page table-of-contents {
    @top { <a href="/doc/12/doc-refs/#prop-content">content</a>: "Table of Contents" }
    @bottom {
        content: counter(page, lower-alpha)
    }
}

.body {
    display: block;
    page: main;
    counter-reset: page 1
}
@page main {
    @top { content: string(chapter-title) }
    @bottom {
        content: counter(page)
    }
}

.chapter h1 { <a href="/doc/12/doc-refs/#prop-string-set">string-set</a>: chapter-title content() }</pre></code>
</div>
</div>

<p>
<a href="/doc/12/doc-prince/#ex-restart-page-numbers">Restarting page numbering</a> also uses
<a href="/doc/12/doc-prince/#named-pages">Named pages</a> which we will explain in more detail below.
We create three types of pages:
<var>table-of-contents</var> pages, <var>main</var> pages,
and pages without a name.
</p>

<p>
The <var>.contents</var> rule names the pages that it
appears on as <var>table-of-contents</var> and resets the page counter to
1 at the start of the contents div.
Then the <a href="/doc/12/doc-refs/#at-page"><code>@page</code></a>
rule for those pages generates a page footer that contains the current page
number in <code>lower-alpha</code> style.  This rule also sets the page header
to the string "Table of Contents".
</p>

<p>
The <code>.body</code> rule names the pages that it appears on as
<var>main</var> and resets the page counter to 1 at the start of main div.
Then the <a href="/doc/12/doc-refs/#at-page"><code>@page</code></a>
rule for the <var>main</var> pages generates a page footer that contains the
current page number in the default decimal style.
This rule, together with the <var>.chapter h1</var> rule,
sets the page header to the title of the chapter.
</p>

<p>
Pages that don't match either of these names have the default style,
which does not include a page number in the footer.
</p>

<p>
In some documents,
particularly those that are unbound such as office documents,
it can be useful to show the total number of pages on each page.
The total number of pages can be accessed using the <code>pages</code>
counter.
This is a pre-defined counter that is fixed to the total number of pages in
the document.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>@page {
    @bottom {
        content: "Page " counter(page) " of " counter(pages)
    }
}</pre></code>
</div>
</div>

<p>
This rule will generate page footers such as "Page 1 of 89".
</p>



<div class="example">
<div class="figure-float-right" id="fig-fancyheader">
  <div class="title">Fancy header example</div>
  <img src="/images/doc-latest/fancyheader-2.bw.png" alt="Image of a page of a textbook or thesis with a header.">
  <div class="caption">
    This example shows a header as might be found in a textbook.
    The
    <a href="/samples/doc-latest/fancyheader.html">HTML</a> and
    <a href="/samples/doc-latest/fancyheader.pdf">PDF</a>
    are both available.
    This is a small part of a <a href="https://github.com/yeslogic/prince-samples/tree/master/thesis">larger
    example</a> in our <a href="https://github.com/yeslogic/prince-samples">Prince samples repository</a>.
  </div>
</div>

  <div class="title">Fancy headers</div>
<p>
  This example demonstrates a more complete headers style.
  It uses generated content to print page numbers, the chapter number and
  title and the section number and title using different styles for left and
  right pages.  It also prints an underline under the header.
</p>

<div class="programlisting">
<code language="CSS"><pre>@page {
    <a href="/doc/12/doc-refs/#prop-font-family">font-family</a>: Times, Serif;
    <a href="/doc/12/doc-refs/#prop-font-size">font-size</a>: 11pt;
    <a href="/doc/12/doc-refs/#prop-text-align">text-align</a>: justify;
    <a href="/doc/12/doc-refs/#prop-margin-top">margin-top</a>: 2cm;
    <a href="/doc/12/doc-refs/#prop-margin-bottom">margin-bottom</a>: 2cm;
    <a href="/doc/12/doc-refs/#prop-margin-inside">margin-inside</a>: 3.5cm;
    <a href="/doc/12/doc-refs/#prop-margin-outside">margin-outside</a>: 2.5cm;
}

@page body:left {
    @top-left {
        <a href="/doc/12/doc-refs/#prop-content">content</a>: counter(page);
        <a href="/doc/12/doc-refs/#prop-vertical-align">vertical-align</a>: bottom;
    }
    @top-right {
        content: "Chapter " counter(chapter) ": " string(chapter);
        vertical-align: bottom;
    }
}
@page body:right {
    @top-right {
        content: counter(page);
        vertical-align: bottom;
    }
    @top-left {
        content: counter(chapter) "." counter(section) " "
            string(section);
        vertical-align: bottom;
    }
}
@page body {
    border-top: thin black solid;
}
@page body:first {
    margin-top: 25%;
    @top-left { content: normal; }
    @top-right { content: normal; }
    border: none;
}
@page body:blank {
    @top-left { content: normal; }
    @top-right { content: normal; }
    border: none;
}
body {
    font-family: Times, Serif;
    font-size: 11pt;
    text-align: justify;
    <a href="/doc/12/doc-refs/#prop-padding">padding</a>: 0.5cm 0cm;
}

div.body {
    page: body;
}

div.body h1 {
    break-before: right;
    <a href="/doc/12/doc-refs/#prop-prince-page-group">prince-page-group</a>: start;
    string-set: chapter content();
    counter-increment: chapter;
    counter-reset: section;
}
div.body h1::before {
    content: "Chapter " counter(chapter) ": ";
}

div.body h2 {
    string-set: section content();
    counter-increment: section;
}
div.body h2::before {
    content: counter(chapter) "." counter(section) " ";
}</pre></code>
</div>

<p>
  The main content area is 2.5cm from the page's edge on all sides.
  On the left and right this is a margin of 2.5cm and on the top and bottom
  it's 2cm of margin and 0.5cm of padding.
  This places the bottom border of the
  <code>@top</code> page region 0.5cm from the main content area, enough to
  avoid making it look crowded.
  The header text has the <var>vertical-align: bottom</var> property to
  ensure that it appears immediately above the border — the border
  is made to look like an underline.
  This example uses many properties and page selectors discussed later in
  this section.
  This is a small part of a <a href="https://github.com/yeslogic/prince-samples/tree/master/thesis">larger
  example</a> in our <a href="https://github.com/yeslogic/prince-samples">Prince samples repository</a>.
</p>



</div>



  <h4 id="content-copying-text">Copying content from the document <a href="#content-copying-text" class="self-link"></a>
</h4>
<p>
Generated content in page regions may contain text content copied
from the document using the <code><a href="/doc/12/doc-refs/#prop-string-set">string-set</a></code> property:
</p>

<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code language="css"><pre>@page {
    @top {
        content: string(doctitle)
    }
}

h1 { string-set: doctitle content() }</pre></code>
</div>
<p class="comment">
The @page rule specifies that the top-center page region will contain the text
content of the document title copied from the text content of the
<code>h1</code> element in the document.
</p>
</div>

<p>
The second argument to the <code>string()</code> function is a
<code>page-policy</code> (see <a href="/doc/12/doc-prince/#gen-content-functions-pagepolicy">The optional page-policy value</a>).
</p>

<p>
For a dictionary, you might want to have a page header that says "a-af",
where "a" is the first definition on the page and "af" is the last,
so you apply <code><a href="/doc/12/doc-refs/#prop-string-set">string-set</a></code> for each definition,
and then you can select the <code>first</code> and <code>last</code> one with
a page policy in the page header.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>@page {
  @top-left { content: string(term, first);}
  @top-right { content: string(term, last);}
}
</pre></code>
</div>
</div>

<p>
The page policy value <code>first-except</code> is equivalent to <code>start</code>,
<em>unless</em> the <code><a href="/doc/12/doc-refs/#prop-string-set">string-set</a></code> is applied on
the current page, in which case it will return <em>no</em> value.
</p>

<p>
This can be very useful as a means to repeating the title of a chapter as a page
heading in the <code>@top-center</code> page region, without duplicating the
information on the page where the heading appears in the running text of the
page.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>@page {
  @top-center { content: string(letter, first-except);}
}
</pre></code>
</div>
</div>

<p>
You can see these examples in full action in the
<a href="/samples/#dictionary">Dictionary</a> sample
(<a href="http://css4.pub/2015/icelandic/dictionary.html">HTML</a> -
<a href="http://css4.pub/2015/icelandic/dictionary.pdf">PDF</a>).
</p>




  <h4 id="content-taking-elements">Taking elements from the document <a href="#content-taking-elements" class="self-link"></a>
</h4>
<p>
Page region content may also be taken from the document itself.
Any block-level element can be removed from the normal flow and placed
in a page region. It will normally inherit from its original position in
the document, but does not display there.  Please also note the following:
</p>

<ul>
<li>
All <code><a href="/doc/12/doc-refs/#prop-margin">margin</a></code> properties of an element not in the
natural document flow will be ignored.
</li>
<li>
The first running element that appears on a page will be used on the current
page and carried onto following pages, until a new running element is encountered.
</li>
</ul>

<p>
To move the content into a page region, the element needs to be removed from
the normal document flow position with the <code>running()</code> function of
the <code><a href="/doc/12/doc-refs/#prop-position">position</a></code> property, and inserted into the
specified region with the <code>element()</code> function of the
<code><a href="/doc/12/doc-refs/#prop-content">content</a></code> property.
</p>

<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code language="css"><pre>@page {
    @top { content: element(header) }
}
h1 { position: running(header) }</pre></code>
</div>
<p class="comment">
The @page rule specifies that the top page region is a new running header
named "header".
</p>
<p class="comment">
The rule for the <code>h1</code> element moves it to the "header" running element,
removing it from the default normal flow.
</p>
</div>

<p>
Prince also provides another interface for creating running headers: the content
can be removed from the normal flow with <code><a href="/doc/12/doc-refs/#prop-prince-flow">prince-flow</a>: static()</code>,
to be placed in a page region with <code><a href="/doc/12/doc-refs/#prop-content">content</a>: flow()</code>.
</p>

<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code language="css"><pre>@page {
    @bottom { content: flow(footer) }
}
footer { prince-flow: static(footer, start) }</pre></code>
</div>
</div>

<p>
In addition to the standard mechanism, the Prince specific one offers an
extra feature that might be useful in certain scenarios: the <code>static()</code>
function accepts an optional <code>start</code> argument, which makes
the fetched content available, as if it were fetched from the start of the
document.  An example to clarify:
</p>

<p>
Many HTML documents designed for browsers have the following structure:
</p>

<div class="example">
<div class="programlisting">
<code language="css"><pre>&lt;header&gt;
main content
&lt;footer&gt;</pre></code>
</div>
</div>

<p>
Unfortunately, if you want to place the footer element in the page footer, it
will only appear on the last page - because it is at the end of the
document!  To solve this, the document must be modified to look like this:
</p>

<div class="example">
<div class="programlisting">
<code language="css"><pre>&lt;header&gt;
&lt;footer&gt;
main content</pre></code>
</div>
</div>

<p>
It can be achieved by using JavaScript to move the element, but the simple
<code>start</code> keyword on the <code><a href="/doc/12/doc-refs/#prop-prince-flow">prince-flow</a></code>
property instructs Prince to pretend that the element was seen at the
beginning of the document.
</p>

<p class="note">
The <code>element()</code> and <code>flow()</code> functions replace the entire
margin box, and cannot be combined with other content.  If you just want to
capture some text from the document, use named strings instead (see
<a href="/doc/12/doc-prince/#content-copying-text">Copying content from the document</a>) - they can be combined with other content.
</p>




  <h3 id="page-rules">Selecting pages <a href="#page-rules" class="self-link"></a>
</h3>

<p>
It is often necessary to apply styles to some pages, but not others.  Either
applying them to only some pages,
or on every page <i>except</i> selected pages.
CSS and Prince provide a number of <i>page selectors</i>
for choosing which pages a rule applies to.
</p>


<p>
In a novel it is useful to print a page number at the bottom of every page,
<i>except</i> for some pages such as the title page.
In this example the <a href="/doc/12/doc-refs/#at-page"><code>@page</code></a>
rule is applied to all pages.  Then the <code>@page:first</code> rule, which is
more specific, removes the footer from the first page.
See <a href="/doc/12/doc-prince/#page-regions">Page regions</a> and <a href="/doc/12/doc-prince/#gen-content">Generated Content</a>.
</p>

<div class="example">
<div class="figure-float-right" id="fig-titlepage">
  <div class="title">Novel title page example</div>
  <img src="/images/doc-latest/titlepage-1.bw.png" alt="Novel title page example image.">
  <div class="caption">
    A title page example showing use of <code>@page:first</code>.
    Download the <a href="/samples/doc-latest/titlepage.pdf">PDF</a>
    or the <a href="/samples/doc-latest/titlepage.html">HTML</a>.
  </div>
</div>

<div class="programlisting">
<code language="HTML"><pre>&lt;html&gt;
&lt;head&gt;
&lt;style&gt;
@page {
    @bottom {
        content: counter(page)
    }
}
@page:first {
    margin-top: 10cm;
    @bottom {
        content: normal
    }
}
h1, h2.subtitle {
    text-align: center
}
h2.chaptertitle {
    break-before: page
}
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;h1&gt;The Magnificent Octopus&lt;/h1&gt;
&lt;h2 class="subtitle"&gt;S. Baldrick&lt;/h2&gt;

&lt;h2 class="chaptertitle"&gt;Chapter 1&lt;/h2&gt;
&lt;p&gt;Once upon a time there lived a little saussage.&lt;/p&gt;

&lt;/body&gt;
&lt;/html&gt;
</pre></code>
</div>
</div>

<p>
In this example the <a href="/doc/12/doc-refs/#at-page"><code>@page</code></a>
rule specifies styles that apply to all pages:
Then the <code>@page:first</code> rule overrides this for the first page
only.
It resets the <code><a href="/doc/12/doc-refs/#prop-content">content</a></code> property for the footer and
increases the top margin,
printing the title of the novel in a reasonable place on the page
(see <a href="/doc/12/doc-prince/#page-style">Page style</a>).
This example also uses the
<code><a href="/doc/12/doc-refs/#prop-break-before">break-before</a></code> property to force a page break
(see <a href="/doc/12/doc-prince/#page-breaks">Page breaks</a>).
</p>

<p class="note">
  When using the <code>:first</code> page selector to choose the first page
  in each chapter (such as in <a href="/doc/12/doc-prince/#fig-fancyheader">Fancy headers</a>) it may be
  necessary to add
  <code><a href="/doc/12/doc-refs/#prop-prince-page-group">prince-page-group</a>: start</code>
  to the first element in each chapter (such as <code>h1</code>).
  See <a href="/doc/12/doc-prince/#page-groups">Page groups</a>.
</p>

<p>
The <code>:left</code> and <code>:right</code> page
selectors can be used to style left and right pages in a bound book
differently.  This is often used in text books to place the page number
on the outside top corners of pages.
</p>

<p>
Alternatively, the <code>:recto</code> and <code>:verso</code> selectors can
be used, with the advantage of being independent of directionality of the
script: in a left-to-right script, <code>:recto</code> is the right-hand
side of a spread, and <code>:verso</code> is the left-hand side, while in a
right-to-left script these values are inverted: <code>:recto</code> defines
the left-hand side of a spread, and <code>:verso</code> defines the
right-hand side.  See also <a href="/doc/12/doc-prince/#writing-mode">Writing Mode</a>.
</p>

<div class="example">
<div class="figure-float-right" id="fig-textbook">
  <div class="title">Textbook page numbers example</div>
  <img src="/images/doc-latest/textbook-1.bw.png" alt="Textbook page numbers example image.">
  <div class="caption">
    A text book example showing use of <code>@page:left</code> and
    <code>@page:right</code>.
    Download the <a href="/samples/doc-latest/textbook.pdf">PDF</a>
    or the <a href="/samples/doc-latest/textbook.html">HTML</a>.
  </div>
</div>

<div class="programlisting">
<code language="CSS"><pre>@page:left {
    @top-left { content: counter(page) }
    @top-right { content: string(book-title) }
    margin-left: 2cm;
    margin-right: 3cm;
}
@page:right {
    @top-left { content: string(chapter-title) }
    @top-right { content: counter(page) }
    margin-left: 3cm;
    margin-right: 2cm;
}

h1 { string-set: book-title content() }
h2 { string-set: chapter-title content() }</pre></code>
</div>
</div>

<p>
These rules also place the book title in the header of left pages,
and the current chapter's title in the header of right-facing pages.
The book title is copied from the text content of the
<code>h1</code> element while the chapter title is copied from the
text content of the <code>h2</code> elements
(see <a href="/doc/12/doc-prince/#gen-content">Generated Content</a>).
They also specify wider margins in the <i>gutter</i> of the
page spread; binders may need this extra width for a book's binding.
</p>

<p>
The first page in a document using the default left-to-right reading order
is a right page.
Imagine the cover or a title page of a book which appear on a right page.
The first page of a right-to-left document is a left page.
</p>

<p>By putting <code>break-before: left</code> or <code>right</code> at the
very beginning of the document, it will not leave a blank page, but instead will
change whether the document begins on a left or right facing page.
</p>

<p>
Sometimes it can be useful to select the <i>N</i>th page in a
document.
The <code>:nth(<replaceable>N</replaceable>)</code> page selector can be
used to do this:
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>@page:nth(42) {
    ...
}</pre></code>
</div>
</div>

  <h4 id="named-pages">Named pages <a href="#named-pages" class="self-link"></a>
</h4>

<p>
Sometimes it is necessary to style pages depending on their content;
named pages allow us to select pages that contain particular elements.
We used this in <a href="/doc/12/doc-prince/#ex-restart-page-numbers">Restarting page numbering</a>,
to apply a style to the table of contents pages to print their page
numbers using roman numerals.
</p>

<p>
The element containing the table of contents has a
<code><a href="/doc/12/doc-refs/#prop-page">page</a></code> property applied, specifying that this element's
pages are <var>table-of-contents</var> pages.
The <code><a href="/doc/12/doc-refs/#prop-page">page</a></code> property may be applied to any block-level element
within a non-floating environment in the normal flow.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>.contents {
    <a href="/doc/12/doc-refs/#prop-display">display</a>: block;
    <a href="/doc/12/doc-refs/#prop-page">page</a>: table-of-contents;
}</pre></code>
</div>
</div>

<p>
Then using this page name to apply a different <a href="/doc/12/doc-refs/#at-page"><code>@page</code></a>
rule to the table-of-contents pages:
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>@page table-of-contents {
    @top { <a href="/doc/12/doc-refs/#prop-content">content</a>: "Table of Contents" }
    @bottom {
        content: counter(page, lower-alpha)
    }
}</pre></code>
</div>
</div>

<p>
More than one element can <i>belong</i> to the same name,
in other words, page names behave like CSS classes.
</p>

<p>
Prince will create a page break between elements belonging to different
named pages,
including elements without a named page.
So in <a href="/doc/12/doc-prince/#ex-restart-page-numbers">Restarting page numbering</a>,
a page break will be inserted after the the table of contents,
because the next element has the page name <var>main</var> rather than
<var>table-of-contents</var>.
</p>

<p>
Selectors such as <code>:first</code>,
<code>:<replaceable>N</replaceable>th</code>, <code>:left</code> and
<code>:right</code> also work with named pages.  For example:
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>@page preface {
    @bottom {
        content: counter(page, lower-alpha)
    }
}
@page preface:first {
    @bottom {
        content: normal;
    }
}</pre></code>
</div>
</div>

<p>
This example only works when a page name is used only once within a
document, such as for the preface of a document
(documents only have one preface).
If you wish to apply a style to the first page of every chapter then you
must use the <code><a href="/doc/12/doc-refs/#prop-prince-page-group">prince-page-group</a></code> property to create
<i>page groups</i>:
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>div.chapter {
    <a href="/doc/12/doc-refs/#prop-page">page</a>: chapter;
    <a href="/doc/12/doc-refs/#prop-break-before">break-before</a>: right;
    <a href="/doc/12/doc-refs/#prop-prince-page-group">prince-page-group</a>: start;
}
@page chapter {
    @bottom {
        <a href="/doc/12/doc-refs/#prop-content">content</a>: counter(page);
    }
}
@page chapter:first {
    @bottom {
        <a href="/doc/12/doc-refs/#prop-content">content</a>: normal;
    }
}</pre></code>
</div>
</div>

<p>
The property <code><a href="/doc/12/doc-refs/#prop-prince-page-group">prince-page-group</a>: start</code> instructs Prince to
start a new page group.
This is necessary for the <code>div.chapter:first</code> selector to match
the first page of each chapter, instead of only the first page in the first
chapter.
See <a href="/doc/12/doc-prince/#page-groups">Page groups</a>.
</p>

  <h4 id="paged-blank">Blank pages <a href="#paged-blank" class="self-link"></a>
</h4>

<p>
A special case are blank pages.
</p>

<p>
  As we discussed in the previous section,
  <code><a href="/doc/12/doc-refs/#prop-break-before">break-before</a>: right</code> can be used to place
  the first page of a chapter on the right page in a spread.  If the previous
  page is a right page, two page breaks are inserted, leaving a blank left page.
  However, this page will have normal
  <a href="/doc/12/doc-refs/#at-page"><code>@page</code></a> styles
  applied to it, which is usually not what people want.  The <code>:blank</code>
  page selector can be used to change the style of blank pages, pages skipped
  such as a left page before a <code>break-before: right</code>, including
  removing any content.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>@page:left {
    @top-left {
        <a href="/doc/12/doc-refs/#prop-content">content</a>: counter(page);
    }
}
@page:right {
    @top-right {
        <a href="/doc/12/doc-refs/#prop-content">content</a>: counter(page);
    }
}

@page:blank {
    @top-left {
        <a href="/doc/12/doc-refs/#prop-content">content</a>: normal;
    }
    @top-right {
        <a href="/doc/12/doc-refs/#prop-content">content</a>: normal;
    }
}

h1 {
    <a href="/doc/12/doc-refs/#prop-break-before">break-before</a>: right;
}</pre></code>
</div>
</div>

<p>
This example clears the generated content used on these pages.  This works
because <code>:blank</code> is more specific than either <code>:left</code>
or <code>:right</code>.  The <code>:blank</code> page selector can also be
used with named pages.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>@page frontmatter {
    @bottom { content: counter(page, lower-roman); }
}

@page frontmatter:blank {
    @bottom { content: normal; }
}</pre></code>
</div>
</div>

<p>
If chapter 1 also resets page numbering, then the page numbers will be reset
on the first <i>content page</i>, i.e. a non-blank page.
</p>

<p class="tip">
It is not always desirable to have no content on blank pages.  Sometimes otherwise
blank pages are required have some content, such as a notice saying "This page
intentionally left blank".  For example, in legal documents, this prevents people
from mistaking a dangerous printing error for an intentionally blank page.
</p>




  <h4 id="page-groups">Page groups <a href="#page-groups" class="self-link"></a>
</h4>
<p>
  When consecutive elements belong to the same named page
  but logically separate structures (such as individual chapters)
  Prince combines them into one <i>page group</i>.
  This causes it to apply the <code>:first</code> page selector
  to the first page of the whole page group only (the first page of chapter 1).
  Instead we usually want <code>:first</code> applied to the first page of
  each chapter.
</p>
<p>
  This can happen either:
</p>
<ul>
  <li>
    when chapters are separated by an element,
    such as <code>h1</code> which may have
    <code><a href="/doc/12/doc-refs/#prop-break-before">break-before</a>: right</code> applied
    (this can be seen in <a href="/doc/12/doc-prince/#fig-fancyheader">Fancy headers</a>);
  </li>
  <li>
    or when each chapter is a block element such as a <code>div</code>.
  </li>
</ul>
<p>
  Prince provides the <code><a href="/doc/12/doc-refs/#prop-prince-page-group">prince-page-group</a></code> property that can
  be used to start a new page group.
  It can be seen in <a href="/doc/12/doc-prince/#fig-fancyheader">Fancy headers</a> applied to h1 elements
  in the body of the document.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>div.body h1 {
    <a href="/doc/12/doc-refs/#prop-break-before">break-before</a>: right;
    <a href="/doc/12/doc-refs/#prop-prince-page-group">prince-page-group</a>: start;
    ...
}</pre></code>
</div>
</div>

<p>
<code><a href="/doc/12/doc-refs/#prop-prince-page-group">prince-page-group</a></code> also forces a page break,
overriding any properties that attempt to avoid page breaks.
The more specific <code>left</code> and <code>right</code> page take
precedence over <code>prince-page-group</code>.
</p>





  <h3 id="controlling-pagination">Controlling pagination <a href="#controlling-pagination" class="self-link"></a>
</h3>

<p>
Prince will create page breaks automatically when new content will not fit
on a page.
Sometimes it is useful or necessary to control where page breaks should and
should not be used.
There are two ways to do this, and both are useful in different
circumstances:
page breaks can be added or prohibited with the
<a href="/doc/12/doc-prince/#page-breaks">Page breaks</a> properties,
and you can control where, within a paragraph, a page break may occur
with the <a href="/doc/12/doc-prince/#widows-and-orphans">Widows and orphans</a> properties.
</p>


  <h4 id="page-breaks">Page breaks <a href="#page-breaks" class="self-link"></a>
</h4>

<p>
The simplest case is when you want to explicitly create a page break.
This is typically used at the beginning of a chapter, to start the new chapter
on a new page.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>h1 {
    <a href="/doc/12/doc-refs/#prop-break-before">break-before</a>: page;
}</pre></code>
</div>
</div>

<p>
<code><a href="/doc/12/doc-refs/#prop-break-before">break-before</a></code>
is used to force a page break immediately before an
<code class="tag">h1</code> element,
New chapters are often started on the <i>recto</i>
pages in text books, this is usually the right page:
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>h1 {
    <a href="/doc/12/doc-refs/#prop-break-before">break-before</a>: right
}</pre></code>
</div>
</div>

<p>
Other values are <code>auto</code>, <code>avoid</code>, <code>avoid-page</code>,
<code>avoid-column</code>, <code>left</code>, as well as <code>recto</code>,
<code>verso</code> and <code>column</code>.
</p>

<p>
The previous example could therefore also have been written in the following,
more semantic (and possibly more flexible) way:
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>h1 {
    <a href="/doc/12/doc-refs/#prop-break-before">break-before</a>: recto
}</pre></code>
</div>
</div>

<p>
The property <code><a href="/doc/12/doc-refs/#prop-break-after">break-after</a></code> may also be used
to force a page break after an element.
</p>

<div class="example" id="presentation-slides">
  <div class="title">Presentation slides</div>
<div class="figure-float-right" id="fig-slides">
  <div class="title">
    Presentation slides example
  </div>
  <img src="/images/doc-latest/slide-1.colour.png" alt="A title page slide for a presentation, with a title and          subtitle.">
  <img src="/images/doc-latest/slide-2.colour.png" alt="An example of an overhead slide for a presentation.             It has a title and a single paragraph.">
  <div class="caption">
    Two overhead slides for a presentation.
    The slides use white on black for better contrast on most
    projectors, and a 4x3 aspect ratio.
    Download the <a href="/samples/doc-latest/slide.pdf">PDF</a>
    or the <a href="/samples/doc-latest/slide.html">HTML</a>
    and <a href="/samples/doc-latest/slide.css">CSS</a>.
  </div>
</div>

<p>
It is necessary to force a page break when creating overhead slides.
This can be done by placing the content for each slide in a
<code>&lt;div class="slide"&gt;</code> and using
<code><a href="/doc/12/doc-refs/#prop-break-before">break-before</a>: page</code> as shown below.
This example shows other styling that may be required to create presentation
slides.
</p>

<p class="label">CSS</p>
<div class="programlisting">
<code language="CSS"><pre>@page {
    <a href="/doc/12/doc-refs/#prop-size">size</a>: 1280px 960px;
    @bottom-left {
        <a href="/doc/12/doc-refs/#prop-content">content</a>: "Presentation Title";
    }
    @bottom-right {
        content: counter(page);
    }
    <a href="/doc/12/doc-refs/#prop-background">background</a>: black;
    <a href="/doc/12/doc-refs/#prop-color">color</a>: white;
    <a href="/doc/12/doc-refs/#prop-font-family">font-family</a>: DejaVu Sans, sans-serif;
    <a href="/doc/12/doc-refs/#prop-font-size">font-size</a>: 16pt;
    <a href="/doc/12/doc-refs/#prop-margin">margin</a>: 96px;
}

@page:first {
    @bottom-left { content: normal }
    @bottom-right { content: normal }
}

div.centerpage {
    /*
     * Cause the content on these pages to begin part-way through
     * the page. This is useful for a title page.
     */
    <a href="/doc/12/doc-refs/#prop-margin-top">margin-top</a>: 33%;
}

body {
    font-size: 28pt;
    font-family: DejaVu Sans, sans-serif;
    color: white;
}

div.slide {
    <a href="/doc/12/doc-refs/#prop-break-before">break-before</a>: page;
}</pre></code>
</div>

<p class="label">HTML</p>
<div class="programlisting">
<code language="HTML"><pre>&lt;div class="slide"&gt;
  &lt;h2&gt;Slide Title&lt;/h2&gt;

  &lt;p&gt;
    Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
    eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim
    ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut
    aliquip ex ea commodo consequat. Duis aute irure dolor in
    reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla
    pariatur. Excepteur sint occaecat cupidatat non proident, sunt in
    culpa qui officia deserunt mollit anim id est laborum.
  &lt;/p&gt;
&lt;/div&gt;</pre></code>
</div>

<p class="note">
The <code>font-family</code> and <code>color</code> properties are
specified both in the <code>@page</code> and <code>body</code> rules, even
though they're the same.
This is required because the page regions are outside of the
<code>body</code> and must be styled separately, likewise the content within
<code>body</code> cannot be styled by the <code>@page</code> rule.
</p>

<p>
A rendered slide for this example is shown in <a href="/doc/12/doc-prince/#fig-slides">
    Presentation slides example
  </a>.
The example has been adapted from
<a href="https://github.com/yeslogic/prince-samples/tree/master/mfug_talk">slides (HTML+CSS)</a>
for a presentation about the
<a href="http://mercurylang.org">Mercury programming language</a>.
This is part of our
<a href="https://github.com/yeslogic/prince-samples">samples repository</a>.
You are encouraged to use samples from the repository and contribute your
own.
</p>

</div>

<p>
So far we have discussed forcing a page break,
however suppressing page breaks is also important.
For example,
it is poor style to have a page break between a header and the first
paragraph of a section.
Therefore, the default Prince stylesheet will use the
<code><a href="/doc/12/doc-refs/#prop-break-after">break-after</a></code> property to suppress page breaks
immediately after headers:
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>h1, h2, h3, h4, h5, h6 {
    <a href="/doc/12/doc-refs/#prop-break-after">break-after</a>: avoid
}</pre></code>
</div>
</div>

<p>
If a heading occurs at the bottom of a page, it may be moved to the next
page to keep it with the content that follows it, usually a paragraph.
</p>

<p>
Avoiding page breaks within an element is also important.
For example, it is best to avoid breaks within a figure or table.
This can be done with the
<code><a href="/doc/12/doc-refs/#prop-break-inside">break-inside</a></code> property:
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>.figure, table {
    <a href="/doc/12/doc-refs/#prop-break-inside">break-inside</a>: avoid
}</pre></code>
</div>
</div>

<p>
If the figure or table would have been split across two pages, it may be
moved to the next page to keep it in one piece.
An element longer than one page will still need to be split across multiple
pages.
</p>

<p class="note">
The <code><a href="/doc/12/doc-refs/#prop-break-inside">break-inside</a></code> property cannot be used
to create forced page breaks;
its only valid values are <code>auto</code> and <code>avoid</code>.
</p>

<p>
These three properties can be applied to block-level elements, table rows and
table row groups that occur within an in-flow element (ie. inside the normal
flow of the document, not inside a float or an absolutely positioned block).
Therefore the figure and table example only make sense when the figure or table
is not floated.
</p>

<p class="note">
Prince also supports the properties <code><a href="/doc/12/doc-refs/#prop-page-break-before">page-break-before</a></code>,
<code><a href="/doc/12/doc-refs/#prop-page-break-after">page-break-after</a></code> and <code><a href="/doc/12/doc-refs/#prop-page-break-inside">page-break-inside</a></code>
from the CSS 2.1 specification.  However, you are encouraged to use the newer
properties <code><a href="/doc/12/doc-refs/#prop-break-before">break-before</a></code>, <code><a href="/doc/12/doc-refs/#prop-break-after">break-after</a></code>
and <code><a href="/doc/12/doc-refs/#prop-break-inside">break-inside</a></code> from the CSS Fragmentation Module
Level 3.
</p>

<p>
Page breaks have similarities with column breaks, see <a href="/doc/12/doc-prince/#columns">Columns</a>.
</p>

  <h5 id="page-breaks-decoration">Page breaks and decoration <a href="#page-breaks-decoration" class="self-link"></a>
</h5>

<p>
When a page (or column) break occurs within a box (such as a div) its bottom
and top borders are <i>cloned</i> so that they also appear at the bottom of the
first section and the top of the second section of the box.
This is shown in the left of <a href="/doc/12/doc-prince/#fig-boxdecorationbreak">Box decoration break sample</a>.
This is the default but may be set with the
<code><a href="/doc/12/doc-refs/#prop-box-decoration-break">box-decoration-break</a></code> property, setting its value to
<code>clone</code>.
</p>

<div class="example">
<div class="figure-float-right" id="fig-boxdecorationbreak">
  <div class="title">Box decoration break sample</div>
  <img src="/images/doc-latest/box-decoration-break-1.bw.png" alt="The box on the left is completely enclosed by its border       (clone);       while the box on the right has no border at the bottom where it       wraps onto the next page (slice).">
  <div class="caption">
    This figure shows the result of using the
    <code><a href="/doc/12/doc-refs/#prop-box-decoration-break">box-decoration-break</a></code> property.
    On the left the <code>clone</code> value is used while on the right
    <code>slice</code> is used.
    The
    <a href="/samples/doc-latest/box-decoration-break.pdf">PDF</a>
    and
    <a href="/samples/doc-latest/box-decoration-break.html">HTML</a>
    are available for download.
  </div>
</div>

<div class="programlisting">
<code language="CSS"><pre>div.box1 {
    <a href="/doc/12/doc-refs/#prop-box-decoration-break">box-decoration-break</a>: clone
}</pre></code>
</div>
</div>

<p>
If instead you wish the borders to remain open, as if the box were simply
<i>sliced</i> in half,
as in the right of <a href="/doc/12/doc-prince/#fig-boxdecorationbreak">Box decoration break sample</a>,
then you can set this property to <code>slice</code>.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>div.box2 {
    <a href="/doc/12/doc-refs/#prop-box-decoration-break">box-decoration-break</a>: slice
}</pre></code>
</div>
</div>



  <h4 id="widows-and-orphans">Widows and orphans <a href="#widows-and-orphans" class="self-link"></a>
</h4>
  <p>
    Just as breaking a page between a heading and the first paragraph below
    the heading can look bad, breaking the page after only one or two lines
    of a paragraph also looks bad.  These stray lines are called
    <i>orphans</i>.
    The minimum number of orphans to allow can be specified with the
    <code><a href="/doc/12/doc-refs/#prop-orphans">orphans</a></code> property (the default is 1).
  </p>

  <div class="example">
  <div class="programlisting">
  <code language="CSS"><pre>p {
    <a href="/doc/12/doc-refs/#prop-orphans">orphans</a>: 2
}</pre></code>
  </div>
  </div>

  <p>
    Likewise the minimum number of lines to move to a new page
    (<i>widows</i>)
    can be specified with the <code><a href="/doc/12/doc-refs/#prop-widows">widows</a></code> property
    (the default is 1).
  </p>
  <div class="example">
  <div class="programlisting">
  <code language="CSS"><pre>p {
    <a href="/doc/12/doc-refs/#prop-widows">widows</a>: 2
}</pre></code>
  </div>
  </div>

  <p class="tip">
    It can be easy to confuse widows and orphans.  However a mnemonic device
    can help: "An orphan is alone from the beginning [of the paragraph];
    a widow is alone at the end [of the paragraph]".
    (Source <a href="https://en.wikipedia.org/wiki/Widows_and_orphans">Widows
    and orphans — Wikipedia</a>).
  </p>

  <h3 id="page-marks">Trimming marks <a href="#page-marks" class="self-link"></a>
</h3>

<p>
When typesetting a magazine or flier it can be useful to print right to the
edge of the paper.  However most printers will refuse do do this.  It is better
to print on larger stock and then crop the paper to the correct size.
If you use the <code><a href="/doc/12/doc-refs/#prop-marks">marks</a></code> property, Prince will create
<i>bleed</i> and <i>trim</i> areas around your content (and the declared page size).
This can be seen in the catalog example, adapted from the
<a href="https://github.com/yeslogic/prince-samples/tree/master/website_samples/catalogue">Catalog sample</a>
in the <a href="https://github.com/yeslogic/prince-samples">Prince samples repository</a>.
</p>

<div class="example">
<div class="figure-float-right" id="fig-croparea">
  <div class="title">
    Furniture catalogue example
  </div>
  <img src="/images/doc-latest/croparea-1.colour.png" alt="Furniture catalogue with bleed and trim areas for printing and       cropping.  The background image is larger than the page (but not the       paper), by cutting where the crop marks indicate the background image       extends right to the edge of the page.">
  <div class="caption">
      The furniture catalogue with bleed and trim areas for printing and
      cropping.
      Download the <a href="/samples/doc-latest/croparea.pdf">PDF</a>
      or the <a href="/samples/doc-latest/croparea.html">HTML</a>
      and <a href="/samples/doc-latest/croparea.css">CSS</a>.
  </div>
</div>

<div class="programlisting">
<code language="CSS"><pre>@page{
    <a href="/doc/12/doc-refs/#prop-size">size</a>: 8.5in 10.5in;
    <a href="/doc/12/doc-refs/#prop-margin">margin</a>: 0;
    <a href="/doc/12/doc-refs/#prop-background">background</a>: url("images/CatalogueCover.jpg");
    <a href="/doc/12/doc-refs/#prop-background-position">background-position</a>: center;
    <a href="/doc/12/doc-refs/#prop-background-size">background-size</a>: 104%;
    <a href="/doc/12/doc-refs/#prop-background-repeat">background-repeat</a>: no-repeat;
    <a href="/doc/12/doc-refs/#prop-marks">marks</a>: crop cross;
    <a href="/doc/12/doc-refs/#prop-prince-bleed">prince-bleed</a>: 0.25in;
    <a href="/doc/12/doc-refs/#prop-prince-trim">prince-trim</a>: 0.25in;
}</pre></code>
</div>
</div>

<p>
This example uses some of the properties that we introduced above, plus
three new ones: <code><a href="/doc/12/doc-refs/#prop-marks">marks</a></code>, <code><a href="/doc/12/doc-refs/#prop-prince-bleed">prince-bleed</a></code>
and <code><a href="/doc/12/doc-refs/#prop-prince-trim">prince-trim</a></code>.
These options enable crop and cross marks and specify bleed and trim areas.
Note that size of the content does not change when we add these options,
the <i>page</i> is still 8.5in by 10.5in as specified by the
<code>size</code> property.
Instead 0.25in of bleed area and 0.25in of trim area has been added to each
edge (1in total).
Therefore we will need to print on 9.5in by 11.5in paper.
Prince will print solid background colors and repeating pictures into the
bleed area - we set the background size to 104% so that it would print
into the bleed area.
</p>

<p>
Prince also allows the placement, length and width of the crop marks to be
specified respectively with the
<code><a href="/doc/12/doc-refs/#prop-prince-mark-offset">prince-mark-offset</a></code>,
<code><a href="/doc/12/doc-refs/#prop-prince-mark-length">prince-mark-length</a></code> and
<code><a href="/doc/12/doc-refs/#prop-prince-mark-width">prince-mark-width</a></code> properties.
</p>



  <h2 id="gen-content">Generated Content <a href="#gen-content" class="self-link"></a>
</h2>

<p>
Generated content is text and other content that is not found in the original
input document, but is added to the output from a style sheet using the CSS
<code><a href="/doc/12/doc-refs/#prop-content">content</a></code> property.  Useful applications of this
property include <a href="/doc/12/doc-prince/#page-regions">Page regions</a>,
<a href="/doc/12/doc-prince/#content-list-markers">List markers</a> or <a href="/doc/12/doc-prince/#footnotes">Footnotes</a>.
</p>


  <h3 id="gen-content-functions">Generated Content Functions <a href="#gen-content-functions" class="self-link"></a>
</h3>

<p>
Generated content is inserted by means of several functions that typically are
used within the <code><a href="/doc/12/doc-refs/#prop-content">content</a></code> property.  However,
please note that these functions are not unique to the <code>content</code>
property, but can be used for the same purpose in several other ones, namely:
</p>
<ul>
  <li><code><a href="/doc/12/doc-refs/#prop-content">content</a></code></li>
  <li><code><a href="/doc/12/doc-refs/#prop-prince-bookmark-label">prince-bookmark-label</a></code></li>
  <li><code><a href="/doc/12/doc-refs/#prop-prince-pdf-page-label">prince-pdf-page-label</a></code></li>
  <li><code><a href="/doc/12/doc-refs/#prop-prince-tooltip">prince-tooltip</a></code></li>
  <li><code><a href="/doc/12/doc-refs/#prop-string-set">string-set</a></code></li>
</ul>
<p>
See also the section on <a href="/doc/12/doc-refs/#css-functions">CSS Functional Expressions</a> for additional
details on these functions.
</p>
<p>
The most simple use of generating content in these properties is to insert a
literal string.  A literal string can also be passed as an argument to the
<code>leader()</code> function, which expands to fill the available space on
the line like justified text, by repeating the string as many times as necessary.
</p>
<p>
The properties can also insert external content fetched from another resource.
This can be done with the following functions:
</p>
<ul>
<li>the <code>url(<i>url</i>)</code> function, returning the text content at the given URL,</li>
<li>the <code>target-content(<i>url</i>)</code> function, referencing the text content
of the linked element (see <a href="/doc/12/doc-prince/#target-content">Using target-content()</a>), or</li>
<li>the <code>prince-base-url()</code> function, returning the base URL of the
current document.</li>
</ul>
<p>
It can also be done with the <code>prince-fallback(<i>url</i>)</code> function, which
works just like the <code>url()</code> function, but also has the
possibility of specifying a fallback <code>content</code>, in case the
loading of the URL should fail.
</p>
<p>
The content to be inserted can also be fetched from the attributes of other
elements with the <code>attr(<i>attribute-name</i>)</code> function, or from
other elements with the following mechanisms:
</p>
<ul>
<li>
Any block-level element can be removed from the normal document flow, to be inserted
in a page region: it is best removed with the <code><a href="/doc/12/doc-refs/#prop-position">position</a></code>
property and its <code>running(<i>name</i>)</code> function, and inserted with the
<code>element(<i>name</i>)</code> function.  Alternatively, it can be removed with the
<code><a href="/doc/12/doc-refs/#prop-prince-flow">prince-flow</a></code> property, to be inserted with the
<code>flow(<i>name</i>)</code> function.  See the documentation for
<a href="/doc/12/doc-prince/#content-taking-elements">Taking elements from the document</a> for more details.
</li>
<li>
An element can be referenced with the <code>string(<i>ident</i>)</code> function after having
been defined in the <code><a href="/doc/12/doc-refs/#prop-string-set">string-set</a></code> property with the
<code>content()</code> function.  This does not remove the element from the natural
document flow, but instead copies it into the page region.  See
<a href="/doc/12/doc-prince/#content-copying-text">Copying content from the document</a>.
</li>
</ul>
<p>
The following functions can also be used for different forms of counters:
</p>
<ul>
  <li>the <code>counter(<i>name</i>)</code> function generates a value for the innermost
  counter,</li>
  <li>the <code>counters(<i>name</i>, "<i>separator</i>")</code> function concatenates counters on all
  levels;</li>
  <li>the <code>target-counter(<i>url</i>, <i>counter</i>)</code> function retrieves the value of the
  innermost counter with a given name at the given URL, and</li>
  <li>the <code>target-counters(<i>url</i>, <i>counter</i>, "<i>separator</i>")</code>
  function retrieves the value of all
  counters of a given name from the end of the given URL.</li>
</ul>
<p>
All counter functions can take an optional argument to define the counter
style (see <a href="/doc/12/doc-prince/#counter-styles">Counter styles</a>).  Prince also offers two
mechanisms to create user-defined counter styles: either by means of the
<code>prince-script()</code> function (see below, and
<a href="/doc/12/doc-prince/#counter-user-styles">User-defined counter styles</a>), or by means of the generated
content functions <code>repeat(<i>string+</i>)</code>,
defining a sequentially repeated pattern for numbering the items, or
<code>symbols(<i>string+</i>)</code>, defining the symbols used for
numbering the items.
</p>
<p>
Last but not least, Prince supports arbitrary JavaScript functions to be called
from CSS generated content using the <code>prince-script()</code> function (see
<a href="/doc/12/doc-prince/#scriptfunc">Script Functions</a>).
</p>
<p>A special function is <code>prince-glyph-index(<i>int</i>)</code>, which allows
to choose a glyph from a font by the index of that glyph in the font.  Note that this
is very non-portable, as glyph indices are specific to individual font versions.
But it is a possible escape hatch for people who need a specific glyph and don't
have any other way of accessing it (by Unicode character or OpenType substitution).
</p>

<h4 id="gen-content-functions-pagepolicy">The optional  <code>page-policy</code> value<a href="#gen-content-functions-pagepolicy" class="self-link"></a>
</h4>

<p>
The generated content functions <code>element()</code>, <code>counter()</code>,
<code>counters()</code>, <code>string()</code> and <code>flow()</code>, have
a second, optional argument, namely <code>page-policy</code>, which can be
one of the following:
</p>

<dl>
 <dt><code>start</code></dt>
 <dd>defining the value the counter had at the start of the page (eg. the last value
 it was set to on the previous page);</dd>
 <dt><code>first</code></dt>
 <dd>defining the first value the counter was set to on this page, or the same as
 <code>start</code> if the counter was not set on this page;</dd>
 <dt><code>first-except</code></dt>
 <dd>defining the first value the counter was set to on this page, or no value at
 all if it was set on this page;</dd>
 <dt><code>last</code></dt>
 <dd>defining the last value the counter was set to on this page, or the same as
 <code>start</code> if the counter was not set on this page.</dd>
</dl>

<p>
The page policy values of the <code>string()</code> function are only
meaningful for <code>string()</code> used in page region content.
</p>
<p>
For a good example of its use, please see <a href="/doc/12/doc-prince/#content-copying-text">Copying content from the document</a>.
</p>


  <h3 id="content-before-after">Before and After pseudo-elements <a href="#content-before-after" class="self-link"></a>
</h3>
<p>
The <code><a href="/doc/12/doc-refs/#prop-content">content</a></code> property can be applied to the
<code>::before</code> and <code>::after</code> pseudo-elements to add generated
content before or after an element. For example, adding section numbers in front
of headings or including quotation marks around a block of text.
</p>

<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code language="css"><pre>h1::before, h1::after { content: "***" }</pre></code>
</div>
<p class="comment">
This will place three asterisks before and after <code>h1</code> elements.
</p>
</div>



  <h3 id="counters">Counters and Numbering <a href="#counters" class="self-link"></a>
</h3>

<p>
Counters are the mechanism provided by CSS to perform numbering.
They can be used to number list items, pages, footnotes, sections and
any other document content that needs to be numbered.
</p>

  <h4 id="counters-reset-increment">Initializing and incrementing counters <a href="#counters-reset-increment" class="self-link"></a>
</h4>

<p>
To use a counter, it first needs to be initialized with the
<code><a href="/doc/12/doc-refs/#prop-counter-reset">counter-reset</a></code> property, which can be applied
to any element and initializes one or more counters to the specified values,
or to zero if no value is specified.  The property can be used to reset a
counter by re-initializing it.
</p>
<p>
Unless the resetting of a counter creates a nested counter, the scope of
the counter includes the current element and all of its following siblings.
</p>
<p>
The <code><a href="/doc/12/doc-refs/#prop-counter-increment">counter-increment</a></code> property applies to any
element and increments or decrements one or more counters by the specified
values, or by one if no value is specified.
</p>
<p>
The <code><a href="/doc/12/doc-refs/#prop-counter-increment">counter-increment</a></code> and
<code><a href="/doc/12/doc-refs/#prop-counter-reset">counter-reset</a></code> properties are ignored on
elements whose <code><a href="/doc/12/doc-refs/#prop-display">display</a></code> property has the
value <code>none</code>.
</p>

  <h4 id="counters-display">Displaying counters <a href="#counters-display" class="self-link"></a>
</h4>

<p>
Once initialized, a counter can be displayed with either the <code>counter()</code>
or <code>counters()</code> function in a <code><a href="/doc/12/doc-refs/#prop-content">content</a></code>
property.
</p>

<p>
The <code>counter()</code> function generates a value for the innermost counter,
formatted in the optional counter style (decimal by default - see
<a href="/doc/12/doc-prince/#counter-styles">Counter styles</a>).

</p>

<p>
The <code>counters()</code> function concatenates counters on different levels,
separated with the separator string and formatted in the optional counter style
(decimal by default - see <a href="/doc/12/doc-prince/#counter-styles">Counter styles</a>).
</p>

<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code language="css"><pre>div.example1 { counter-reset: h3 h4 }
div.example1 h3 { counter-increment: h3 }
div.example1 h4 { counter-increment: h4 }
div.example1 h3::before { content: counter(h3) }
div.example1 h4::before {
    content: counter(h4, lower-alpha)
}</pre></code>
</div>
<p class="comment">
This creates two counters inside the scope of
a <code>div</code> element. All <code>h3</code> and <code>h4</code> heading
elements will be numbered starting from 1 and the counter number will be
placed before the heading text.
</p>
</div>

<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code language="css"><pre>div.example2 { counter-reset: h3 }
div.example2 h3 {
    counter-increment: h3;
    counter-reset: h4
}
div.example2 h4 { counter-increment: h4 }
div.example2 h3::before { content: counter(h3) }
div.example2 h4::before {
    counter(h4, lower-alpha)
}</pre></code>
</div>
<p class="comment">
In this example the <code>h4</code> counter will be reset at each
<code>h3</code> element, to produce sub-section numbering that restarts
at each new section.
</p>
</div>


  <h4 id="counters-nested">Nested counters <a href="#counters-nested" class="self-link"></a>
</h4>

<p>
If a counter is reset on an element and the same counter has also been
reset on an ancestor of that element, a nested counter will be created.
The scope of the nested counter is the current element only and its
final value will not be carried onto its following siblings.
</p>
<p>
For example, a nested XHTML list with a <code>ul</code> element inside a
<code>li</code> inside another <code>ul</code> creates a nested
<code>list-item</code> counter.
</p>
<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code language="css"><pre>ol { counter-reset: list-item }
li { counter-increment: list-item }
li::marker {
    content: counters(list-item, ".", decimal);
    color: brown;
    font-weight: bold
}</pre></code>
</div>
</div>



  <h4 id="counter-styles">Counter styles <a href="#counter-styles" class="self-link"></a>
</h4>

<p>
Counter values are displayed as decimal numbers by default, but they may
be displayed using other styles such as roman numerals or consecutive letters
of the alphabet.
</p>
<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code language="css"><pre>chapter { counter-increment: chapter-num }

chapter::before {
    content: "Chapter " counter(chapter-num, upper-roman)
}</pre></code>
</div>
<p class="comment">
This rule will generate text such as "Chapter IV" before each chapter, with
the appropriate chapter number displayed in uppercase roman numerals.
</p>
</div>
<p>
The following table shows examples of the various
counter styles:
</p>
<table class="grid">
<tr>
<td>decimal</td>
<td>1, 2, 3, … 9, 10, 11, …</td>
</tr>
<tr>
<td>decimal-leading-zero</td>
<td>01, 02, 03, … 09, 10, 11, …</td>
</tr>
<tr>
<td>lower-roman</td>
<td>i, ii, iii, iv, v, vi, …</td>
</tr>
<tr>
<td>upper-roman</td>
<td>I, II, III, IV, V, VI, …</td>
</tr>
<tr>
<td>lower-alpha, lower-latin</td>
<td>a, b, c, … z, aa, ab, …</td>
</tr>
<tr>
<td>upper-alpha, upper-latin</td>
<td>A, B, C, … Z, AA, AB, …</td>
</tr>
<tr>
<td>asterisks</td>
<td>*, **, ***, ****, …</td>
</tr>
<tr>
<td>lower-hexadecimal</td>
<td>1, 2, 3, … 9, a, b, c, …</td>
</tr>
<tr>
<td>upper-hexadecimal</td>
<td>1, 2, 3, … 9, A, B, C, …</td>
</tr>
<tr>
<td>octal</td>
<td>1, 2, 3, 4, 5, 6, 7, 10, 11, 12, …</td>
</tr>
<tr>
<td>binary</td>
<td>1, 10, 11, 100, 101, 110, 111, …</td>
</tr>
<tr>
<td>arabic-indic</td>
<td>١, ٢, ٣, ٤, ٥, ٦, …</td>
</tr>
<tr>
<td>lower-greek</td>
<td>α, β, γ, …, ι, κ, λ, …</td>
</tr>
<tr>
<td>upper-greek</td>
<td>Α, Β, Γ, …, Ι, Κ, Λ, …</td>
</tr>
<tr>
<td>persian / urdu</td>
<td>۱, ۲, ۳, ۴, ۵, ۶, …</td>
</tr>
<tr>
<td>cjk-decimal</td>
<td>一, 二, 三, 四, 五, 六, …</td>
</tr>
<tr>
<td>japanese-informal</td>
<td>一, 二, 三, 四, 五, 六, …</td>
</tr>
<tr>
<td>simp-chinese-informal</td>
<td>一, 二, 三, 四, 五, 六, …</td>
</tr>
<tr>
<td>trad-chinese-informal</td>
<td>一, 二, 三, 四, 五, 六, …</td>
</tr>
<tr>
<td>japanese-formal</td>
<td>壱, 弐, 参, 四, 五, 六, …</td>
</tr>
<tr>
<td>simp-chinese-formal</td>
<td>壹, 贰, 叁, 肆, 伍, 陆, …</td>
</tr>
<tr>
<td>trad-chinese-formal</td>
<td>壹, 貳, 參, 肆, 伍, 陸, …</td>
</tr>
<tr>
<td>lower-norwegian</td>
<td>a, b, c, … z, æ, ø, å, aa, ab, …</td>
</tr>
<tr>
<td>upper-norwegian</td>
<td>A, B, C, … Z, Æ, Ø, Å, AA, AB, …</td>
</tr>
<tr>
<td>lower-russian</td>
<td>а, б, в, г, д, е, ж, …</td>
</tr>
<tr>
<td>upper-russian</td>
<td>А, Б, В, Г, Д, Е, Ж, …</td>
</tr>
<tr>
<td>lower-ukranian</td>
<td>а, б, в, г, д, е, є, …</td>
</tr>
<tr>
<td>upper-ukranian</td>
<td>А, Б, В, Г, Д, Е, Є, …</td>
</tr>
<tr>
<td>lower-belarusian</td>
<td>а, б, в, г, д, е, ж, …</td>
</tr>
<tr>
<td>upper-belarusian</td>
<td>А, Б, В, Г, Д, Е, Ж, …</td>
</tr>
<tr>
<td>lower-bulgarian</td>
<td>а, б, в, г, д, е, ж, …</td>
</tr>
<tr>
<td>upper-bulgarian</td>
<td>А, Б, В, Г, Д, Е, Ж, …</td>
</tr>
<tr>
<td>lower-serbian</td>
<td>а, б, в, г, д, ђ, е, …</td>
</tr>
<tr>
<td>upper-serbian</td>
<td>А, Б, В, Г, Д, Ђ, Е, …</td>
</tr>
<tr>
<td>repeat(x, y, z)</td>
<td>x, y, z, xx, yy, zz, xxx, yyy, …</td>
</tr>
<tr>
<td>symbols(x, y, z)</td>
<td>x, y, z, 4, 5, 6, …</td>
</tr>
</table>

<p>
See also <a href="/doc/12/doc-prince/#counter-user-styles">User-defined counter styles</a> for custom counters.
</p>




  <h3 id="crossref">Cross-references <a href="#crossref" class="self-link"></a>
</h3>

<p>
Prince supports cross-references using generated content with two special
functions: <code>target-counter()</code> and <code>target-content()</code>.
</p>


  <h4 id="counter-target">Using target-counter() <a href="#counter-target" class="self-link"></a>
</h4>

<p>
The <code>target-counter()</code> function can be used with the
<code><a href="/doc/12/doc-refs/#prop-content">content</a></code> property to reference the
value of a counter at a linked element.
</p>
<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code language="css"><pre>a[href]::after {
    content: " [See page " target-counter(attr(href), page) "]"
}</pre></code>
</div>
<p class="comment">
This will add a cross-reference after every link with the correct page number
determined automatically. For example: [See page 17].
</p>
</div>
<p>
The <code>target-counter()</code> function can specify any counter, allowing
cross-references to refer to list items, chapters or sections as well as pages.
</p>
<p>
The <code>target-counter()</code> function can also take an optional counter
style, similar to the normal counter function.
</p>
<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code language="css"><pre>a[href]::after {
    content: " [See chapter "
	     target-counter(attr(href), chapter, upper-roman)
	     "]"
}</pre></code>
</div>
<p class="comment">
This will add a cross-reference after every link with the correct chapter
number determined automatically and displayed using roman numerals.
For example: [See chapter IV].
</p>
</div>



  <h4 id="target-content">Using target-content() <a href="#target-content" class="self-link"></a>
</h4>

<p>
The <code>target-content()</code> function can be used with the
<code><a href="/doc/12/doc-refs/#prop-content">content</a></code> property to reference the
text content of a linked element.
</p>
<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code language="css"><pre>a[href]::after {
    content: " [See '" target-content(attr(href)) "']"
}</pre></code>
</div>
<p class="comment">
This will add a cross-reference after every link that includes the text of the
element being linked to, such as a chapter title. For example:
[See 'Introduction'].
</p>
</div>





  <h3 id="scriptfunc">Script Functions <a href="#scriptfunc" class="self-link"></a>
</h3>

<p>
Prince supports arbitrary JavaScript functions to be called from CSS generated
content using the <code>prince-script()</code> function (see the
<code><a href="/doc/12/doc-refs/#prop-content">content</a></code> property).  To make the functions available
to CSS, the <code>Prince.addScriptFunc</code> method is used
(see <a href="/doc/12/doc-prince/#js-prince-obj">The Prince Object</a>).
</p>
<p>
Please note that Prince is not running JavaScript by default - it needs to be
explicitly enabled. See <a href="/doc/12/doc-prince/#applying-javascript">Applying JavaScript in Prince</a>.
</p>

<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code language="css"><pre>p::after {
    content: prince-script(myfunc)
}</pre></code>
</div>
<p class="label">JavaScript</p>
<div class="programlisting">
<code language="js"><pre>function myfunc()
{
    return "Some generated content text!";
}

Prince.addScriptFunc("myfunc", myfunc);</pre></code>
</div>
</div>


  <h4 id="content-date-time">Accessing the current date and time <a href="#content-date-time" class="self-link"></a>
</h4>

<p>
JavaScript functions have access to the current date and time, which can be
added to the document using <code>prince-script()</code> in generated content.
</p>

<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code language="css"><pre>@page {
    @top {
	content: prince-script(datestamp)
    }
}</pre></code>
</div>
<p class="label">JavaScript</p>
<div class="programlisting">
<code language="js"><pre>Prince.addScriptFunc("datestamp", function() {
    return (new Date()).toString();
});</pre></code>
</div>
</div>



  <h4 id="counter-user-styles">User-defined counter styles <a href="#counter-user-styles" class="self-link"></a>
</h4>

<p>
The JavaScript functions used with <code>prince-script()</code> can take
arguments that are themselves generated content. This allows functions to
operate on counter values and implement new counter styles.
</p>

<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code language="css"><pre>li::marker {
    content: prince-script(mycounterstyle, counter(list-item))
}</pre></code>
</div>
<p class="label">JavaScript</p>
<div class="programlisting">
<code language="js"><pre>Prince.addScriptFunc("mycounterstyle", function(n) {
    if (n == 1) return "one";
    else if (n == 2) return "two";
    else if (n == 3) return "three";
    else return n;
});</pre></code>
</div>
</div>

<p>
For another way of creating user-defined counter styles, see <a href="/doc/12/doc-prince/#gen-content-functions">Generated Content Functions</a>.
</p>






  <h1 id="javascript">Scripting <a href="#javascript" class="self-link"></a>
</h1>

<p>
JavaScript can be used to transform documents by generating tables of contents
and indices, sorting tables, rendering charts and graphs, and other tasks that
go beyond the scope of CSS.
</p>
<p>
Scripts can access and modify the input document using the W3C standard DOM
(Document Object Model). Prince also supports some additional properties and
methods described below.
</p>
<p>
Please note that Prince is not running JavaScript by default - it needs to be explicitly
enabled.  See <a href="/doc/12/doc-prince/#applying-javascript">Applying JavaScript in Prince</a>.
</p>


<h2 id="js-print">JavaScript in Printed Media <a href="#js-print" class="self-link"></a>
</h2>

<p>Prince is a user agent producing primarily documents meant to be printed, and
as such, some limitations are in place that set it apart from most other user agents
that support JavaScript.</p>

<p>The most notable difference is the fact that a printed page cannot be interactive,
being static in nature: a document cannot be modified after it is deemed to be ready
for print.  JavaScript can be run twice only: the first time it is run before layout,
where it interacts with and modifies the layout (and the DOM structure).  Once layout
is finished, JavaScript can be run a second time from the <code>complete</code> event
handler (see <a href="/doc/12/doc-prince/#js-event">Event Handling</a>).  However, this time it is only allowed to
inspect the layout and cannot modify the DOM.  See also <a href="/doc/12/doc-prince/#two-pass">The "Two-Pass" Solution</a>.</p>

<p>A consequence of the non-interactive nature of printed media is that any interactive
events, such as e.g. <code>onClick</code>, do not make sense, and will never fire.</p>

<p>
Prince allows also for scripts to be passed directly to the PDF, to be executed
when the PDF file is opened.  The <code><a href="/doc/12/doc-refs/#prop-prince-pdf-script">prince-pdf-script</a></code>
property is used for this purpose.  A common use case is to activate the "Print"
dialog automatically.  See also <a href="/doc/12/doc-prince/#pdf-actions">PDF Actions</a>.
</p>


<h2 id="js-prince">JavaScript in Prince <a href="#js-prince" class="self-link"></a>
</h2>

<p>
Prince supports most of ECMAScript 5th edition (ES5), but not strict mode.  Later
editions of ECMAScript are not supported.
</p>

<p>
A full list of all supported JavaScript objects, methods and properties can be
found in the <a href="/doc/12/doc-refs/">References</a> section in
<a href="/doc/12/doc-refs/#js-support">JavaScript Support</a>.  Here we shall just illustrate a few highlights
from Prince's JavaScript support.
</p>

<h3 id="js-logging">Logging <a href="#js-logging" class="self-link"></a>
</h3>
<p>
The Prince log can be accessed from JavaScript via the
<a href="/doc/12/doc-refs/#window.Log"><code>Log</code></a> object
(also available as <a href="/doc/12/doc-refs/#window.Prince.Log"><code>Prince.Log</code></a>),
which has the following methods:
</p>
<div class="example">
<div class="programlisting">
<code language="javascript"><pre>Log.info("message")
Log.warning("message")
Log.error("message")
Log.data("name", "value")</pre></code>
</div>
</div>



  <h3 id="js-console">Console Access <a href="#js-console" class="self-link"></a>
</h3>
<p>
When running Prince from the command-line, the  <code>console</code> object
can be used to write messages directly to the terminal:
</p>
<div class="example">
<div class="programlisting">
<code><pre>console.log("Hello, world!")</pre></code>
</div>
</div>
<p class="note">
Console access is only supported when running Prince directly from the
command-line, and should not be used when calling Prince through a server
wrapper or graphical user interface.
</p>



  <h3 id="js-event">Event Handling <a href="#js-event" class="self-link"></a>
</h3>
<p>
When the document has been fully parsed and is ready for processing, Prince
will fire the <code>DOMContentLoaded</code> and <code>load</code> events on
the <code>window</code> object.
</p>
<p>
These load events can be captured by setting the <code>onload</code>
attribute on
the <code>body</code> element in HTML documents, or by setting the
<code>window.onload</code> property or calling
<code>window.addEventListener</code>.
</p>
<p>
When document conversion has finished, Prince will fire the
<code>complete</code> event on the <code>Prince</code> object. This event can
be captured by calling <code>Prince.addEventListener</code>, and is useful for
logging document statistics, or for using the output for <a href="/doc/12/doc-prince/#two-pass">The "Two-Pass" Solution</a>.
</p>
<p class="note">
When multiple documents are processed into one PDF, the <code>complete</code>
event will only fire once, on the first document.
</p>
<p>
User interface events such as <code>onclick</code> are not supported by Prince.
</p>



  <h3 id="js-document-stats">Document Statistics <a href="#js-document-stats" class="self-link"></a>
</h3>
<p>
The <a href="/doc/12/doc-refs/#window.Prince.pageCount"><code>Prince.pageCount</code></a>
property can be accessed after document conversion has finished, then logged as
data for the calling process to access:
</p>
<div class="example">
<div class="programlisting">
<code><pre>function logPageCount()
{
    Log.data("total-page-count", Prince.pageCount);
}

Prince.addEventListener("complete", logPageCount, false);</pre></code>
</div>
</div>
<p>
See also <a href="/doc/12/doc-prince/#two-pass">The "Two-Pass" Solution</a> for another use of accessing document properties
after the document conversion has finished.
</p>


  <h3 id="js-prince-obj">The Prince Object <a href="#js-prince-obj" class="self-link"></a>
</h3>
<p>
The <a href="/doc/12/doc-refs/#window.Prince"><code>Prince</code></a>
object can be used to control various scripting aspects in Prince.
</p>

<div class="example">
<div class="programlisting">
<code><pre>Prince.addScriptFunc(name, function)
Prince.trackBoxes = (boolean)
Prince.convertToFile(JSON, OutputFileName, ...optional extra job resources)
Prince.convertToBuffer(JSON, ...optional extra job resources)</pre></code>
</div>
</div>

<p>
The <a href="/doc/12/doc-refs/#window.Prince.addScriptFunc"><code>Prince.addScriptFunc</code></a>
method takes two arguments: the string name that will be exposed to CSS, and the
function itself.  See <a href="/doc/12/doc-prince/#scriptfunc">Script Functions</a> for an example.
</p>

<p>
<a href="/doc/12/doc-refs/#window.Prince.trackBoxes"><code>Prince.trackBoxes</code></a>
is a bool that will enable the box tracking API if set to true, so that it can be
used later in the <code>complete</code> event.  See <a href="/doc/12/doc-prince/#js-box">The Box Tracking API</a>.
</p>

<p>
The <a href="/doc/12/doc-refs/#window.Prince.convertToFile"><code>Prince.convertToFile</code></a>
and <a href="/doc/12/doc-refs/#window.Prince.convertToBuffer"><code>Prince.convertToBuffer</code></a>
methods allow you to start new Prince jobs:
</p>

<div class="example">
<div class="programlisting">
<code><pre>convertToFile(JSON, OutputFileName, ...optional extra job resources)</pre></code>
</div>
<p>- returns bool indicating success</p>
</div>

<div class="example">
<div class="programlisting">
<code><pre>convertToBuffer(JSON, ...optional extra job resources)</pre></code>
</div>
<p>- returns ArrayBuffer if successful, null if not</p>
</div>

<p>
Whereby <code>JSON</code> is a job description similar to the one specified in
the <a href="/doc/12/doc-prince/#cmd-control">Prince Control Protocol</a>, while the optional extra job resource
arguments are ArrayBuffers or strings that can be referenced from the JSON
using the <code>job-resource:</code> URLs.  See <a href="/doc/12/doc-prince/#cmd-control">Prince Control Protocol</a>.
</p>



  <h3 id="js-pdf">The PDF Object <a href="#js-pdf" class="self-link"></a>
</h3>
<p>
The <a href="/doc/12/doc-refs/#window.PDF"><code>PDF</code> object</a> can
be used to specify PDF properties and settings, including attaching extra files
to the generated PDF, similar to the
<a href="/doc/12/doc-refs/#cl-attach"><code>--attach</code></a>
command-line argument:
</p>

<div class="example">
<div class="programlisting">
<code><pre>PDF.attachFile(url, description?)

PDF.attachFile("data.xls", "Latest sales figures.");</pre></code>
</div>
</div>

<p>
Other PDF properties, which are set by assignment, include:
</p>

<div class="example">
<div class="programlisting">
<code><pre>PDF.embedFonts = (boolean)
PDF.subsetFonts = (boolean)
PDF.artificialFonts = (boolean)

PDF.compress = (boolean)

PDF.encrypt = (boolean)
PDF.userPassword, PDF.ownerPassword = (string, can be null)
PDF.allowPrint, PDF.allowModify, PDF.allowCopy, PDF.allowAnnotate = (boolean)
PDF.keyBits = "40" | "128"

PDF.script = (string, can be null)
PDF.openAction = (eg. "print")
PDF.pageLayout = "single-page" | "one-column" | "two-column[-left/right]"
PDF.pageMode = "auto" | "show-bookmarks" | "fullscreen" | "show-attachments"
PDF.printScaling = "auto" | "none"
PDF.duplex = "auto" | "simplex" | "duplex-flip-short-edge" | "duplex-flip-long-edge"

PDF.profile = (string, can be null)
PDF.outputIntent = (URL string, can be null)

PDF.objectStreams = (boolean)

PDF.title
PDF.subject
PDF.author
PDF.keywords
PDF.creator

PDF.lang</pre></code>
</div>
</div>

<p>
There is one more PDF object not mentioned so far: the
<a href="/doc/12/doc-refs/#window.PDF.pages"><code>PDF.pages</code></a>
object is different from all preceding PDF objects - the latter ones are set
before document conversion begins, while the former becomes available only <em>after</em>
the <code>complete</code> event (see <a href="/doc/12/doc-prince/#js-event">Event Handling</a>) and returns a
list of <i>boxes</i> - see <a href="/doc/12/doc-prince/#js-box">The Box Tracking API</a>.
</p>


  <h3 id="js-box">The Box Tracking API <a href="#js-box" class="self-link"></a>
</h3>

<p>
The box tracking API must be enabled with
<a href="/doc/12/doc-refs/#window.Prince.trackBoxes"><code>Prince.trackBoxes</code></a>
before formatting starts.
</p>

<div class="example">
<div class="programlisting">
<code><pre>Prince.trackBoxes = true;</pre></code>
</div>
</div>

<p>
It then becomes available in the <code>complete</code> event (see
<a href="/doc/12/doc-prince/#js-event">Event Handling</a>), when you can call the
<a href="/doc/12/doc-refs/#window.Element.prototype.getPrinceBoxes"><code>getPrinceBoxes()</code></a>
method while iterating through the required DOM elements, to return a list of
<i>boxes</i>.
</p>

<div class="example">
<div class="programlisting">
<code><pre>Prince.addEventListener("complete", function() {
  var xs = document.getElementsByTagName("ins");
  for (var i = 0; i &lt; xs.length; ++i)
    {
      var ins = xs[i];
      var boxes = ins.getPrinceBoxes();
    }
}, false);</pre></code>
</div>
</div>

<p>
The <a href="/doc/12/doc-refs/#window.PDF.pages"><code>PDF.pages</code></a>
array mentioned earlier (see <a href="/doc/12/doc-prince/#js-pdf">The PDF Object</a>) also is available only
after the <code>complete</code> event and also returns a list of <i>boxes</i>
(see <a href="/doc/12/doc-prince/#page-regions">Page regions</a>).
</p>

<div class="example">
<div class="programlisting">
<code><pre>function printbox(str,box) {
  console.log("");
  for (var i in box) {
    console.log(str+i+": "+box[i]);
  }
  for (var i=0; i&lt;box.children.length; i++) {
    printbox(str+"  ",box.children[i]);
  }
}

Prince.addEventListener("complete", function() {
  var pages = PDF.pages;
  for (var i = 0; i&lt;pages.length; ++i)
    {
      console.log("PAGE "+(i+1)+" HAS THESE BOXES");
      printbox("  ",pages[i]);
    }
}, false);</pre></code>
</div>
</div>

<p>
<i>Boxes</i> are JavaScript objects with some or all of the following properties:
</p>

<div class="example">
<div class="programlisting">
<code><pre>type =     "BODY" |
           "COLUMN" |
           "FLEXLINE" |
           "FOOTNOTES" |
           "FLOATS" |
           "BOX" |
           "LINE" |
           "SPAN" |
           "TEXT" |
           "SVG" |
           "IMAGE"
pageNum =  the page of the current box
x =        x-coordinate, in pt
y =        y-coordinate, in pt (set to zero on some boxes)
w =        width, in pt
h =        height, in pt (set to zero on some boxes)
children = array of child boxes
parent =   parent box
element =  DOM element for box (may be null)
pseudo =   pseudo-element name or null
text =     string
src =      URL string for images
style =    CSS style object for box</pre></code>
</div>
<p>
The <code>x</code>, <code>y</code>, <code>w</code> and <code>h</code> measures,
defining respectively the x- and y-coordinates and the width and height of the
<i>box</i>, use the same coordinate system as the PDF, i.e. the box tracking
units are measured in points (<code>pt</code>) and the origin is the lower left
corner of the page.
</p>
<p class="note">
The box with the value <code>BODY</code> represents the <i>page area</i> returned by
<a href="/doc/12/doc-refs/#window.PDF.pages"><code>PDF.pages</code></a>
(and thus is not necessarily equivalent with the <code>body</code> element);
the content of the <i>page-margin boxes</i> is not included in the tree (see
<a href="/doc/12/doc-prince/#page-regions">Page regions</a> for the definition of <i>page area</i> and
<i>page-margin boxes</i>).
</p>
</div>

<p>
The properties of a <i>box</i> can be queried with the
<a href="/doc/12/doc-refs/#window.BoxInfo"><code>BoxInfo()</code></a>
method.
</p>

<p>
Since the box tracking API is available only <em>after</em> the <code>complete</code>
event, it cannot be used to modify the document (see <a href="/doc/12/doc-prince/#js-print">JavaScript in Printed Media</a>).
</p>

<p>
However, see <a href="/doc/12/doc-prince/#two-pass">The "Two-Pass" Solution</a> for making use of its output.  Two further
sample applications of the box tracking API can be seen in the
<a href="//www.princexml.com/forum/topic/3516/changebars">Changebars</a> example,
and in <a href="//www.princexml.com/forum/topic/3603/detecting-overflow">Detecting
Overflow</a>.
</p>


  <h3 id="js-unsupported">Unsupported DOM Properties <a href="#js-unsupported" class="self-link"></a>
</h3>

<p>
The following DOM properties are not supported in Prince:
</p>

<div class="example">
<div class="programlisting">
<code><pre>document.write
window.setInterval</pre></code>
</div>
</div>





  <h1 id="graphics">Graphics <a href="#graphics" class="self-link"></a>
</h1>

<p>
Prince supports a wide range of graphic features, treated in more detail in the
following sections.  RGB, RGBA, HSL, HSLA, CMYK, and named spot colors are
supported, and so is color management.  Bitmap images and SVG are supported.
</p>


  <h2 id="color">Color <a href="#color" class="self-link"></a>
</h2>

<p>
Prince supports RGB, RGBA, CMYK, HSL, HSLA and named spot colors.  For Prince's
color management, please see the <a href="/doc/12/doc-prince/#color-management">Color Management</a> section.
</p>

<p>
Prince understands CSS basic color names as well as the list of extended color
keywords from the <a href="https://www.w3.org/TR/css-color-4/#named-colors">CSS
Color Module Level 4</a>.  It also supports the keywords <code>transparent</code>
and <code>currentColor</code>.
</p>


  <h3 id="color-rgb">RGB(A) <a href="#color-rgb" class="self-link"></a>
</h3>

<p>
To use an RGB color in CSS, it can be expressed either as a value in hexadecimal notation,
as an <code>rgb()</code> function or as a named color.  For example, red can be specified
in three ways:
</p>
<div class="example">
<div class="programlisting">
<code><pre>color: #ff0000
color: rgb(255, 0, 0)
color: red</pre></code>
</div>
</div>

<p>
RGBA colors are equivalent to RGB plus an opacity (or alpha) value between 0 and 1.
When the opacity is 0 the color is transparent, and when the opacity is 1 the
color is identical to the RGB color. RGBA colors are expressed as an <code>rgba()</code>
function.
</p>
<div class="example">
<div class="programlisting">
<code><pre>color: rgba(255, 0, 0, 1)    // red
color: rgba(255, 0, 0, 0.5)  // translucent red
color: rgba(255, 0, 0, 0)    // fully transparent</pre></code>
</div>
</div>



  <h3 id="color-cmyk">CMYK <a href="#color-cmyk" class="self-link"></a>
</h3>
<p>
CMYK colors can be specified using the <code>cmyk()</code> or, alternatively, the
equivalent <code>device-cmyk()</code> function syntax.  An optional fifth value is
for the alpha channel, i.e. for opacity.
</p>
<div class="example">
<div class="programlisting">
<code><pre>color: cmyk(1, 0, 0, 0)       // cyan
color: cmyk(0, 1, 1, 0)       // red
color: cmyk(0, 0, 0, 1)       // black
color: cmyk(0, 1, 1, 0, 0.1)  // translucent red</pre></code>
</div>
</div>


  <h3 id="color-hsl">HSL(A) <a href="#color-hsl" class="self-link"></a>
</h3>

<p>
HSL(A) colors are supported as of Prince 12.1 .
</p>

<p>
HSL (Hue-Saturation-Lightness) color values can be specified with the <code>hsl()</code>
function.  HSL takes three values:
</p>
<ul>
  <li>Hue is a degree on the color wheel (<code>0</code> or <code>360</code> is red, <code>120</code> is green, <code>240</code> is blue);</li>
  <li>Saturation is a percentage value, and</li>
  <li>Lightness is also a percentage.</li>
</ul>
<p>
Just as with RGB values expressed with the <code>rgb()</code> function an alpha
channel for opacity can be added with the <code>rgba()</code> function, so also
for HSL color values an alpha channel can be expressed with the <code>hsla()</code>
function, which adds a fourth value for alpha - when the opacity is 0 the color is
transparent, and when the opacity is 1 the color is identical to the HSL color.
</p>

<p>
The advantage of HSL over RGB is that it is much more intuitive to use and easier
to create sets of matching colors (by keeping the same hue and varying the
lightness and saturation values).
</p>

  <h3 id="color-spot">Spot colors <a href="#color-spot" class="self-link"></a>
</h3>
<p>
Prince also supports named spot colors that can be defined with the
<a href="/doc/12/doc-refs/#at-prince-color"><code>@prince-color</code></a>
rule.  An alternate color must also be specified with the <code><a href="/doc/12/doc-refs/#prop-alternate-color">alternate-color</a></code>
property, using any of the valid notations for RGB, HSL or CMYK colors.  This will be used
in situations where the named color is not available, such as when viewing the generated
PDF file on a display.  Please note that <code><a href="/doc/12/doc-refs/#prop-alternate-color">alternate-color</a></code> cannot
be RGBA, HSLA or CMYKA.
</p>

<div class="example">
<div class="programlisting">
<code><pre>@prince-color MyColor {
    alternate-color: rgb(255,0,0)
}</pre></code>
</div>
</div>

<p>
Spot colors can be used with the <code>prince-color()</code> function with a specified
tint value between 0 and 1, which defaults to 1, or alternatively expressed in percentage.
They can also enable overprint:
</p>

<div class="example">
<div class="programlisting">
<code><pre>color: prince-color(MyColor)                  // tint 1.0
color: prince-color(MyColor, 0.5)             // tint 0.5
color: prince-color(MyColor, overprint)       // tint 1.0, overprint
color: prince-color(MyColor, 50%, overprint)  // tint 50%, overprint</pre></code>
</div>
</div>

<p>
Another way to enable overprint is by using the <code>prince-overprint()</code>
function, which allows to specify a non-transparent color value.
</p>

<div class="example">
<div class="programlisting">
<code><pre>color: prince-overprint(red);
color: prince-overprint(cmyk(0,1,1,0));</pre></code>
</div>
</div>





  <h2 id="color-management">Color Management <a href="#color-management" class="self-link"></a>
</h2>

<h3 id="colman-intro">Introduction <a href="#colman-intro" class="self-link"></a>
</h3>

<p>
The purpose of color management is to keep the appearance of colors consistent as
they are converted between different devices and media. This is e.g. of advantage
when preparing a PDF file on a computer screen before sending it to a printer - the
desirable result will be to have a print that looks as close as possible to the display
on the screen.  Perfect equivalence is not possible, also not least because of the
difference between a device with reflected light, such as paper, and one with direct
light, such as a screen, but color management helps to achieve a close match in perception.
</p>

<p>
The conversion of color is facilitated by profiling devices; the set of data that
characterizes a device or color space, i.e. the color attributes of the device, is
kept as an ICC color profile.  Color profiles are often embedded in image files to
denote the color space of the image.  When the color space is not known, color values
are essentially arbitrary numbers without a physical interpretation.
</p>

<p>
The aim of Prince, within a color-managed workflow, is to preserve color information
(namely, color profiles) from the input documents and images, through to the PDF
output file.
</p>




<h3 id="pdf-colman">Color Management and PDF Profiles <a href="#pdf-colman" class="self-link"></a>
</h3>

<p>
As described in the <a href="/doc/12/doc-prince/#pdf-profiles">PDF Versions and Profiles</a> section, both PDF/A and PDF/X
profiles impose restrictions on the features that may be used in a PDF file, including
restrictions on color.
</p>

<p>
PDF/A and PDF/X files have an output intent that defines the intended output color
space of the PDF file.  In Prince, the output intent color profile is selected using
the <a href="/doc/12/doc-refs/#cl-pdf-output-intent"><code>--pdf-output-intent</code></a>
command-line option, or using the <code><a href="/doc/12/doc-refs/#prop-prince-pdf-output-intent">prince-pdf-output-intent</a></code> property
inside a <a href="/doc/12/doc-refs/#at-prince-pdf"><code>@prince-pdf</code></a>
at-rule.  Both take a filename or URL to an ICC profile as its value.
</p>

<p class="note">
The URL specified with the <a href="/doc/12/doc-refs/#cl-pdf-output-intent"><code>--pdf-output-intent</code></a>
command-line option or the <code><a href="/doc/12/doc-refs/#prop-prince-pdf-output-intent">prince-pdf-output-intent</a></code>
property will be resolved relative to the base URL of the style sheet or document
in which the rule is, and needs to point to an existing color profile file.
</p>

<div class="example">
<div class="programlisting">
<code language="css"><pre>@prince-pdf {
    prince-pdf-output-intent: url("ISOcoated_v2_eci.icc")
}</pre></code>
</div>
</div>

<p>
For PDF/X, the output intent must be given as it describes the intended printing process.
For PDF/A, Prince assumes an sRGB ICC profile if an output intent is not given.
</p>

<p>
Briefly, the restrictions on color imposed by PDF/X are:
</p>

<dl>
  <dt>PDF/X-1</dt>
  <dd>
    <ul>
      <li>All color data must be Grayscale, CMYK or named Spot Colors;</li>
      <li>Transparency is not allowed.</li>
      <li>All colors must be characterized by the output intent - Prince
      implicitly performs color conversions.</li>
    </ul>
  </dd>
  <dt>PDF/X-3</dt>
  <dd>
    <ul>
      <li>Allows other color spaces but colors must be device-independent,
      or else characterized by the output intent;</li>
      <li>Transparency is not allowed.</li>
    </ul>
  </dd>
  <dt>PDF/X-4</dt>
  <dd>
    <ul>
      <li>Allows other color spaces but colors must be device-independent,
      or else characterized by the output intent;</li>
      <li>PDF transparency is supported.</li>
    </ul>
  </dd>
</dl>

<p>
PDF/A requires that all colors to be device-independent, or else
characterized by the output intent (thus making them device-independent).
Transparency is not allowed.
</p>




<h3 id="prince-colman">Color Management in Prince <a href="#prince-colman" class="self-link"></a>
</h3>

<p>
Prince supports RGB, RGBA, HSL, HSLA, CMYK, and named spot colors.  For Prince's color handling,
please see the <a href="/doc/12/doc-prince/#color">Color</a> section.
</p>

<p>
As CSS defines RGB colors in the sRGB color space, Prince tags those colors with an
sRGB ICC profile in the PDF output.  See also the section on <a href="/doc/12/doc-prince/#rich-true-black">Rich black and true black</a>
below.
</p>

<p>
CMYK colors specified using the <code>cmyk()</code> function syntax, or equivalent
<code>device-cmyk()</code> syntax, represent device-dependent colors, so they will
be left as such in the PDF when possible.  Device-dependent color is not allowed in
PDF/A or PDF/X, so those CMYK colors will be assumed to be either in the output intent
color space (if it is CMYK), or else the color space of the fallback CMYK profile.
See the command-line option <a href="/doc/12/doc-refs/#cl-fallback-cmyk-profile"><code>--fallback-cmyk-profile</code></a>
in the <a href="/doc/12/doc-refs/#cmd-pdf">PDF Output Options</a> section, or the <code><a href="/doc/12/doc-refs/#prop-prince-fallback-cmyk-profile">prince-fallback-cmyk-profile</a></code>
property.
</p>

<div class="example">
<div class="programlisting">
<pre><code>prince <code class="filename">input.html</code>
       --pdf-profile=PDF/A-1b
       --pdf-output-intent=sRGB.icc
       --fallback-cmyk-profile=ISOcoated_v2_eci.icc</code></pre>
</div>
</div>

<div class="example">
<div class="programlisting">
<code language="css"><pre>@prince-pdf {
    prince-pdf-output-intent: url("sRGB.icc");
	prince-fallback-cmyk-profile: url("ISOcoated_v2_eci.icc");
}</pre></code>
</div>
</div>

<p>
Prince preserves the ICC profiles embedded in bitmap images, unless directed not to
(see the <code>ignore-icc-profile</code> value of the <code><a href="/doc/12/doc-refs/#prop-prince-image-magic">prince-image-magic</a></code>
property).  If an image does not have an embedded ICC profile, the behavior depends
on the color model of the image.  Untagged RGB images will be assumed to be in the
sRGB color space.  Untagged CMYK images will, when necessary, be assumed to be either
in the output intent color space (if it is CMYK), or else the color space of the fallback
CMYK profile.  Untagged grayscale images will be left as DeviceGray in the PDF (in
PDF/A and PDF/X, it means it is characterized by the output intent color space).
</p>


<h3 id="color-conversion">Color conversion <a href="#color-conversion" class="self-link"></a>
</h3>

<p>
Prince will convert all the colors in a document to a single color space if the
<a href="/doc/12/doc-refs/#cl-convert-colors"><code>--convert-colors</code></a>
command-line option or the <code><a href="/doc/12/doc-refs/#prop-prince-pdf-color-conversion">prince-pdf-color-conversion</a></code>
property is used.  The destination color space is specified with the
<a href="/doc/12/doc-refs/#cl-pdf-output-intent"><code>--pdf-output-intent</code></a>
option (or the <code><a href="/doc/12/doc-refs/#prop-prince-pdf-output-intent">prince-pdf-output-intent</a></code> property), even when
not producing PDF/A or PDF/X files.
</p>

<p class="note">
Prince automatically converts colors to the output intent color space only when
producing PDF/X-1a files.  Files in any of the other profiles need also the
<a href="/doc/12/doc-refs/#cl-convert-colors"><code>--convert-colors</code></a>
command-line option or the <code><a href="/doc/12/doc-refs/#prop-prince-pdf-color-conversion">prince-pdf-color-conversion</a></code>
property if colors are to be converted.
</p>



<h3 id="rich-true-black">Rich black and true black <a href="#rich-true-black" class="self-link"></a>
</h3>

<p>
In printing, "rich black" is a mixture of CMYK ink colors to produce a darker tone
than using the black ink alone ("true black").
</p>

<p>
The property <code><a href="/doc/12/doc-refs/#prop-prince-pdf-color-options">prince-pdf-color-options</a></code> controls the encoding of
CSS RGB values representing black and grays, i.e. RGB colors with equal values of
red, green and blue.
</p>

<p>
When the value <code>use-true-black</code> is used, such an RGB value will be encoded
in the DeviceGray color space in the PDF.  A CMYK printer should print the gray level
using only the black ink.  This is the default setting of Prince.
</p>

<p>
On the other hand, the <code>use-rich-black</code> value instructs Prince to keep
all RGB colors as RGB in the PDF.  A CMYK printer should print RGB colors using a
mixture of all four CMYK inks.
</p>

<div class="example">
<div class="programlisting">
<code language="css"><pre>@prince-pdf {
    prince-pdf-color-options: use-rich-black;
}</pre></code>
</div>
</div>

<p>
Color conversion takes into account the <code>use-true-black</code> value when converting
CSS RGB values to CMYK.  True blacks and grays will be converted to CMYK with only
non-zero values in the K channel.  Note, however, that this does not affect bitmap
images.
</p>



<h3 id="page-color-space">Page color space <a href="#page-color-space" class="self-link"></a>
</h3>

<p>
The property <code><a href="/doc/12/doc-refs/#prop-prince-pdf-page-colorspace">prince-pdf-page-colorspace</a></code> controls the color space
of pages in the PDF file.  It affects the compositing of transparent content onto
the page by selecting the color space in which compositing is performed.  Prince
currently defaults to the RGB color space.  It may be useful to set this property
to avoid converting the colors of transparent content before it is composited onto
the page, possibly resulting in distorted colors.
</p>






  <h2 id="filters">Filters <a href="#filters" class="self-link"></a>
</h2>

<p>
The <code><a href="/doc/12/doc-refs/#prop-filter">filter</a></code> property provides graphical effects like blurring, saturating
or color shifting an element.  Filters can be used alone, or combined in any way.  However,
the order in which filters are applied matters - applying <code>grayscale()</code> after
any other filter will result in a gray result.
</p>

<p>
In this section we shall examine the various possibilities offered by this property.
</p>

<p>
The following filters can be used alone, or in any number and combination.  Care is
to be taken to the order the filters are being applied.
</p>

<dl>
    <dt><code>filter: grayscale([ &lt;number&gt; | &lt;percent&gt; ])</code></dt>
    <dd><p>This filter converts the input to grayscale.  The amount value defines
    the proportion of the conversion.</p></dd>
    <dt><code>filter: sepia([ &lt;number&gt; | &lt;percent&gt; ])</code></dt>
    <dd><p>This filter converts the input to sepia.  The amount value defines
    the proportion of the conversion.</p></dd>
    <dt><code>filter: saturate([ &lt;number&gt; | &lt;percent&gt; ])</code></dt>
    <dd><p>This filter saturates the input.  The amount value defines the proportion
    of the conversion.</p></dd>
    <dt><code>filter: hue-rotate(&lt;angle&gt;)</code></dt>
    <dd><p>This filter applies a hue rotation to the input.  The angle value defines
    the number of degrees around the color circle that the rotation will be performed.</p></dd>
    <dt><code>filter: invert([ &lt;number&gt; | &lt;percent&gt; ])</code></dt>
    <dd><p>This filter inverts the samples of the input.  The amount value defines
    the proportion of the conversion.</p></dd>
    <dt><code>filter: opacity([ &lt;number&gt; | &lt;percent&gt; ])</code></dt>
    <dd><p>This filter applies transparency to the input.  The amount value defines
    the proportion of the conversion.  This function is similar to the <code><a href="/doc/12/doc-refs/#prop-opacity">opacity</a></code>
    property.</p></dd>
    <dt><code>filter: brightness([ &lt;number&gt; | &lt;percent&gt; ])</code></dt>
    <dd><p>This filter makes the input appear more or less bright.  The amount
    value defines the proportion of the conversion.  Values over 100% are allowed.</p></dd>
    <dt><code>filter: contrast([ &lt;number&gt; | &lt;percent&gt; ])</code></dt>
    <dd><p>This filter controls the level of contrast.  The amount value defines the
    proportion of the conversion.</p></dd>
    <dt><code>filter: blur(&lt;length&gt;)</code></dt>
    <dd><p>This filter applies a gaussian blur to the input.  The amount value defines
    the proportion of the conversion.</p></dd>
    <dt><code>filter: drop-shadow(&lt;length&gt;{2,3} &lt;color&gt;?)</code></dt>
    <dd><p>This filter applies a drop shadow effect to the input.  This is a blurred,
    offset version of the input, composited below the image.</p></dd>
</dl>

<p>
Alternatively, a filter can be written in SVG and can be referenced by a URL:
</p>

<dl>
    <dt><code>filter: url(&lt;url&gt;)</code></dt>
    <dd>This filter takes the URL of an SVG filter.  An anchor can be used to reference
    a specific filter element.</dd>
</dl>

<p>
The resolution used when rasterizing to images for applying CSS and SVG
filters is controlled through the <a href="/doc/12/doc-refs/#prop-prince-filter-resolution">prince-filter-resolution</a>
property.  The default value is <code>96dpi</code> for compatibility with web
browsers.
</p>





  <h2 id="images">Images <a href="#images" class="self-link"></a>
</h2>

<p>
Prince supports JPEG, PNG, TIFF and GIF images as well as <a href="/doc/12/doc-prince/#svg">Scalable Vector Graphics (SVG)</a>.
</p>
<p>
Images can be included in XHTML and DocBook documents using the appropriate
image elements, which are pre-defined in the default style sheets.
</p>
<p>
Images can also be included in arbitrary XML documents using the CSS
<code><a href="/doc/12/doc-refs/#prop-content">content</a></code> property, which can be used to specify
the image filename.
</p>
<p>
Furthermore, images are widely used in style sheets for the background.
CSS allows also for several mechanisms to manipulate images and background
images.
</p>
<p>
Please note that Prince tries to preserve the ICC color profile embedded in
images - for details see the <a href="/doc/12/doc-prince/#color-management">Color Management</a> section.
</p>


  <h3 id="images-html">Images in XHTML <a href="#images-html" class="self-link"></a>
</h3>
<p>
The <code>img</code> element is used to include images in XHTML documents.
</p>
<div class="example">
<p class="label">XML</p>
<div class="programlisting">
<code language="doc"><pre>
&lt;img src="picture.jpg" alt="A Nice Picture"/&gt;
</pre></code>
</div>
</div>



  <h3 id="images-docbook">Images in DocBook <a href="#images-docbook" class="self-link"></a>
</h3>
<p>
The <code>imagedata</code> element is used to include images in DocBook
documents.
</p>
<div class="example">
<p class="label">XML</p>
<div class="programlisting">
<code language="doc"><pre>&lt;mediaobject&gt;
    &lt;imageobject&gt;
      &lt;imagedata fileref="picture.jpg"/&gt;
    &lt;/imageobject&gt;
&lt;/mediaobject&gt;</pre></code>
</div>
</div>



  <h3 id="images-xml">Images in Arbitrary XML <a href="#images-xml" class="self-link"></a>
</h3>
<p>
Images can be included in arbitrary XML documents by using the CSS
<code><a href="/doc/12/doc-refs/#prop-content">content</a></code> property to specify the image filename.
</p>
<p>
The <code><a href="/doc/12/doc-refs/#prop-content">content</a></code> property can specify the image
filename directly, or it can take the filename from an attribute of the element
to which it has been applied.
</p>

<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code language="css"><pre>picture { content: url("picture.png") }</pre></code>
</div>
<p class="label">XML</p>
<div class="programlisting">
<code language="doc"><pre>&lt;para&gt; A nice &lt;picture /&gt; here. &lt;/para&gt;</pre></code>
</div>
<p class="comment">
The <code><a href="/doc/12/doc-refs/#prop-content">content</a></code> property directly specifies the
filename of the image that will be used as the content of the
<code>picture</code> element.
</p>
</div>

<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code language="css"><pre>picture { content: attr("src", url) }</pre></code>
</div>
<p class="label">XML</p>
<div class="programlisting">
<code language="doc"><pre>&lt;para&gt; A nice &lt;picture src="picture.tiff" /&gt; here. &lt;/para&gt;</pre></code>
</div>
<p class="comment">
The <code><a href="/doc/12/doc-refs/#prop-content">content</a></code> property specifies that the content
of the <code>picture</code> element will be an image loaded from the filename
specified by the <code>src</code> attribute of the element.
</p>
</div>

  <h3 id="images-css">CSS and Images <a href="#images-css" class="self-link"></a>
</h3>

<p>
Images can be added to a document as content or decoration, and can be modified
with the help of CSS properties.
</p>

  <h4 id="images-background">Background Images <a href="#images-background" class="self-link"></a>
</h4>

<p>
Several properties are available to add background images:
<code><a href="/doc/12/doc-refs/#prop-background-image">background-image</a></code> is used to add an image to
a page, while <code><a href="/doc/12/doc-refs/#prop-background-position">background-position</a></code>,
<code><a href="/doc/12/doc-refs/#prop-background-attachment">background-attachment</a></code> and
<code><a href="/doc/12/doc-refs/#prop-background-repeat">background-repeat</a></code> are used to position it
precisely, also defining its appearance.  See also <a href="/doc/12/doc-prince/#background">Background</a>.
</p>

<p>
Images can also be added to style a
list with the property <code><a href="/doc/12/doc-refs/#prop-list-style-image">list-style-image</a></code> (see
also <a href="/doc/12/doc-prince/#list-marker-style">List marker style</a>).
</p>

  <h4 id="images-orientation">Image Orientation <a href="#images-orientation" class="self-link"></a>
</h4>

<p>
Usually images have the correct orientation when included in a document.
However, it can be important to honor the orientation field in the EXIF data
of JPEG and TIFF images, which can be done with the
<code><a href="/doc/12/doc-refs/#prop-image-orientation">image-orientation</a></code> property.
</p>
<p class="note">
The property applies only to content images (e.g. replaced elements and
generated content), not decorative images (such as <code>background-image</code>).
</p>

  <h4 id="images-size">Image Size <a href="#images-size" class="self-link"></a>
</h4>

<p>
CSS properties also control the size of images in print.  Unless an explicit
size for an image is specified by using the <code><a href="/doc/12/doc-refs/#prop-width">width</a></code>
and <code><a href="/doc/12/doc-refs/#prop-height">height</a></code> properties, Prince will determine
the intrinsic size from the image resolution (DPI), which can be overridden
using the <code><a href="/doc/12/doc-refs/#prop-prince-image-resolution">prince-image-resolution</a></code> property:
</p>

<div class="example">
<div class="programlisting">
<code language="css"><pre>prince-image-resolution: 300dpi;        /* set an explicit DPI */
prince-image-resolution: normal;        /* 1 image pixel maps to 1px unit */
prince-image-resolution: auto, normal;  /* auto-detect, fallback to normal */
prince-image-resolution: auto, 96dpi;   /* auto-detect, fallback to 96dpi */</pre></code>
</div>
</div>

<p>
Not all images have an internal resolution set, so sometimes it is necessary
to specify an explicit resolution.  Alternatively, specifying a resolution of
<code>normal</code> means that an image that is 100 pixels wide, will be the
same size on the page as a block that is 100px units wide.
</p>

<p>
The property <code><a href="/doc/12/doc-refs/#prop-prince-background-image-resolution">prince-background-image-resolution</a></code>
does the same for background images.
</p>

<p>
Please note that specifying <code>prince-image-resolution</code> and
<code>prince-background-image-resolution</code> only affects the default DPI of
images, ie. it makes them physically bigger or smaller on the page - it does
not affect the number of pixels in the image, and thus the PDF file size will
be the same.
</p>

<p>
To reduce the PDF file size, JPEG images can be recompressed at a lower
quality level, or PNG images be converted to JPEG, with the
<code><a href="/doc/12/doc-refs/#prop-prince-image-magic">prince-image-magic</a></code> property.  See also
<a href="/doc/12/doc-prince/#image-magic">Image Magic</a>.
</p>






  <h2 id="svg">Scalable Vector Graphics (SVG) <a href="#svg" class="self-link"></a>
</h2>

<p>
SVG can be included in any XML document simply by adding a
<code>svg</code> element.
</p>

<p>
Global definitions of graphical elements are supported, for example
references to elements outside of the current SVG fragment, either
in the same document or other documents. Defining these elements in a
&lt;defs&gt; element helps understandability of the SVG element. You can
use a &lt;use&gt; element to reference those elements later.
</p>

<p>
The <code>display</code>, <code>float</code>, and <code>flow</code> properties
and all <code>margin</code>, <code>padding</code>, <code>border</code>, and
<code>background</code>
properties can be applied to the top-level <code>svg</code> element but not to
child elements within it.
</p>
<p>
The following elements are supported
inside the <code>svg</code> element:
</p>

<table class="grid">
<tr>
<td><code>g</code></td>
<td>for grouping related graphics elements</td>
</tr>
<tr>
<td><code>rect</code></td>
<td>for drawing rectangles</td>
</tr>
<tr>
<td><code>circle</code></td>
<td>for drawing circles</td>
</tr>
<tr>
<td><code>ellipse</code></td>
<td>for drawing ellipses</td>
</tr>
<tr>
<td><code>line</code></td>
<td>for drawing lines</td>
</tr>
<tr>
<td><code>mask</code></td>
<td>for masking another element</td>
</tr>
<tr>
<td><code>polyline</code></td>
<td>for drawing polylines</td>
</tr>
<tr>
<td><code>polygon</code></td>
<td>for drawing polygons</td>
</tr>
<tr>
<td><code>path</code></td>
<td>for drawing arbitrary paths</td>
</tr>
<tr>
<td><code>text</code></td>
<td>for drawing text</td>
</tr>
<tr>
<td><code>tspan</code></td>
<td>
for adjusting text and font properties inside the <code>text</code> element
</td>
</tr>
<tr>
<td><code>image</code></td>
<td>
for including bitmap image files
</td>
</tr>
<tr>
<td><code>a</code></td>
<td>
for creating hyperlinks
</td>
</tr>
<tr>
<td><code>defs</code></td>
<td>
for containing referenced elements
</td>
</tr>
<tr>
<td><code>use</code></td>
<td>
for using a referenced element
</td>
</tr>
</table>



  <h3 id="viewbox-viewport">Viewbox and viewport <a href="#viewbox-viewport" class="self-link"></a>
</h3>
<p>
The <code>svg</code> element should include view box and view port information
so that the SVG content can be correctly mapped to the containing box.
</p>
<table class="grid">
<tr><th colspan="2" align="left">Attributes</th></tr>
<tr>
<td><code>width</code></td>
<td>the width of the viewport
    (100% of the container width, if omitted)
</td>
</tr>
<tr>
<td><code>height</code></td>
<td>the height of the viewport
    (100% of the container width, if omitted)
</td>
</tr>
<tr>
<td>
<code>viewBox</code>(<i>x y width height</i>)</td>
<td>the x, y coordinate of the top left corner of the viewbox
    and the width and height of the viewbox
</td>
</tr>
</table>
<div class="example">
<p class="label">XML</p>
<div class="programlisting">
<code language="doc"><pre>&lt;svg width="3cm" height="2cm" viewBox="0 0 300 200"&gt;
    <span class="comment">&lt;!-- the SVG content --&gt;</span>
&lt;/svg&gt;</pre></code>
</div>
</div>



<h3 id="svg-rect">Rectangles <a href="#svg-rect" class="self-link"></a>
</h3>
<p>
Rectangles are created using the <code>rect</code> element.
</p>
<table class="grid">
<tr><th colspan="2" align="left">Attributes</th></tr>
<tr>
<td>
<code>x</code>, <code>y</code>
</td>
    <td>the x, y coordinates of the top left corner of the rectangle</td>
</tr>
<tr>
<td><code>width</code></td>
<td>the width of the rectangle</td>
</tr>
<tr>
<td><code>height</code></td>
<td>the height of the rectangle</td>
</tr>
<tr>
<td>
<code>rx</code>, <code>ry</code>
</td>
<td>the radii for rounded corners</td>
</tr>
</table>
<div class="example">
<p class="label">XML</p>
<div class="programlisting">
<code language="doc"><pre>&lt;svg viewBox="0 0 500 300"
        width="10cm" height="6cm"&gt;
 &lt;g fill="none" stroke="gray" stroke-width="20"&gt;
  &lt;rect x="50" y="50" width="400" height="200"
        rx="80" ry="50"/&gt;
 &lt;/g&gt;
&lt;/svg&gt;</pre></code>
</div>
<p class="label">Output</p>
<div class="output">

<img src="/images/doc-latest/rect.png" alt="Rect example">
</div>
</div>



<h3 id="svg-circles">Circles <a href="#svg-circles" class="self-link"></a>
</h3>
<p>
Circles are created using the <code>circle</code> element.
</p>
<table class="grid">
<tr><th colspan="2" align="left">Attributes</th></tr>
<tr>
    <td>
<code>cx</code>, <code>cy</code>
</td>
    <td>the centre of the circle</td>
</tr>
<tr>
    <td><code>r</code></td>
    <td>the radius of the circle</td>
</tr>
</table>
<div class="example">
<p class="label">XML</p>
<div class="programlisting">
<code language="doc"><pre>&lt;svg viewBox="0 0 200 200"
        width="5cm" height="5cm"&gt;
 &lt;g fill="none" stroke="gray" stroke-width="20"&gt;
   &lt;circle cx="100" cy="100" r="100"/&gt;
 &lt;/g&gt;
&lt;/svg&gt;</pre></code>
</div>
<p class="label">Output</p>
<div class="output">

<img src="/images/doc-latest/circle.png" format="PNG" alt="Circle example">
</div>
</div>



<h3 id="svg-elipses">Ellipses <a href="#svg-elipses" class="self-link"></a>
</h3>
<p>
Ellipses are created using the <code>ellipse</code> element.
</p>
<table class="grid">
<tr><th colspan="2" align="left">Attributes</th></tr>
<tr>
    <td>
<code>cx</code>, <code>cy</code>
</td>
    <td>the centre of the ellipse</td>
</tr>
<tr>
    <td>
<code>rx</code>, <code>ry</code>
</td>
    <td>the radii of the ellipse</td>
</tr>
</table>
<div class="example">
<p class="label">XML</p>
<div class="programlisting">
<code language="doc"><pre>&lt;svg viewBox="-10 0 220 200"
        width="6cm" height="6cm"&gt;
 &lt;g fill="none" stroke="gray" stroke-width="20"&gt;
  &lt;ellipse cx="100" cy="100" rx="100" ry="60" /&gt;
 &lt;/g&gt;
&lt;/svg&gt;</pre></code>
</div>
<p class="label">Output</p>
<div class="output">
    <img src="/images/doc-latest/ellipse.png" alt="Ellipse example">
</div>
</div>



  <h3 id="svg-lines">Lines <a href="#svg-lines" class="self-link"></a>
</h3>

<p>
Lines are created using the <code>line</code> element.
</p>
<table class="grid">
<tr><th colspan="2" align="left">Attributes</th></tr>
<tr>
    <td>
<code>x1</code>, <code>y1</code>
</td>
    <td>the start point of the line</td>
</tr>
<tr>
    <td>
<code>x2</code>, <code>y2</code>
</td>
    <td>the end point of the line</td>
</tr>
</table>
<div class="example">
<p class="label">XML</p>
<div class="programlisting">
<code language="doc"><pre>&lt;svg viewBox="0 0 100 50"
        width="6cm" height="3cm"&gt;
 &lt;g stroke="gray" stroke-width="2"&gt;
    &lt;line x1="10" y1="25" x2="90" y2="25"/&gt;
 &lt;/g&gt;
&lt;/svg&gt;</pre></code>
</div>
<p class="label">Output</p>
<div class="output">

<img src="/images/doc-latest/line.png" alt="Line example">
</div>
</div>



  <h3 id="svg-masks">Masks <a href="#svg-masks" class="self-link"></a>
</h3>

<p>
Masks are created using the <code>mask</code> element.
</p>
<table class="grid">
<tr><th colspan="2" align="left">Attributes</th></tr>
<tr>
    <td><code>x</code></td>
    <td>the x-axis coordinate of one corner of the rectangle</td>
</tr>
<tr>
    <td><code>y</code></td>
    <td>the y-axis coordinate of one corner of the rectangle</td>
</tr>
<tr>
    <td><code>width</code></td>
    <td>the width of the rectangle</td>
</tr>
<tr>
    <td><code>height</code></td>
    <td>the height of the rectangle</td>
</tr>
</table>
<div class="example">
<p class="label">XML</p>
<div class="programlisting">
<code language="doc"><pre>&lt;svg xmlns:xlink="http://www.w3.org/1999/xlink"&gt;
  &lt;defs&gt;
    &lt;linearGradient id="Gradient"&gt;
      &lt;stop offset="0" stop-color="white" stop-opacity="0" /&gt;
      &lt;stop offset="1" stop-color="white" stop-opacity="1" /&gt;
    &lt;/linearGradient&gt;
    &lt;mask id="Mask" x="0" y="0" width="200" height="200"&gt;
      &lt;rect x="0" y="0" width="200" height="200" fill="url(#Gradient)"  /&gt;
    &lt;/mask&gt;
  &lt;/defs&gt;

  &lt;rect x="0" y="0" width="200" height="200" fill="green" /&gt;
  &lt;rect x="0" y="0" width="200" height="200" fill="red" mask="url(#Mask)" /&gt;
&lt;/svg&gt;</pre></code>
</div>
<p class="label">Output</p>
<div class="output">

<img src="/images/doc-latest/mask.png" alt="Mask example">
</div>
</div>



<h3 id="svg-polylines">Polylines <a href="#svg-polylines" class="self-link"></a>
</h3>
<p>
Polylines are created using the <code>polyline</code> element.
</p>
<table class="grid">
<tr><th colspan="2" align="left">Attributes</th></tr>
<tr>
    <td><code>points</code></td>
    <td>
	list of points that defines the line. Points are separated by
	whitespace and each point is a pair of x, y coordinates separated by comma.
    </td>
</tr>
</table>
<div class="example">
<p class="label">XML</p>
<div class="programlisting">
<code language="doc"><pre>&lt;svg viewBox="0 0 600 400"
        width="6cm" height="4cm"&gt;
 &lt;g stroke="gray" stroke-width="10"&gt;
  &lt;polyline points="50,300 200,300 200,100
               400,100 400,300 550,300" /&gt;
 &lt;/g&gt;
&lt;/svg&gt;</pre></code>
</div>
<p class="label">Output</p>
<div class="output">

<img src="/images/doc-latest/polyline.png" alt="Polyline example">
</div>
</div>



<h3 id="svg-polygons">Polygons <a href="#svg-polygons" class="self-link"></a>
</h3>
<p>
Polygons are created using the <code>polygon</code> element.
</p>
<table class="grid">
<tr><th colspan="2" align="left">Attributes</th></tr>
<tr>
    <td><code>points</code></td>
    <td>
	list of points that defines the line. Points are separated by
	whitespace and each point is a pair of x, y coordinates separated by comma.
    </td>
</tr>
</table>
<div class="example">
<p class="label">XML</p>
<div class="programlisting">
<code language="doc"><pre>&lt;svg viewBox="600 0 600 400"
        width="6cm" height="4cm"&gt;
 &lt;g fill="none" stroke="gray" stroke-width="10"&gt;
    &lt;polygon points="850,75  958,137.5 958,262.5
                    850,325 742,262.6 742,137.5" /&gt;
 &lt;/g&gt;
&lt;/svg&gt;</pre></code>
</div>
<p class="label">Output</p>
<div class="output">

<img src="/images/doc-latest/polygon.png" alt="Polygon example">
</div>
</div>



<h3 id="svg-paths">Paths <a href="#svg-paths" class="self-link"></a>
</h3>
<p>
The <code>path</code> element is for drawing arbitrary paths.
The <code>d</code> attribute inside the element <code>path</code> takes
a list of path commands.
Parameters of a command can be separated either by whitespace or a comma.
</p>
<table class="grid">
<thead>
<tr>
<th>Command</th>
<th>Parameters</th>
<th>Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td>M (absolute), m (relative)</td>
<td>(x y)+</td>
<td>moves to the given (x, y) coordinates to start a new subpath</td>
</tr>
<tr>
<td>Z or z</td>
<td>none</td>
<td>closes the current subpath</td>
</tr>
<tr>
<td>L (absolute), l (relative)</td>
<td>(x y)+</td>
<td>draws a line to the given (x, y) coordinates</td>
</tr>
<tr>
<td>H (absolute), h (relative)</td>
<td>x+</td>
<td>draws a horizontal line to the given x coordinates</td>
</tr>
<tr>
<td>V (absolute), v (relative)</td>
<td>y+</td>
<td>draws a vertical line to the given y coordinates</td>
</tr>
<tr>
<td>C (absolute), c (relative)</td>
<td>(x1 y1 x2 y2 x y)+</td>
<td>draws a cubic Bézier curve to the given (x,y) coordinates,
    uses the given (x1,y1) coordinates as the first control point,
    the (x2,y2) coordinates as the second control point
</td>
</tr>
<tr>
<td>S (absolute), s (relative)</td>
<td>(x2 y2 x y)+</td>
<td>short hand of the C/c command: the reflection relative to the current
point of the second control point of the previous command
is used as the first control point.
</td>
</tr>
<tr>
<td>Q (absolute), q (relative)</td>
<td>(x1 y1 x y)+</td>
<td>draws a quadratic cubic Bézier curve to the given (x,y) coordinates,
    uses the given (x1,y1) coordinates as the control point.
</td>
</tr>
<tr>
<td>T (absolute), t (relative)</td>
<td>(x y)+</td>
<td>short hand of the Q/q command: the reflection relative to the current
point of the control point of the previous command is used as the control point.
</td>
</tr>
<tr>
<td>A (absolute), a (relative)</td>
<td>(rx ry x-axis-rotation large-arc-flag sweep-flag x y)+</td>
<td>draws an elliptical arc to (x, y): the size and rotation of the ellipse are
defined by two radii (rx, ry) and the x-axis-rotation; the center (cx, cy)
of the ellipse is also determined by the large-arc-flag and sweep-flag
constraint.
</td>
</tr>
</tbody>
</table>
<div class="example">
<p class="label">XML</p>
<div class="programlisting">
<code language="doc"><pre>&lt;svg viewBox="0 0 600 400"
        width="12cm" height="8cm"&gt;
 &lt;g fill="none" stroke="red" stroke-width="10"&gt;
    &lt;path d="M100,200 C100,100 250,100
		    250,200 S400,300 400,200" /&gt;
 &lt;/g&gt;
&lt;/svg&gt;</pre></code>
</div>
<p class="label">Output</p>
<div class="output">

<img src="/images/doc-latest/path.png" alt="Path example">
</div>
</div>



<h3 id="svg-text">Text <a href="#svg-text" class="self-link"></a>
</h3>
<p>
The <code>text</code> element is for writing arbitrary text.
The <code>tspan</code> element is supported inside the <code>text</code>
element, for adjusting text position and font properties.
</p>
<table class="grid">
<tr><th colspan="2" align="left">Attributes</th></tr>
<tr>
<td>
<code>x</code>, <code>y</code>
</td>
<td>the absolute position of the text</td>
</tr>
<tr>
<td>
<code>dx</code>, <code>dy</code>
</td>
<td>the relative offset of the current text position (optional)</td>
</tr>
</table>
<div class="example">
<p class="label">XML</p>
<div class="programlisting">
<code language="doc"><pre>&lt;svg viewBox="0 0 1000 300"
        width="10cm" height="3cm"&gt;
    &lt;text x="200" y="150" fill="blue" font-size="70"&gt;
      That
        &lt;tspan dx="2em" dy="-50" font-weight="bold" fill="red" &gt;
          is
        &lt;/tspan&gt;
        &lt;tspan dy="100"&gt;
           a peach!
        &lt;/tspan&gt;
    &lt;/text&gt;
&lt;/svg&gt;</pre></code>
</div>

<p class="label">Output</p>
<div class="output">
<img src="/images/doc-latest/text.png" alt="Text example">

</div>
</div>



<h3 id="svg-images">Images <a href="#svg-images" class="self-link"></a>
</h3>
<p>
The <code>image</code> element is for including external image files, either
bitmap images or other SVG images.
</p>
<table class="grid">
<tr><th colspan="2" align="left">Attributes</th></tr>
<tr>
<td><code>xlink:href</code></td>
<td>the URL of the image to include</td>
</tr>
<tr>
<td>
<code>x</code>, <code>y</code>
</td>
    <td>the x, y coordinates of the top left corner of the image</td>
</tr>
<tr>
<td><code>width</code></td>
<td>the width of the image</td>
</tr>
<tr>
<td><code>height</code></td>
<td>the height of the image</td>
</tr>
</table>
<p>
Note that the <code>href</code> element must be placed in the XLink namespace:
<code>http://www.w3.org/1999/xlink</code> in order to work.
</p>
<div class="example">
<p class="label">XML</p>
<div class="programlisting">
<code language="doc"><pre>&lt;svg xmlns:xlink="http://www.w3.org/1999/xlink"
    ...
    &lt;image x="100" y="100" width="50" height="50" xlink:href="myimage.jpg"/&gt;
    ...
&lt;/svg&gt;</pre></code>
</div>
</div>



<h3 id="svg-links">Links <a href="#svg-links" class="self-link"></a>
</h3>
<p>
The <code>a</code> element is for creating hyperlinks.
</p>
<table class="grid">
<tr><th colspan="2" align="left">Attributes</th></tr>
<tr>
<td><code>xlink:href</code></td>
<td>the URL of the link</td>
</tr>
</table>
<p>
Note that the <code>href</code> element must be placed in the XLink namespace:
<code>http://www.w3.org/1999/xlink</code> in order to work.
</p>
<div class="example">
<p class="label">XML</p>
<div class="programlisting">
<code language="doc"><pre>&lt;svg xmlns:xlink="http://www.w3.org/1999/xlink"
    ...
    &lt;a xlink:href="http://www.example.com"&gt;
        ...
    &lt;/a&gt;
    ...
&lt;/svg&gt;</pre></code>
</div>
</div>



  <h3 id="svg-transformations">Transformations <a href="#svg-transformations" class="self-link"></a>
</h3>
<p>
The <code>transform</code> attribute can be used on <code>g</code>,
<code>path</code>, and all of the basic shape elements.
It accepts any sequence of the following transformations separated by
whitespace.
</p>
<ul>
    <li> translate(tx ty)</li>
    <li> scale(sx [sy])</li>
    <li> rotate(angle)</li>
    <li> skewX(angle)</li>
    <li> skewY(angle)</li>
    <li> matrix(a b c d e f)</li>
</ul>
<div class="example">
<p class="label">XML</p>
<div class="programlisting">
<code language="doc"><pre>&lt;svg viewBox="-150 -200 1400 700" width="12cm" height="6cm"&gt;
  &lt;g fill="none" stroke-width="30"&gt;
    &lt;rect width="400" height="200" stroke="lightgray"/&gt;
    &lt;rect width="400" height="200" stroke="darkgreen" transform="rotate(-30)"/&gt;
    &lt;g transform="translate(700 100) rotate(-30)"&gt;
      &lt;rect width="400" height="200" stroke="blue"/&gt;
    &lt;/g&gt;
  &lt;/g&gt;
&lt;/svg&gt;</pre></code>
</div>
<p class="label">Output</p>
<div class="output">

<img src="/images/doc-latest/transform.png" alt="Transform example">
</div>
</div>



  <h3 id="svg-style">Style Properties <a href="#svg-style" class="self-link"></a>
</h3>
<p>
The following style properties are supported on SVG elements:
</p>
<ul>
	<li><code><a href="/doc/12/doc-refs/#prop-baseline-shift">baseline-shift</a></code></li>
	<li><code><a href="/doc/12/doc-refs/#prop-clip-path">clip-path</a></code></li>
	<li><code><a href="/doc/12/doc-refs/#prop-clip-rule">clip-rule</a></code></li>
	<li><code><a href="/doc/12/doc-refs/#prop-dominant-baseline">dominant-baseline</a></code></li>
    <li><code><a href="/doc/12/doc-refs/#prop-font-family">font-family</a></code></li>
    <li><code><a href="/doc/12/doc-refs/#prop-font-size">font-size</a></code></li>
    <li><code><a href="/doc/12/doc-refs/#prop-font-style">font-style</a></code></li>
    <li><code><a href="/doc/12/doc-refs/#prop-font-weight">font-weight</a></code></li>
    <li><code><a href="/doc/12/doc-refs/#prop-fill">fill</a></code></li>
    <li><code><a href="/doc/12/doc-refs/#prop-fill-opacity">fill-opacity</a></code></li>
    <li><code><a href="/doc/12/doc-refs/#prop-fill-rule">fill-rule</a></code></li>
    <li><code><a href="/doc/12/doc-refs/#prop-marker-start">marker-start</a></code></li>
    <li><code><a href="/doc/12/doc-refs/#prop-marker-mid">marker-mid</a></code></li>
    <li><code><a href="/doc/12/doc-refs/#prop-marker-end">marker-end</a></code></li>
    <li><code><a href="/doc/12/doc-refs/#prop-stop-color">stop-color</a></code></li>
    <li><code><a href="/doc/12/doc-refs/#prop-stop-opacity">stop-opacity</a></code></li>
    <li><code><a href="/doc/12/doc-refs/#prop-stroke">stroke</a></code></li>
    <li><code><a href="/doc/12/doc-refs/#prop-stroke-dasharray">stroke-dasharray</a></code></li>
    <li><code><a href="/doc/12/doc-refs/#prop-stroke-dashoffset">stroke-dashoffset</a></code></li>
    <li><code><a href="/doc/12/doc-refs/#prop-stroke-linecap">stroke-linecap</a></code></li>
    <li><code><a href="/doc/12/doc-refs/#prop-stroke-linejoin">stroke-linejoin</a></code></li>
    <li><code><a href="/doc/12/doc-refs/#prop-stroke-miterlimit">stroke-miterlimit</a></code></li>
    <li><code><a href="/doc/12/doc-refs/#prop-stroke-opacity">stroke-opacity</a></code></li>
    <li><code><a href="/doc/12/doc-refs/#prop-stroke-width">stroke-width</a></code></li>
    <li><code><a href="/doc/12/doc-refs/#prop-text-anchor">text-anchor</a></code></li>
</ul>

<p>
Style properties can be applied using SVG presentation attributes:
</p>
<div class="example">
<div class="programlisting">
<code language="svg"><pre>&lt;rect <i>fill</i>="yellow" <i>stroke</i>="blue" <i>stroke-width</i>="20"
        width="200" height="100"/&gt;</pre></code>
</div>
</div>
<p>
Or by using CSS properties inside the <code>style</code> attribute or element:
</p>
<div class="example">
<div class="programlisting">
<code language="svg"><pre>&lt;rect style="<i>fill</i>:yellow; <i>stroke</i>:blue; <i>stroke-width</i>:20"
        width="200" height="100"/&gt;</pre></code>
</div>
</div>
<p>
Alternatively, style properties can be applied by linking a stylesheet, or an
XML stylesheet:
</p>
<div class="example">
<p class="label">SVG</p>
<div class="programlisting">
<code language="svg"><pre>...
&lt;?xml-stylesheet type="text/css" href="style.css"?&gt;
...
&lt;rect width="200" height="100"/&gt;</pre></code>
</div>
<p class="label">CSS</p>
<div class="programlisting">
<code language="css"><pre>svg rect {
    fill: yellow;
    stroke: blue;
    stroke-width: 20;
}</pre></code>
</div>
</div>



<h2 id="rasterization">Rasterization <a href="#rasterization" class="self-link"></a>
</h2>

<p>Prince allows for the output of a rasterized image rather than, or in addition to
a PDF output.  This produces a JPEG or PNG image of the content, which can be convenient
when e.g. planning to use it as a quick preview or thumbnail of the PDF content to
display on a website, as can e.g. be seen in the <a href="/samples/">Sample Documents</a>
section on this website.</p>

<p>Rasterization is enabled with the
<a href="/doc/12/doc-refs/#cl-raster-output"><code>--raster-output</code></a>
command-line option, which also defines the template of the file naming.  The output
format can be chosen either based on the extension of the file name, or by explicitly
indicating it.</p>

<div class="example">
<div class="syntaxlisting">
<code><pre>  prince doc.html --raster-output=page_%02d.png</pre></code>
</div>
</div>

<p>Furthermore the range of pages to rasterize and the resolution of the raster output
can be tweaked in order to determine the number of pages in rasterized format, and the
size of the images.</p>

<div class="example">
<div class="syntaxlisting">
<code><pre>  prince doc.html --raster-output=title-thumbnail.jpg --raster-pages=first --raster-dpi=24</pre></code>
</div>
</div>

<p>If you want to rasterize the HTML to an image format that supports
transparency (PNG, not JPEG) and have a transparent background, in order to
composite it with something else later, the command-line option
<a href="/doc/12/doc-refs/#cl-raster-background"><code>--raster-background</code></a>
can be used with the value <code>transparent</code>.</p>

<p>A full list of rasterization possibilities can be found in the <a href="/doc/12/doc-refs/#cmd-raster">Raster Output Options</a>
section.</p>



  <h1 id="tips-and-tricks">Prince Tips and Tricks <a href="#tips-and-tricks" class="self-link"></a>
</h1>

<p>
…aka the Prince Cookbook, collects recipes to achieve certain common or
complex tasks useful when preparing a document for printing.  Each
recipe shows the required features in a "You need" ingredients list
and provides a step-by-step explanation to guide you to the required
goal.
</p>




  <h2 id="table-of-content">Table of Contents <a href="#table-of-content" class="self-link"></a>
</h2>

<dl class="ingredients">
  <dt>You need</dt>
  <dd><a href="/doc/12/doc-prince/#js-print">JavaScript in Printed Media</a></dd>
  <dd><a href="/doc/12/doc-prince/#two-pass">The "Two-Pass" Solution</a></dd>
  <dd>
<a href="/doc/12/doc-prince/#gen-content-functions">Generated Content Functions</a>
    <ul>
      <li><code><a href="/doc/12/doc-refs/#prop-content">content</a>: target-counter()</code></li>
      <li><code><a href="/doc/12/doc-refs/#prop-content">content</a>: leader()</code></li>
    </ul>
  </dd>
</dl>

<p>
Prince offers several properties and functions to facilitate the creation of a
Table of Contents.
</p>

<p>
Typically, a table of contents is generated for a document by collecting the
headings of each chapter, each one provided with an <code>id</code> attribute,
into a list or, if necessary, also into nested lists, by means of JavaScript or
in some other way, in order to generate a navigation menu for the document.
</p>

<p>
Each list item contains a hyperlink to the heading's <code>id</code>.  This
list functions as a navigation menu when the document is viewed in a browser.
</p>

<p>
The transformation into a proper table of contents happens with CSS when Prince
generates the PDF - the resulting document will be paged, and possibly be
intended for printing.  It means that the hyperlinks need to be integrated with
an indication of the correct page on which the target is located.
</p>

<p>
This is achieved automatically with the <code>target-counter()</code> function
in the <code><a href="/doc/12/doc-refs/#prop-content">content</a></code> property, using the <code>page</code>
counter.  The URL is being automatically fetched from the <code>href</code>
attribute of the hyperlink element <code>&lt;a&gt;</code>.
</p>

<div class="example">
<div class="programlisting">
<code language="css"><pre>#toc a:after {
  content: target-counter(attr(href), page);
}</pre></code>
</div>
</div>

<p>
The page numbers are best styled right-aligned, while the link texts are
left-aligned.  An easy way to achieve this is with the <code>leader()</code>
function: it defines a literal string, which expands to fill the available
space on the line like justified text, by repeating the string as many times
as necessary.  The complete CSS entry for a simple table of contents entry thus
looks like this:
</p>

<div class="example">
<div class="programlisting">
<code language="css"><pre>#toc a:after {
  content: leader('.') target-counter(attr(href), page);
}</pre></code>
</div>
</div>

  <h3 id="table-of-content-simple">Simple Table of Contents <a href="#table-of-content-simple" class="self-link"></a>
</h3>

<p>
Our <a href="http://css4.pub/2018/toc/index.html">example document</a>
generates at Table of Contents (TOC) by way of JavaScript. You can easily
test it by running Prince from the command line:
</p>

<div class="example">
<div class="programlisting">
<code language="css"><pre>$ prince --javascript http://css4.pub/2018/toc -o toc.pdf</pre></code>
</div>
</div>

<p>
A <a href="http://css4.pub/2017/musick/musick.html">second example document</a>
generates at ToC by way of JavaScript and, even more impressively, the
script also prints out an index which is added to the end of the document, to
be used when running Prince a second time (see <a href="/doc/12/doc-prince/#two-pass">The "Two-Pass" Solution</a>).
Notice how subsequent page numbers in the index are folded into a range.  To
produce this document, try running these commands from a Linux command-line:
</p>

<div class="example">
<div class="programlisting">
<code language="css"><pre>$ wget http://css4.pub/2017/musick/musick.html -o foo.html;
$ prince --javascript foo.html &gt;&gt;foo.html;
$ prince --javascript foo.html -o musick.pdf;</pre></code>
</div>
</div>

<p>
You can view the resulting PDF <a href="http://css4.pub/2017/musick/musick.pdf">here</a>.
</p>


  <h3 id="table-of-content-multifile">Multifile Table of Contents <a href="#table-of-content-multifile" class="self-link"></a>
</h3>

<p>
For longer books, it makes sense to split chapters into separate files.
Generating a Table of Contents across all files is tricky in JavaScript since
scripts only see one file at a time.  In Prince, you can work around this
limitation with a two-pass solution (see <a href="/doc/12/doc-prince/#two-pass">The "Two-Pass" Solution</a>) where
the first pass collects items for the ToC, and the second pass generates the
PDF with the ToC.
</p>

<p>
To try this for yourself, first fetch these five sample files into your own
file system, e.g. by running:
</p>

<div class="example">
<div class="programlisting">
<code language="css"><pre>$ wget http://css4.pub/2018/multifile-toc/toc.js;
$ wget http://css4.pub/2018/multifile-toc/toc.html;
$ wget http://css4.pub/2018/multifile-toc/ch1.html;
$ wget http://css4.pub/2018/multifile-toc/ch2.html;
$ wget http://css4.pub/2018/multifile-toc/style.css;</pre></code>
</div>
</div>

<p>
Then, run Prince twice:
</p>

<div class="example">
<div class="programlisting">
<code language="css"><pre>$ prince --javascript --script=toc.js ch1.html ch2.html -o book.pdf &gt;&gt; toc.html;
$ prince toc.html ch1.html ch2.html -o book.pdf;</pre></code>
</div>
</div>

<p>
You can view the resulting PDF <a href="http://css4.pub/2018/multifile-toc/book.pdf">here</a>.
</p>



<h2 id="thinking-in-spreads">Thinking in Spreads <a href="#thinking-in-spreads" class="self-link"></a>
</h2>

<dl class="ingredients">
  <dt>You need</dt>
  <dd>
<a href="/doc/12/doc-prince/#paged">Paged Media</a>
    <ul>
      <li><a href="/doc/12/doc-prince/#page-rules">Selecting pages</a></li>
      <li><a href="/doc/12/doc-prince/#controlling-pagination">Controlling pagination</a></li>
    </ul>
  </dd>
  <dd><a href="/doc/12/doc-prince/#css-box">Box Model</a></dd>
  <dd><a href="/doc/12/doc-prince/#float-extensions">Prince extensions to floats</a></dd>
  <dd><a href="/doc/12/doc-prince/#paragraph-formatting">Paragraph formatting</a></dd>
</dl>

<p>
Prince produces PDFs - which are a prominent example of paged
media.  The main difference with conventional CSS design for browsers
is to always keep in mind that you are dealing with pagination,
i.e. the content is placed on discrete pages.
</p>

<p>
The basic unit for paged media in print is the page, organized in page
spreads: the left page, called <i>verso</i> in a left-to-right script
(see <a href="/doc/12/doc-prince/#writing-mode">Writing Mode</a>), and the right page,
called <i>recto</i>, are of the same size and typically are
symmetrical to each other and are centered on the gutter.
<a href="/doc/12/doc-prince/#page-rules">Selected</a>  and
<a href="/doc/12/doc-prince/#named-pages">Named pages</a> can be placed <i>recto</i>
or <i>verso</i>, and Prince expands several properties and the
<a href="/doc/12/doc-refs/#at-page"><code>@page</code></a>
at-rule pseudo-classes with the values <code>verso</code> and
<code>recto</code>, or <code>inside</code> and <code>outside</code>,
referring to the layout on each page of the spread to facilitate the
work with page spreads.
</p>

<h3 id="spread-pagination">Pagination on a page spread <a href="#spread-pagination" class="self-link"></a>
</h3>

<p>
You have control on wether to place specific selected and named
pages right or left, or <i>recto</i> or <i>verso</i> with the help
of <code><a href="/doc/12/doc-refs/#prop-break-before">break-before</a></code>
and <code><a href="/doc/12/doc-refs/#prop-break-after">break-after</a></code>, each of which takes
the values <code>recto</code> and <code>verso</code> in addition to
the traditional values.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>h1 {
    break-before: recto;
}</pre></code>
</div>
<p class="comment">
This rule places an <code>h1</code> element always at the beginning of
a <i>recto</i> page.
</p>
</div>

<p>
Pages can also be specifically targeted and styled with
the <a href="/doc/12/doc-refs/#at-page"><code>@page</code></a>
at-rule pseudo-classes <code>:right</code> and <code>:left</code>, or
<code>:recto</code> and <code>:verso</code>.
</p>

<h3 id="spread-layout">Layout on a page spread <a href="#spread-layout" class="self-link"></a>
</h3>

<p>
Using the values <code>right</code> and <code>left</code> when placing
elements on pages symmetrically arranged around the central gutter is
possible, but rather cumbersome, since their placement depends on the
placement of the page on a spread.  Prince offers the extensions
<code>inside</code> and <code>outside</code> to ease the task.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>p {
    margin: 2em;
}
@page:left {
    margin-right: 3em;
}
@page:right {
    margin-left: 3em;
}</pre></code>
</div>
<p class="comment">
This example creates a bigger margin around the central gutter.
</p>
</div>

<p>
So, when you start thinking about the layout box model, Prince
offers the properties <code><a href="/doc/12/doc-refs/#prop-margin-inside">margin-inside</a></code>
and <code><a href="/doc/12/doc-refs/#prop-margin-outside">margin-outside</a></code> to help styling.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>p { 
    margin: 2em;
    margin-inside: 3em;
}</pre></code>
</div>
<p class="comment">
This example creates a bigger margin around the central gutter, like
the previous one - albeit in a shorter way.
</p>
</div>

<p>
Floats are particularly sensitive to the placement on the page with
regards to whether it is a left-facing or right-facing page.  Prince
extends the <code><a href="/doc/12/doc-refs/#prop-float">float</a></code> property (and the
property <code><a href="/doc/12/doc-refs/#prop-clear">clear</a></code>) with the values
<code>inside</code> and <code>outside</code>.  For details please see
the chapter <a href="/doc/12/doc-prince/#floats">Floats</a>.
</p>

<p>
On a paragraph level, the
properties <code><a href="/doc/12/doc-refs/#prop-text-align">text-align</a></code>
and <code><a href="/doc/12/doc-refs/#prop-text-align-last">text-align-last</a></code> similarly take the
keywords <code>inside</code> and <code>outside</code> to help
achieving a smooth layout.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>@page:verso {
    @top-left { content: counter(page) }
    @top-right { content: string(book-title) }
}
@page:recto {
    @top-left { content: string(chapter-title) }
    @top-right { content: counter(page) }
}
h1 {
    text-align: center;
    string-set: book-title content();
}
h2 {
    text-align: outside;
    string-set: chapter-title content();
}
img {
    float: inside;
}</pre></code>
</div>
<p class="comment">
This style snippet could be part of the stylesheet for a little
booklet - it displays the page number in the upper outside corners,
the book title in the upper inside of the left, or <i>verso</i> page,
and the chapter title in the upper inside of the right,
or <i>recto</i> page.  Chapter headings are aligned to the outside of
the page spreads, while any image in the book is floated close to the
central gutter.
</p>
</div>






<h2 id="long-tables">Long Tables <a href="#long-tables" class="self-link"></a>
</h2>

<dl class="ingredients">
  <dt>You need</dt>
  <dd>
<a href="/doc/12/doc-prince/#tables">Tables</a>
    <ul>
      <li><a href="/doc/12/doc-prince/#tables-running-headers-footers">Running table headers and footers</a></li>
      <li><a href="/doc/12/doc-prince/#tables-caption">Table captions</a></li>
    </ul>
  </dd>
</dl>

<p>
One of the main differences when designing for paged media is that you
need to think about concrete pages, as opposed to a continuous flow of
the page designed for the web and for web browsers.  A problem may
arise when elements such as tables are longer than the page they need
to be displayed on.
</p>

<p>
The table itself is naturally split over several pages - but if you
want table headers and footers repeated on each page, you need to code
them in the HTML of the document by using the elements
<code>thead</code> and/or <code>tfoot</code>.  The content of these
elements will be carried on to all the subsequent pages on which the
table appears.
</p>

<p>
Tables can also be provided with a table caption by using the
<code>caption</code> HTML element, or by styling an arbitrary
element with <code><a href="/doc/12/doc-refs/#prop-display">display</a>: table-caption</code> to
be made to behave like <code>caption</code> elements.  The caption is
positioned above the table by default, but it can be moved to the
bottom with the <code><a href="/doc/12/doc-refs/#prop-caption-side">caption-side</a></code> property.
</p>

<p>
When a table spans across more than one page, the
<code><a href="/doc/12/doc-refs/#prop-prince-caption-page">prince-caption-page</a></code> property
determines whether table captions will be displayed on the first page
of a table, or only on the following pages, or repeated on every page
that a table appears on.  See also <a href="/doc/12/doc-prince/#fancy-table-captions">Fancy Table Captions</a>.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>table + p {
    display: table-caption;
    caption-side: bottom;
    prince-caption-page: following;
}</pre></code>
</div>
</div>






<h2 id="fancy-table-captions">Fancy Table Captions <a href="#fancy-table-captions" class="self-link"></a>
</h2>

<dl class="ingredients">
  <dt>You need</dt>
  <dd>
<a href="/doc/12/doc-prince/#tables">Tables</a>
    <ul>
      <li><a href="/doc/12/doc-prince/#tables-caption">Table captions</a></li>
    </ul>
  </dd>
  <dd><a href="/doc/12/doc-prince/#long-tables">Long Tables</a></dd>
</dl>

<p>
HTML tables only have one caption per table.  However, in printed form a
table might span several pages (see <a href="/doc/12/doc-prince/#long-tables">Long Tables</a>) and
it might be desirable to have separate captions for the first and
the following pages - you might want to add "cont." to the caption
of the first one, or otherwise differentiate them.  Prince offers an
extension mechanism to do so.
</p>

<p>
As mentioned in <a href="/doc/12/doc-prince/#long-tables">Long Tables</a>, when a table spans
across more than one page, the <code><a href="/doc/12/doc-refs/#prop-prince-caption-page">prince-caption-page</a></code>
property determines whether table captions will be displayed on the first page of
a table, or only on the following pages, or repeated on every page that a table
appears on.  This opens up the possibility to have a different caption
on the first and on the following pages.
</p>

<p>
You might define a caption in HTML for the main table caption - to
be displayed on the first page.  Additionally, you make another
element into a table caption with the
<code><a href="/doc/12/doc-refs/#prop-display">display</a></code> property - and display it only
on the following pages!
</p>

<p class="tip">
The paragraph functioning as a table caption can be hidden in browsers
by using <a href="/doc/12/doc-refs/#media-queries">CSS Media Queries</a>.
</p>

<div class="example">
<p class="label">HTML</p>
<div class="programlisting">
<code language="CSS"><pre>&lt;table&gt;
  &lt;caption&gt;Demo table&lt;/caption&gt;
  &lt;tr&gt;
    &lt;td&gt;A&lt;/td&gt;
    &lt;td&gt;B&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;C&lt;/td&gt;
    &lt;td&gt;D&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;E&lt;/td&gt;
    &lt;td&gt;F&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;
&lt;p&gt;Demo table (cont.)&lt;/p&gt;</pre></code>
</div>
<p class="label">CSS</p>
<div class="programlisting">
<code language="CSS"><pre>caption {
    caption-side: bottom;
    prince-caption-page: first;
}
table + p {
    display: table-caption;
    caption-side: bottom;
    prince-caption-page: following;
}</pre></code>
</div>
</div>




<h2 id="page-headers-footers">Page Headers and Footers <a href="#page-headers-footers" class="self-link"></a>
</h2>

<dl class="ingredients">
  <dt>You need</dt>
  <dd><a href="/doc/12/doc-prince/#page-regions">Page regions</a></dd>
  <dd><a href="/doc/12/doc-prince/#gen-content">Generated Content</a></dd>
</dl>

<p>
When preparing a document for print, "running" headers and footers
repeating on every page, such as page numbering and titles of the book
and of the current chapter, are a common need.
</p>

<p>
Prince uses CSS for these headers and footers and for styling them.
</p>

<p>
Each page is structured in <a href="/doc/12/doc-prince/#page-regions">Page regions</a> - most page
content is located inside the <i>page area</i>, including the
<a href="/doc/12/doc-prince/#footnotes">Footnotes</a>, but the <i>page-margin boxes</i> contain most
of the content repeating in slightly varied way across the whole book
- the running headers and footers.
</p>

<p>
A typical case is page numbering, which can easily be obtained with
<a href="/doc/12/doc-prince/#gen-content">Generated Content</a>: the current page number can be printed
in a page region with the <code><a href="/doc/12/doc-refs/#prop-content">content</a></code>
property.  (See also <a href="/doc/12/doc-prince/#page-numbering">Page Numbering</a>).
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>@page {
    @bottom {
        <a href="/doc/12/doc-refs/#prop-content">content</a>: counter(page)
    }
}</pre></code>
</div>
</div>

<p class="tip">
By using <a href="/doc/12/doc-prince/#named-pages">Named pages</a>, you can style the page
numbering of the Preface with roman numbers and the main pages with
arabic numbers - see the example <a href="/doc/12/doc-prince/#ex-restart-page-numbers">Restarting page numbering</a>.
</p>

<p>
The title of the book, or the current chapter, can be copyied into the
page regions by using the <a href="/doc/12/doc-refs/#prop-string-set">string-set</a> property.  For
details, please see the <a href="/doc/12/doc-prince/#content-copying-text">Copying content from the document</a> chapter.
</p>

<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code language="css"><pre>@page {
    @top { content: string(doctitle) }
}

h1 { string-set: doctitle content() }</pre></code>
</div>
<p class="comment">
The @page rule specifies that the top-center page region will contain the text
content of the document title copied from the text content of the
<code>h1</code> element in the document.
</p>
</div>

<p class="tip">
If some special formatting of the text in the margin box is required,
copying the text will not suffice - you need to remove an element from
the natural page flow to place it in the margin box.  See
<a href="/doc/12/doc-prince/#content-taking-elements">Taking elements from the document</a> for details.
</p>




<h2 id="dictionary-page-headers">Dictionary Page Headers <a href="#dictionary-page-headers" class="self-link"></a>
</h2>

<dl class="ingredients">
  <dt>You need</dt>
  <dd><a href="/doc/12/doc-prince/#page-regions">Page regions</a></dd>
  <dd><a href="/doc/12/doc-prince/#gen-content">Generated Content</a></dd>
  <dd>
<a href="/doc/12/doc-prince/#gen-content-functions-pagepolicy">The optional page-policy value</a>
    <ul>
      <li><code><a href="/doc/12/doc-refs/#prop-content">content</a>: string(term, <b>first</b>)</code></li>
      <li><code><a href="/doc/12/doc-refs/#prop-content">content</a>: string(term, <b>last</b>)</code></li>
    </ul>
  </dd>
</dl>

<p>
A peculiar and interesting use of page headers happens in
dictionaries: typically, you might want to display page headers like
"a-af", where "a" is the first definition on the page and "af" is the
last one.  This can easily be obtained by adding
<a href="/doc/12/doc-prince/#gen-content-functions-pagepolicy">The optional page-policy value</a> to the
<code>string()</code> function.
</p>

<p>
The <code><a href="/doc/12/doc-refs/#prop-string-set">string-set</a></code> property is applied to
each definition in the dictionary (the <b>b:first-child</b> from the
following example), and then the <code>first</code>
and <code>last</code> page policy values are use to select the
relevant definition to display in the page header.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>@page {
  @top-left { content: string(term, first);}
  @top-right { content: string(term, last);}
}

.chapter p b:first-child { string-set: term content() }  /* pick up term to be used in running header */</pre></code>
</div>
<p class="comment">
This is the crucial set of rules for the
<a href="/samples/#dictionary">Dictionary</a> sample.
</p>
</div>

<p>
The dictionary sample is furthermore noticeable for its use of the
optional page policy keyword <code>first-except</code>: the current
letter of the alphabet is displayed on each page heading, <em>except</em>
for the page on which the letter appears in the body of the page,
starting the new section.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>@page {
  @top-center { content: string(letter, first-except);}
}

.chapter header { string-set: letter content() }</pre></code>
</div>
</div>




<h2 id="page-numbering">Page Numbering <a href="#page-numbering" class="self-link"></a>
</h2>

<dl class="ingredients">
  <dt>You need</dt>
  <dd>
<a href="/doc/12/doc-prince/#paged">Paged Media</a>
    <ul>
      <li><a href="/doc/12/doc-prince/#page-rules">Selecting pages</a></li>
    </ul>
  </dd>
  <dd>
<a href="/doc/12/doc-prince/#gen-content">Generated Content</a>
    <ul>
      <li>
<a href="/doc/12/doc-prince/#counters">Counters and Numbering</a>
        <ul>
          <li><code><a href="/doc/12/doc-refs/#prop-content">content</a>: counter(page)</code></li>
        </ul>
      </li>
    </ul>
  </dd>
</dl>

<p>
Paged media is organized in pages - and numbering the pages is a common task:
generated content does this for you automatically.  The easiest way of doing so
is numbering them sequentially from the first to the last page.
</p>

<p>
To use a counter, it usually first needs to be initialized with the
<code><a href="/doc/12/doc-refs/#prop-counter-reset">counter-reset</a></code> property, which can be applied
to any element and initializes one or more counters to the specified values,
or to zero if no value is specified.  Once initialized, the counter will be
displayed with the <code>counter()</code> function in the
<code><a href="/doc/12/doc-refs/#prop-content">content</a></code> property.
</p>

<p>
Page counters work a bit more simple and usually don't need to be explicitly
initialized or incremented.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>@page {
  @bottom {
    content: counter(page);
  }
}</pre></code>
</div>
</div>

<p>
However, if you want to restart the numbering after the Preface of your book,
you need to name the pages (see <a href="/doc/12/doc-prince/#named-pages">Named pages</a>) and the counter
needs to be re-initialized with the main content.  See also the example
<a href="/doc/12/doc-prince/#ex-restart-page-numbers">Restarting page numbering</a>.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>.preface {
  page: preface;
  counter-reset: page 1;
}
@page preface {
  @bottom {
    content: counter(page, lower-roman);
  }
}

.main {
  page: main;
  counter-reset: page 1;
}
@page main {
  @bottom {
    content: counter(page);
  }
}
</pre></code>
</div>
</div>

<p>
The page numbers can be referenced with the <code>target-counter()</code> function.
This provides a convenient mechanism when you want to print out a page reference
that on an interactive medium, such as can be seen in a web browser, might be
expressed with a hyperlink.
</p>

<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code language="css"><pre>a[href]::after {
    content: " [See page " target-counter(attr(href), page) "]";
}</pre></code>
</div>
<p class="comment">
This will add a cross-reference after every link with the correct page number
determined automatically. For example: [See page 17].
</p>
</div>

<p class="note">
If you are referencing the pages in the Preface, marked with lower roman-style
numbers, you need to re-specify the counter style for the target counter - the
style is not automatically taken over.
</p>

<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code language="css"><pre>a[href|="#preface"]::after {
    content: " [See page " target-counter(attr(href), page, lower-roman) "]";
}</pre></code>
</div>
</div>

<p>
In some documents, particularly those that are unbound such as office documents,
it can be useful to show the total number of pages on each page.  The total
number of pages can be accessed by using the <code>pages</code> counter.
This is a pre-defined counter that is fixed to the total number of pages in
the document.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>@page {
  @bottom {
    content: "Page " counter(page) " of " counter(pages);
  }
}</pre></code>
</div>
<p class="comment">
This rule will generate page footers such as "Page 1 of 89".
</p>
</div>





<h2 id="footnotes-per-column">Footnotes per Column <a href="#footnotes-per-column" class="self-link"></a>
</h2>

<dl class="ingredients">
  <dt>You need</dt>
  <dd><a href="/doc/12/doc-prince/#columns">Columns</a></dd>
  <dd><a href="/doc/12/doc-prince/#float-extension-page-column">Page and column floats</a></dd>
  <dd>
<a href="/doc/12/doc-prince/#footnotes">Footnotes</a>
    <ul>
      <li><code><a href="/doc/12/doc-refs/#prop-float">float</a>: prince-column-footnote</code></li>
    </ul>
  </dd>
</dl>

<p>
Prince has a simple way of creating footnotes: the <code>@footnote</code> page
area, where footnotes can be floated to with the <code><a href="/doc/12/doc-refs/#prop-float">float</a></code>
property.  For details see <a href="/doc/12/doc-prince/#footnotes">Footnotes</a>.
</p>

<p>
In a multi-column layout (see <a href="/doc/12/doc-prince/#columns">Columns</a>), footnotes
can be placed at the bottom of the page, spanning all columns.  But
usually you want to position the footnote at the bottom of the column
the footnote call appears in.
</p>

<p>
To achieve this, the values <code>prince-column-footnote</code> or
<code>prince-column-inline-footnote</code> of the
<code><a href="/doc/12/doc-refs/#prop-float">float</a></code> property are used.
</p>

<p>
The value <code>prince-column-footnote</code> transforms the element
into a column footnote: it creates a footnote call in the place where
it appears in its natural flow, and moves the element to the bottom of
the column.  The footnote marker is placed outside of the block of the
footnote.  With the value <code>prince-column-inline-footnote</code>,
the footnote marker is placed inside of the block of the footnote.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>float: prince-column-footnote</pre></code>
</div>
</div>






<h2 id="multiple-footnotes">Multiple Footnotes <a href="#multiple-footnotes" class="self-link"></a>
</h2>

<dl class="ingredients">
  <dt>You need</dt>
  <dd><a href="/doc/12/doc-prince/#float-extensions">Prince extensions to floats</a></dd>
  <dd>
<a href="/doc/12/doc-prince/#footnotes">Footnotes</a>
    <ul>
      <li><code><a href="/doc/12/doc-refs/#prop-float">float</a>: footnote</code></li>
    </ul>
  </dd>
  <dd><a href="/doc/12/doc-prince/#gen-content-functions">Generated Content Functions</a></dd>
  <dd><a href="/doc/12/doc-prince/#counter-target">Using target-counter()</a></dd>
</dl>

<p>
In some cases it might happen that you want to point several footnote calls at
the same footnote.  Prince offers a convenient mechanism to achieve this by
combining regular footnotes with the generated content function
<code>target-counter()</code>.
</p>

<p>
First we create our regular footnotes - the only extra step we need to do, is to
provide each footnote with a unique ID.
</p>

<div class="example">
<div class="programlisting">
<code language="HTML"><pre>&lt;p&gt;
This paragraph has a footnote.&lt;span class="fn" id="fn1"&gt;First footnote.&lt;/span&gt;
&lt;/p&gt;</pre></code>
</div>
</div>

<p>
When another foonote call needs to be pointing at this, already existing
footnote, we have to create it manually by adding a link to this footnote's ID.
</p>

<div class="example">
<div class="programlisting">
<code language="HTML"><pre>&lt;p&gt;
This paragraph refers to the first footnote.&lt;a class="rfn" href="#fn1"&gt;&lt;/a&gt;
&lt;/p&gt;</pre></code>
</div>
</div>

<p>
This footnote call will be created by using the generated content function
<code>target-counter()</code> referencing the footnote counter.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>content: target-counter(attr(href), footnote);</pre></code>
</div>
</div>

<p>
When creating regular footnotes, Prince automatically takes care of the styling
of the footnote calls, but the manually created ones need to be explicitly styled.
The following are the default rules that style a footnote call - here shown with
all the rules necessary for creating all the footnote calls:
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>.fn {
    float: footnote;
}

.rfn {
    color: inherit;
    text-decoration: none;
    content: target-counter(attr(href), footnote);
    vertical-align: super;
    line-height: none;
    font-size: 83%;
}</pre></code>
</div>
</div>






<h2 id="sidenotes">Sidenotes <a href="#sidenotes" class="self-link"></a>
</h2>

<dl class="ingredients">
  <dt>You need</dt>
  <dd><a href="/doc/12/doc-prince/#float-extensions">Prince extensions to floats</a></dd>
  <dd>
<a href="/doc/12/doc-prince/#footnotes">Footnotes</a>
    <ul>
      <li><code><a href="/doc/12/doc-refs/#prop-float">float</a>: footnote</code></li>
    </ul>
  </dd>
  <dd><a href="/doc/12/doc-prince/#footnotes-styling">Styling and behavior of footnotes</a></dd>
</dl>

<p>
Prince has a simple way of creating footnotes: the <code>@footnote</code> page
area, where footnotes can be floated to with the <code><a href="/doc/12/doc-refs/#prop-float">float</a></code>
property.  For details see <a href="/doc/12/doc-prince/#footnotes">Footnotes</a>.
</p>

<p>
It gets slightly more complicated when you want to position the footnotes not
under the text, in their default position, but at the side of the pages as
sidenotes.  Two approaches are possible, each with its advantages and drawbacks.
Either
</p>

<ul>
  <li>the footnote area is positioned to the side of the page (see also
  <a href="/doc/12/doc-prince/#footnotes-styling">Styling and behavior of footnotes</a>), or</li>
  <li>the sidenotes are floated not to the footnote area, but simply to the left
  or right side of the page.</li>
</ul>

<p>
We shall see each approach separately.
</p>

<h3 id="sidenote-footnote">Positioning the footnote area <a href="#sidenote-footnote" class="self-link"></a>
</h3>

<p>
A straightforward approach for sidenotes is to position the footnote area to the
desired place, instead of leaving it in its default position.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>@page {
    @footnote {
        <a href="/doc/12/doc-refs/#prop-position">position</a>: absolute;
        <a href="/doc/12/doc-refs/#prop-left">left</a>: -90px;
        <a href="/doc/12/doc-refs/#prop-width">width</a>: 60px;
    }
}</pre></code>
</div>
<p class="comment">
This rule moves the footnotes area to the left side of a page.
</p>
</div>

<p>
The advantage of this approach is that footnote calls and markers are created
automatically (see <a href="/doc/12/doc-prince/#footnote-calls">Footnote calls</a> and <a href="/doc/12/doc-prince/#footnote-markers">Footnote markers</a>).
</p>

<p>
The biggest disadvantage is that the footnotes are not placed to the side of the
location of the footnote calls, but are inserted into the footnote page area
filling the space from the top of the page.  Should this be of importance, use
the second approach instead.
</p>

<h3 id="sidenote-floating">Floating the footnote left or right <a href="#sidenote-floating" class="self-link"></a>
</h3>

<p>
The footnote text is floated to the left (or right) and moved out of the way with
negative margins.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>.footnote {
  float: left;
  max-width: 60px;
  margin-left: -90px;
}</pre></code>
</div>
<p class="comment">
This rule floats the footnotes to the left side of a page.
</p>
</div>

<p>
The advantage is to position the footnotes vertically aligned with the footnote
calls.
</p>

<p>
The disadvantage is that footnote calls and markers are not created
automatically, but need to be manually added as counters, and styled.
Also, footnotes may overlap vertically if they are too close together.
</p>

<p>
A variant of this approach, useful when creating floating sidenotes in a
multicol layout, can make use of some scripting to determine, with the
help of <a href="/doc/12/doc-prince/#js-box">The Box Tracking API</a>, in which column the sidenote call, and thus
the sidenote, is placed - making sure the sidenote is always in the correct
position.  You can see this in full action in the
<a href="http://css4.pub/#sidenotes">Sidenotes</a> sample
(<a href="http://css4.pub/2019/sidenotes/index.html">HTML</a> -
<a href="http://css4.pub/2019/sidenotes/index.pdf">PDF</a>).
</p>




<h2 id="endnotes">Endnotes <a href="#endnotes" class="self-link"></a>
</h2>

<dl class="ingredients">
  <dt>You need</dt>
  <dd><a href="/doc/12/doc-prince/#javascript">Scripting</a></dd>
</dl>

<p>
Endnotes are quite easy as their placement is not relative to the
page.  There are two ways of creating them.
</p>

<p>
In their most simple form, an endnote is placed at the end of the
document by the author, with a (hyperlinked) call in the text.
</p>

<p>
However, it can be laborious to manually synchronize references in
this manner.  A more convenient alternative is to keep the notes
inline and to move them to the end of the document at the time of
formatting.  This is a simple tree transformation which can be
performed by a script.  The following sample document features
references which are kept inline and moved to the end by a script:
</p>

<ul>
  <li><a href="http://css4.pub/2015/usenix/example.html">HTML document</a></li>
  <li><a href="http://css4.pub/2015/usenix/example.pdf">PDF document</a></li>
</ul>

<p>
No special CSS formatting is required to support endnotes.
</p>

<p>
In a similar fashion table notes can be created.  These are a
variation of endnotes.  However, instead of moving the notes to the
end of the document, the notes are moved to the end of the table, or
to the end of the table cell.  Again, this is a simple tree
transformation which doesn't require anything special from CSS.
</p>

<p>
The table in the above document sample also has inline notes that are
moved to the end of the table by a script.
</p>





<h2 id="hyperlinks-in-print">Hyperlinks in Print <a href="#hyperlinks-in-print" class="self-link"></a>
</h2>

<dl class="ingredients">
  <dt>You need</dt>
  <dd><a href="/doc/12/doc-prince/#gen-content">Generated Content</a></dd>
  <dd><a href="/doc/12/doc-prince/#gen-content-functions">Generated Content Functions</a></dd>
  <dd>
<a href="/doc/12/doc-prince/#crossref">Cross-references</a>
    <ul>
      <li><a href="/doc/12/doc-prince/#counter-target">Using target-counter()</a></li>
      <li><a href="/doc/12/doc-prince/#target-content">Using target-content()</a></li>
    </ul>
  </dd>
</dl>

<p>
Hyperlinks are a direct reference to another location, easy to follow
on the interactive web page, or a PDF loaded in a viewer, by clicking
on it.  On the printed page, this mechanism obviously does not work.
</p>

<p>
Prince offers some CSS functions to help translating hyperlinks into
print-friendly display, useful in different
scenarios: <code>target-counter()</code>,
<code>target-content()</code> and <code>attr()</code>, to be used
with the <code><a href="/doc/12/doc-refs/#prop-content">content</a></code> property.  (See
also <a href="/doc/12/doc-prince/#gen-content-functions">Generated Content Functions</a>).
</p>

<p>
The <code>target-counter()</code> function can be used to reference
the value of a counter at a linked element, and it can specify any
counter, allowing cross-references to refer to list items, chapters or
sections as well as pages.
</p>

<p>
Used with generated content after a hyperlink, it will add a
cross-reference with the correct page number determined automatically.
</p>

<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code language="css"><pre>a[href]::after {
    content: " [See page " target-counter(attr(href), page) "]"
}</pre></code>
</div>
<p class="comment">
This adds something like "[See page 17]" after each link.  Note the
use of the function <code>attr()</code> inside
the <code>target-counter()</code> function.
</p>
</div>

<p>
It can also take an optional counter style, similar to the
normal <code>counter()</code> function.
</p>

<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code language="css"><pre>a[href]::after {
    content: " [See chapter "
             target-counter(attr(href), chapter, upper-roman)
             "]"
}</pre></code>
</div>
<p class="comment">
This will add a cross-reference after every link with the correct chapter
number determined automatically and displayed using roman numerals.
For example: "[See chapter IV]".
</p>
</div>

<p>
The <code>target-content()</code> function can be used to reference
the text content of the linked element.
</p>

<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code language="css"><pre>a[href]::after {
    content: " [See '" target-content(attr(href)) "']"
}</pre></code>
</div>
<p class="comment">
This will add a cross-reference after every link that includes the text of the
element being linked to, such as a chapter title. For example:
"[See 'Introduction']".
</p>
</div>

<p>
The <code>attr()</code> function, used in the previous examples inside
the other functions, can also be used on its own to insert the URL of a
remote resource.
</p>

<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code language="css"><pre>a[href]::after {
    content: " [Located at '" attr(href) "']";
}</pre></code>
</div>
<p class="comment">
This will add the URL after every link. For example:
"[Located at 'http://www.princexml.com/']".
</p>
</div>






<h2 id="image-magic">Image Magic <a href="#image-magic" class="self-link"></a>
</h2>

<dl class="ingredients">
  <dt>You need</dt>
  <dd><a href="/doc/12/doc-prince/#images">Images</a></dd>
  <dd>
<a href="/doc/12/doc-prince/#images-css">CSS and Images</a>
    <ul>
      <li><code><a href="/doc/12/doc-refs/#prop-prince-image-magic">prince-image-magic</a></code></li>
    </ul>
  </dd>
</dl>

<p>
The <code><a href="/doc/12/doc-refs/#prop-prince-image-magic">prince-image-magic</a></code> property
performs various image-related, Prince-specific tasks that do not fit
into other existing CSS properties.  It applies magic to images!
</p>

<p>
To reduce the PDF file size, JPEG images can be recompressed at a
lower quality level by using the function <code>recompress-jpeg(quality%)</code>
with the required quality percentage as argument.
</p>

<p>
PNG images can be converted to JPEG images with the keyword
<code>convert-to-jpeg</code> (using the default compression rate), or
they can also be converted to JPEG with the required compression rate
as argument with the function <code>convert-to-jpeg(quality%)</code>.
</p>

<p>
Prince usually strips unnecessary metadata from JPEG images to help
contain size.  But it might happen that you need that extra data,
possibly for further downstream processing.  The keyword
<code>jpeg-verbatim</code> inhibtis this stripping and includes the
images without modification in the PDF file.
</p>

<p>
Two more keywords perform more obscure tasks that might be required in
very specific circumstances: the keyword <code>ignore-icc-profile</code>
causes Prince to ignore any ICC color profile embedded in the image,
useful e.g. in those cases when the embedded ICC profile is broken; and
<code>snap-to-integer-coords</code> can be used to avoid blurring of
images in some PDF viewers.
</p>

<p class="note">
Several of the values can be combined, to perform more than one magic
on images - for details please check the grammar of the
<code><a href="/doc/12/doc-refs/#prop-prince-image-magic">prince-image-magic</a></code> property.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>img {
    prince-image-magic: recompress-jpeg(50%) convert-to-jpeg(50%) snap-to-integer-coords;
}</pre></code>
</div>
<p class="comment">
This example recompresses all JPEG images to 50%, converts any
non-JPEG images to JPEG with the same quality, and snaps them all to
integer coordinates to avoid blurring in some PDF viewers.
</p>
</div>





<h2 id="hyphenation">Hyphenation <a href="#hyphenation" class="self-link"></a>
</h2>

<dl class="ingredients">
  <dt>You need</dt>
    <dd>
<code><a href="/doc/12/doc-refs/#prop-hyphens">hyphens</a></code>
      <ul>
        <li><code><a href="/doc/12/doc-refs/#prop-prince-hyphenate-character">prince-hyphenate-character</a></code></li>
        <li><code><a href="/doc/12/doc-refs/#prop-prince-hyphenate-before">prince-hyphenate-before</a></code></li>
        <li><code><a href="/doc/12/doc-refs/#prop-prince-hyphenate-after">prince-hyphenate-after</a></code></li>
        <li><code><a href="/doc/12/doc-refs/#prop-prince-hyphenate-limit-lines">prince-hyphenate-limit-lines</a></code></li>
        <li><code><a href="/doc/12/doc-refs/#prop-prince-hyphenate-patterns">prince-hyphenate-patterns</a></code></li>
      </ul>
    </dd>
</dl>

<p>
The property <code><a href="/doc/12/doc-refs/#prop-hyphens">hyphens</a></code> controls whether hyphenation
is allowed to create opportunities to wrap within a line of text.
</p>

<p class="note">
The default value of the <code><a href="/doc/12/doc-refs/#prop-hyphens">hyphens</a></code> property is
<code>manual</code> - to enable automatic hyphenation in a body of text, the
value <code>auto</code> has to be declared.
</p>

<p>
The value <code>none</code> instructs never to hyphenate, while the default
value <code>manual</code> tells Prince to only hyphenate when there are
characters inside the word that explicitly suggest hyphenation opportunities,
such as e.g. "soft hyphens" (represented either by the Unicode character
<code>U+00AD</code> or the HTML entity <code>&amp;shy;</code>). With the
value <code>auto</code>, words may be broken at appropriate hyphenation
points as determined automatically by the language-appropriate hyphenation
resources, or by hyphenation characters in a word.
</p>

<p class="note">
In order to make automatic hyphenation work as intended, it is important to
communicate to Prince the natural language the text is in, so that the
language-specific hyphenation rules can be applied - this is done by means to
the <code>lang</code> or <code>xml:lang</code> attributes.
</p>

<p>
The character shown at the end of a line when the word is hyphenated  can be
specified with the <code><a href="/doc/12/doc-refs/#prop-prince-hyphenate-character">prince-hyphenate-character</a></code>
property.
</p>

<p>
Fine-tuning of hyphenation can be done with the
<code><a href="/doc/12/doc-refs/#prop-prince-hyphenate-after">prince-hyphenate-after</a></code> and
<code><a href="/doc/12/doc-refs/#prop-prince-hyphenate-before">prince-hyphenate-before</a></code> properties to determine
the minimum number of letters in a word that may be moved to the next line or
that may be left at the end of a line when the word is hyphenated.
</p>

<p>
The <code><a href="/doc/12/doc-refs/#prop-prince-hyphenate-limit-lines">prince-hyphenate-limit-lines</a></code> property is used to
determine the maximum number of consecutive lines that may end with a hyphenated
word.
</p>

<p>
Prince uses the hyphenation patterns from the CTAN archive - the full archive is
accessible <a href="http://tug.ctan.org/tex-archive/language/hyph-utf8/tex/generic/hyph-utf8/patterns/txt/">here</a>.
The default hyphenation patterns can be found in the installed <code>hyph.css</code> file,
located in the default style sheets location (see <a href="/doc/12/doc-install/#installation-layout">Installation Layout</a>).
</p>

<p>
Hyphenation patterns for the following languages are provided:
</p>

<table class="grid">
  <tr>
    <td>da</td>
    <td>Danish</td>
  </tr>
  <tr>
    <td>de</td>
    <td>German</td>
  </tr>
  <tr>
    <td>en-US</td>
    <td>English</td>
  </tr>
  <tr>
    <td>es</td>
    <td>Spanish</td>
  </tr>
  <tr>
    <td>fi</td>
    <td>Finnish</td>
  </tr>
  <tr>
    <td>fr</td>
    <td>French</td>
  </tr>
  <tr>
    <td>is</td>
    <td>Icelandic</td>
  </tr>
  <tr>
    <td>it</td>
    <td>Italian</td>
  </tr>
  <tr>
    <td>lt</td>
    <td>Lithuanian</td>
  </tr>
  <tr>
    <td>pl</td>
    <td>Polish</td>
  </tr>
  <tr>
    <td>pt</td>
    <td>Portuguese</td>
  </tr>
  <tr>
    <td>ru</td>
    <td>Russian</td>
  </tr>
  <tr>
    <td>sl</td>
    <td>Slovenian</td>
  </tr>
  <tr>
    <td>sv</td>
    <td>Swedish</td>
  </tr>
</table>

<p>
A special case is Thai hyphenation, supported thanks to the
<a href="http://linux.thai.net/projects/libthai">LibThai</a> package.
</p>

<p>
To add hyphenation patterns for other languages, download them from the
<a href="http://tug.ctan.org/tex-archive/language/hyph-utf8/tex/generic/hyph-utf8/patterns/txt/">CTAN
archive</a>.  Save the files for the chosen language without the <code>.txt</code>
extension, and link to the pattern file (with the <code>.pat</code> extension) with
the <code><a href="/doc/12/doc-refs/#prop-prince-hyphenate-patterns">prince-hyphenate-patterns</a></code> CSS property.  Prince determines
which language to use for hyphenation with the help of the <code>:lang()</code> CSS
selector, which in turn checks the <code>lang</code> or <code>xml:lang</code> attributes
of the document:
</p>

<div class="example">
<div class="programlisting">
<code language="css"><pre>:lang(en-GB) {
    prince-hyphenate-patterns: url("hyph-en-gb.pat");
}</pre></code>
<code language="html"><pre>&lt;span lang="en-GB"&gt;supercalifragilisticexpialidocious&lt;/span&gt;</pre></code>
</div>
</div>

<p class="note">
Prince only supports local hyphenation dictionaries.
</p>


  <h2 id="ligatures">Typographic Ligatures <a href="#ligatures" class="self-link"></a>
</h2>

<dl class="ingredients">
  <dt>You need</dt>
    <dd><a href="/doc/12/doc-prince/#opentype-features">OpenType Features in Prince</a></dd>
    <dd><code><a href="/doc/12/doc-refs/#prop-font-variant">font-variant</a>: prince-opentype()</code></dd>
    <dd><code><a href="/doc/12/doc-refs/#prop-prince-text-replace">prince-text-replace</a></code></dd>
</dl>

  <p>Prince supports typographic ligatures found in OpenType fonts, i.e. Prince will
  replace certain characters that appear next to each other with other special glyphs
  that join those two characters together into one single glyph.</p>

  <p>A prominent example of a typographic ligature is <b>ﬁ</b>, which replaces
  the two characters <b><span>f</span><span>i</span></b> with a single glyph.</p>

  <p>Prince automatically enables ligatures declared by the OpenType fonts with the
  <code>liga</code> feature (see <a href="/doc/12/doc-prince/#opentype-features">OpenType Features in Prince</a>).  This feature
  covers the "standard ligatures" which the font manufacturer thinks should be used
  in normal conditions.  Microsoft has a list of the OpenType feature names
  <a href="https://www.microsoft.com/typography/otspec/featurelist.htm">here</a>.</p>

  <p>Other special ligatures need to be explicitly enabled in Prince to take effect.
  This is achieved by using the <code><a href="/doc/12/doc-refs/#prop-font-variant">font-variant</a></code> CSS property with
  the <code>prince-opentype()</code> function (see <a href="/doc/12/doc-refs/#css-functions">CSS Functional Expressions</a>).
  Care must be taken in which order the features are enabled!  And please note that
  enabling one feature will disable all the default features.  To see which OpenType
  features are enabled by default, see the <a href="/doc/12/doc-prince/#opentype-features">OpenType Features in Prince</a> section.</p>

  <div class="example">
  <div class="programlisting">
    <code language="CSS"><pre>@page {
    <a href="/doc/12/doc-refs/#prop-font-variant">font-variant</a>: prince-opentype(dlig, liga);
}</pre></code>
  </div>
  </div>

  <p>Unlike other ligature features, the <code>clig</code> feature specifies the context
  in which the ligature is recommended.  "Contextual ligatures" are important in some
  script designs.</p>

  <p>The <code>dlig</code> feature covers the "discretionary ligatures" which may be
  used for special effects.</p>

  <p>Some ligatures were in common use in the past, such as ligatures with the so-called
  "long s" - but they appear anachronistic today.  Some fonts include the historical
  forms as alternates, so the "historical ligatures", covered by the <code>hlig</code>
  feature, can be used for a 'period' effect.  This feature replaces the default (current)
  forms with the historical alternates.</p>

  <p>Some scripts, most notably Arabic and Syriac scripts, require certain ligatures
  to be used in normal conditions.  These "required ligatures" are covered by the
  <code>rlig</code> feature.  Prince enables this feature by default in Arabic script.</p>

  <p>Another mechanism for replacing characters is given with the
  <code><a href="/doc/12/doc-refs/#prop-prince-text-replace">prince-text-replace</a></code> property.  For
  an example use, please see the section on <a href="/doc/12/doc-refs/#characters">Character Entities</a>.</p>




  <h2 id="watermarks">Watermarks <a href="#watermarks" class="self-link"></a>
</h2>

<dl class="ingredients">
  <dt>You need</dt>
    <dd>
<a href="/doc/12/doc-prince/#page-regions">Page regions</a>
      <ul>
        <li><code>@prince-overlay</code></li>
      </ul>
    </dd>
    <dd><a href="/doc/12/doc-prince/#page-gen-content">Generated content in page regions</a></dd>
    <dd><a href="/doc/12/doc-prince/#content-taking-elements">Taking elements from the document</a></dd>
</dl>

  <p>
  When producing a PDF, it might be desirable to include a watermark, visible on
  all pages.  In Prince it is easy to do so with CSS.
  </p>

  <p>
  In order to repeat it on all pages, the watermark needs to be placed in a
  <a href="/doc/12/doc-refs/#at-page"><code>@page</code></a> at-rule.
  We shall place it in the page region <code>@prince-overlay</code> (see
  <a href="/doc/12/doc-prince/#page-regions">Page regions</a>) and create the watermark with generated
  content (see <a href="/doc/12/doc-prince/#page-gen-content">Generated content in page regions</a>):
  </p>

  <div class="example">
<div class="programlisting">
<code language="css"><pre>@page {
   @prince-overlay {
      color: rgba(0,0,0,0.8);
      content: "Watermark";
      font-size: 20pt;
   }
}</pre></code>
</div>
</div>

  <p>
  The overlay can be styled in all possible ways and it can be aligned in other
  places than middle center:
  </p>

  <div class="example">
<div class="programlisting">
<code language="css"><pre>@page {
   @prince-overlay {
      content: "Watermark";
      vertical-align: top;
   }
}</pre></code>
</div>
</div>

  <p>
  Currently it is only possible to have one overlay, but you could flow an entire
  element having multiple individually positioned contents
  (see <a href="/doc/12/doc-prince/#content-taking-elements">Taking elements from the document</a>).
  </p>

  <p>
  The styled watermark can be saved into a <code>watermark.css</code> file, which
  will be called when generating the document:
  </p>

  <div class="example">
  <div class="syntaxlisting">
    <code><pre>prince --style=watermark.css myfile.html -o myfile_with_watermark.pdf</pre></code>
  </div>
  </div>



<h2 id="rotating">Rotating content <a href="#rotating" class="self-link"></a>
</h2>

<p>
Sometimes it is necessary to rotate a block element so that it fits on the
page.  This is common with tables.  Two approaches are possible:
either the whole page is <a href="/doc/12/doc-prince/#wide-content-sideways">printed
sideways</a>, or only <a href="/doc/12/doc-prince/#rotating-table-cells">the
content in a table cell is rotated</a>.  We shall see each approach
separately.
</p>

<h3 id="wide-content-sideways">Printing wide content sideways <a href="#wide-content-sideways" class="self-link"></a>
</h3>

<dl class="ingredients">
  <dt>You need</dt>
    <dd><code><a href="/doc/12/doc-refs/#prop-prince-rotate-body">prince-rotate-body</a></code></dd>
    <dd><code><a href="/doc/12/doc-refs/#prop-prince-shrink-to-fit">prince-shrink-to-fit</a></code></dd>
</dl>

<p>
Figure <a href="/doc/12/doc-prince/#fig-bigtable">Printing a big table sideways</a> shows a table, rotated so that its
width fits within the page's length.
This can be achieved with the following rules:
</p>

<div class="example">
<div class="figure-float-right" id="fig-bigtable">
  <div class="title">Printing a big table sideways</div>
  <img src="/images/doc-latest/rotate-body-2.bw.png" alt="Image of a large table printed sideways so that its width fits            along the page's length.">
  <div class="caption">
    This table is too wide to fit on the paper, so we use
    <code><a href="/doc/12/doc-refs/#prop-prince-rotate-body">prince-rotate-body</a></code> in a <i>named page</i>
    to print it sideways.
    Download the <a href="/samples/doc-latest/rotate-body.pdf">PDF</a>
    or the <a href="/samples/doc-latest/rotate-body.html">HTML</a>.
  </div>
</div>

<div class="programlisting">
<code language="CSS"><pre>@page big_table {
    <a href="/doc/12/doc-refs/#prop-prince-rotate-body">prince-rotate-body</a>: landscape;
    <a href="/doc/12/doc-refs/#prop-prince-shrink-to-fit">prince-shrink-to-fit</a>: auto;
}

table.big {
    <a href="/doc/12/doc-refs/#prop-page">page</a>: big_table
}</pre></code>
</div>
</div>

<p>
The <code><a href="/doc/12/doc-refs/#prop-prince-rotate-body">prince-rotate-body</a></code> property works within
<a href="/doc/12/doc-refs/#at-page"><code>@page</code></a> rules only,
so this example uses a named page to place the table on a page of its own.
Then the <a href="/doc/12/doc-refs/#at-page"><code>@page</code></a>
rule for <code>big_table</code> pages uses the
<code><a href="/doc/12/doc-refs/#prop-prince-rotate-body">prince-rotate-body</a></code> property to tell prince that
the body of the page, but not the headers and footers, should be rotated.
The table in this example is still too wide so we also use the
<code><a href="/doc/12/doc-refs/#prop-prince-shrink-to-fit">prince-shrink-to-fit</a></code> property to make it a little
smaller.
</p>

<p>
If you download the full example
(<a href="/samples/doc-latest/rotate-body.html">HTML</a>
or <a href="/samples/doc-latest/rotate-body.pdf">PDF</a>)
you will see that the paragraphs before and after the table are not placed
on the same page.
This is because they do not belong to the same named page
(see <a href="/doc/12/doc-prince/#named-pages">Named pages</a>).
However on page four there are two tables, both tables belong to the same
named page and therefore Prince will try to place them together on the same
page.
</p>

<p>Another way of rotating content is by changing the writing mode with the
<code><a href="/doc/12/doc-refs/#prop-writing-mode">writing-mode</a></code> property, or by transforming an
element with <code><a href="/doc/12/doc-refs/#prop-transform">transform</a>: rotate()</code> - see
<a href="/doc/12/doc-prince/#rotating-table-cells">Rotating content in table cells</a>.</p>



<h3 id="rotating-table-cells">Rotating content in table cells <a href="#rotating-table-cells" class="self-link"></a>
</h3>

<dl class="ingredients">
  <dt>You need</dt>
    <dd><code><a href="/doc/12/doc-refs/#prop-transform">transform</a>: rotate()</code></dd>
    <dd><code><a href="/doc/12/doc-refs/#prop-writing-mode">writing-mode</a></code></dd>
</dl>

<p>
There are cases, when preparing a table with a large amount of content, that you
would like to configure your layout to be most efficient - a useful trick is to
rotate the content in some table cells, or in the table headers.  Rotating by 90°
might be a way to achieve this, but readability suffers.  A reasonable compromise
is to rotate 45° only - the space it needs is not more than with a 90° rotation,
and your readers don't have to tilt their heads repeatedly.  In the following example
we shall rotate table headers by 45°.
</p>

<p>
The rotation is achieved with <code><a href="/doc/12/doc-refs/#prop-transform">transform</a>: rotate()</code>.
It could be applied directly to the <code>th</code> element, but it is impossible
to configure the width of the column as we wish it.  We shall thus nest a <code>div</code>
and a <code>span</code> element:
</p>

<div class="example">
<div class="programlisting">
<code language="HTML"><pre>&lt;th class="rotate"&gt;
  &lt;div&gt;
    &lt;span&gt;Column header 1&lt;/span&gt;
  &lt;/div&gt;
&lt;/th&gt;</pre></code>
</div>
</div>

<p>
The rotation will happen with the following CSS code:
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>th.rotate {
  /* Make sure the th is high enough, */
  height: 150px;
  /* and make sure the words of the header are not split with a newline. */
  white-space: nowrap;
}

th.rotate &gt; div {
  transform:
    /* Magic Numbers to put it in place, */
    translate(25px, 50px)
    /* rotate it, */
    rotate(-45deg);
  /* and give the div the width you wish. */
  width: 30px;
}
th.rotate &gt; div &gt; span {
  /* And finally, add some styling. */
  border-bottom: 1px solid #ccc;
  padding: 5px 10px;
}</pre></code>
</div>
</div>

<p>
A more basic means for rotation, allowing for less fine-tuning, is the use of the
<code><a href="/doc/12/doc-refs/#prop-writing-mode">writing-mode</a></code> CSS property.  This option only allows rotation by
90°.  It can be very handy when only some table cells with too much content are rotated,
so as not to use too much horizontal space.  You cannot rotate the table cell directly,
so you have to nest one <code>span</code> element inside - and then you style it:
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>td.rotate &gt; span {
  /* Rotate the content */
  writing-mode: vertical-rl;
  /* Optionally, you can force the table cell's content not to wrap */
  white-space: nowrap;
}</pre></code>
</div>
</div>

<p>
For a different approach to rotating content, see the section on
<a href="/doc/12/doc-prince/#wide-content-sideways">Printing wide content sideways</a>.
</p>




<h2 id="two-pass">The "Two-Pass" Solution <a href="#two-pass" class="self-link"></a>
</h2>

<dl class="ingredients">
  <dt>You need</dt>
    <dd><a href="/doc/12/doc-prince/#js-print">JavaScript in Printed Media</a></dd>
    <dd><a href="/doc/12/doc-prince/#js-event">Event Handling</a></dd>
    <dd>
<a href="/doc/12/doc-prince/#js-console">Console Access</a>
      <ul>
        <li><code>console.log()</code></li>
      </ul>
    </dd>
</dl>

<p>One limitation of producing a document intended for print is its non-interactive,
static nature: a document cannot be modified after it is deemed to be ready for print.
See <a href="/doc/12/doc-prince/#js-print">JavaScript in Printed Media</a>.</p>

<p>JavaScript can be run twice only: the first time it is run before layout, where
it interacts with and modifies the layout (and the DOM structure).  Once layout is
finished, JavaScript can be run a second time from the <code>complete</code> event
handler - see <a href="/doc/12/doc-prince/#js-event">Event Handling</a>.  However, this time it is only allowed
to inspect the layout and cannot modify the DOM.</p>

<p>A problematic situation arises when you want to modify your document after layout
has finished - a typical scenario would be when you want an index to be created with
correct page numbers.  The content depends on the layout of the document itself.</p>

<p>(Please note that this only affects the creation of an index - a simple table of
contents or a reference to a place on another page can easily be achieved with
<a href="/doc/12/doc-prince/#counter-target">target-counter links</a>.)</p>

<p>Typically Prince is run a first time to prepare the layout of the document and
run JavaScript after layout has finished, collecting the output of the script to
append it to the document with the help of the <code>console.log()</code> - see
<a href="/doc/12/doc-prince/#js-console">Console Access</a>.</p>

<p>Now the document would be ready for generating the PDF - Prince is run a second
time, producing the desired document.</p>

<p>Here is a minimalistic two-pass solution where the document is adorned with a
ToC and index:</p>

<div class="example">
<div class="programlisting">
  <code><pre>wget http://www.princexml.com/howcome/2015/index/musick.html -O musick.html;
  prince --javascript musick.html &gt;&gt;musick.html;
  prince --javascript musick.html -o musick.pdf</pre></code>
</div>
</div>

<p>Another use of the two-pass solution is to create changebars - see the description
<a href="http://www.princexml.com/forum/topic/3516/changebars">here</a>.</p>





<h2 id="pdf-doc">Documentation in PDF Format <a href="#pdf-doc" class="self-link"></a>
</h2>

<p>
Documentation for Prince can easily be viewed online in the browser.  But
there might be circumstances when it is convenient to have the documentation
in one file, stored locally - and which format would be most suitable, if not
PDF?
</p>

<p>
And since Prince is a tool for creating PDF files from HTML, it could also
be your choice of tool to create a PDF version of the documentation!
</p>

<p>
The HTML version of the documentation is served in three distinct files:
</p>

<ul>
<li>the <a href="/doc/12/doc-install/">Installation Guide</a>,</li>
<li>the <a href="/doc/12/doc-prince/">User Guide</a> for the latest version, and</li>
<li>the <a href="/doc/12/doc-refs/">References</a>.</li>
</ul>

<p>
Additionally, each file needs a few more files to display correctly -
including images, CSS files to style the documents, as well as JavaScript
files, necessary not just for browser-only features like scrolling to the
right place in certain circumstances, but also for the core of the Prince
<a href="/doc/12/doc-refs/#js-support">JavaScript Support</a> documentation.
</p>

<p>
To create a PDF version of the documentation we need to run just one simple
command line:
</p>

<div class="example">
<div class="programlisting">
  <code><pre>prince --javascript http://www.princexml.com/doc/ http://www.princexml.com/doc-prince/ http://www.princexml.com/doc-refs/ -o prince-documentation.pdf</pre></code>
</div>
</div>

<p>
This command produces the documentation in PDF format, including a cover page,
the <a href="/doc/12/doc-prince/">User Guide</a> and the
<a href="/doc/12/doc-refs/">References</a> section.
</p>

<p>
If you are using the Prince GUI on Windows, you need to paste the three URLs for
the cover page, the User Guide and the References by selecting the option "Add
URL" three times.  Next, you select the checkbox "Merge all documents into a
single PDF file" and select a location where to save this file to.  Make sure
that the checkbox for "Enable Document Scripts" is checked, and click on the
"Convert" button to convert the documents into your documentation in PDF format.
</p>

<p class="note">
The <a href="/doc/12/doc-install/">Installation Guide</a> is not
included: since Prince is needed to create your documentation PDF, we assume
that you have already installed it!
</p>


<h1 id="help">Help <a href="#help" class="self-link"></a>
</h1>

<p>The Prince User Guide tries to be exhaustive in explaining how to use the application
and its features.  However, there might always be something not answered in the documentation,
or something not working as expected.  There are a couple of ways to get help to solve
the problems:</p>

<ul>
  <li>The <a href="/doc/12/doc-prince/#troubleshooting">Troubleshooting</a> section addresses possible common issues
  after installing and starting to use Prince;</li>
  <li>The <a href="/doc/12/doc-prince/#faq">Frequently Asked Questions</a> section provides answers to the most frequently asked
  questions;</li>
  <li>The <a href="//www.princexml.com/forum/">forum</a> is an excellent place where
  to find an answer to an issue, or where to ask for help;</li>
  <li>You can <a href="//www.princexml.com/contact/">contact us</a> for support.</li>
</ul>



<h2 id="troubleshooting">Troubleshooting <a href="#troubleshooting" class="self-link"></a>
</h2>

<p>
We work hard to make Prince work on multiple platforms (Windows, Linux, etc) and
with multiple configurations.  However things don't always work correctly the first
time.  You're very welcome to <a href="/contact/">contact us</a> for support or
visit our <a href="/forum/">forum</a>.  However if you are facing a common
problem, you may be able to find an explanation and solution below.
</p>


  <h3 id="output-log">Output log <a href="#output-log" class="self-link"></a>
</h3>

<p>
When running into trouble with Prince, the first thing you should do is to
check for any errors.  These can be found in the Prince output log.
</p>

<p>
When launching Prince from the command line, Prince will print any error or
warning messages directly to the console, prefixed with <code>error:</code>
or <code>warning:</code> messages.  The level of verbosity, or a log file
where to print all output, can be controlled with a few command-line
<a href="/doc/12/doc-refs/#cmd-logging">Logging Options</a>.  A more advanced control of the output is
given by the <a href="/doc/12/doc-prince/#structured-log">Structured Log</a>.
</p>

<p>
When using the Prince GUI, the output log is printed to the log window on the
bottom left of the main GUI window.
</p>


  <h3 id="image-formats">Image formats <a href="#image-formats" class="self-link"></a>
</h3>

<dl>
  <dt>Symptom</dt>
  <dd>
    <div class="example">
    <div class="screen">
      <code><pre>prince: <code class="filename"><span class="replaceable">./picture.bmp</span></code>: warning: Unknown image format</pre></code>
    </div>
    </div>
  </dd>
  <dt>Explanation</dt>
  <dd>
    <p>
      Prince supports JPEG, PNG, TIFF and GIF images as well as SVG (see
      <a href="/doc/12/doc-prince/#images">Images</a>).  If you try to format a document that
      includes images in a format that is not supported by Prince, such as
      BMP, you may see the above error message from Prince.
    </p>
  </dd>
  <dt>Solution</dt>
  <dd>
    <p>
      The solution is to convert the image file into a format that is
      supported by Prince.
      We suggest PNG, which is a well-supported general purpose image format
      with lossless compression.
    </p>
  </dd>
</dl>




  <h3 id="capturereplay">The capture/replay system <a href="#capturereplay" class="self-link"></a>
</h3>

<p>
Prince offers a convenient capture/replay system with the two command-line
options <a href="/doc/12/doc-refs/#cl-capture">--capture</a> and
<a href="/doc/12/doc-refs/#cl-replay">--replay</a> - the former saving a
copy of all the information in a job to a specified directory, including the
input document(s) and all of the resources referenced by them and on the
command line (including remote HTTP resources), such as style sheets, images,
JavaScript files, fonts, etc., conveniently allowing it to be replayed later
for debugging purposes with the latter command-line option.  The directory
might contain sensitive information (as far as included in the PDF job), so
we recommend only submitting them by email when requested to do so, instead
of posting them on the forum.
</p>


  <h3 id="princedebug">Running the debug script <a href="#princedebug" class="self-link"></a>
</h3>

<p>
For assisting in tracking down difficult platform bugs, the <code>princedebug</code>
script is available on Linux and MacOS X platforms.  It is located in
<code>/usr/lib/prince/bin</code> and runs Prince with the specified
command-line arguments, dumping a considerable amount of debug
information to two files in the <code>/tmp</code> directory, namely
<code>prince.debug</code> and <code>prince.strace</code>.
</p>

<p class="warning">
These files contain information about the system and environment in which
Prince was run, and about the job in question, so we recommend only
submitting them by email when requested to do so, instead of posting them on
the forum.
</p>

<p>
The <code>princedebug</code> script is not available on Windows.
</p>




<h2 id="faq">Frequently Asked Questions <a href="#faq" class="self-link"></a>
</h2>

<dl class="faq">
  <dt><p id="faq-garbled-chars">Why do I see garbled characters on my page?
  <a class="self-link" href="#faq-garbled-chars"></a></p></dt>
  <dd><p>This usually happens when Prince is not able to find a suitable font, or
  might be using the wrong font.  Try installing a font that supports your script,
  or try using a different font in your stylesheet.  See also: <a href="/doc/12/doc-prince/#fonts">Fonts</a>
  and <a href="/doc/12/doc-prince/#redefining-font-families">Redefining the generic font families</a>.</p></dd>

  <dt><p id="faq-one-page">Why is all the content displayed on one page, while
  I was expecting it to take several pages?
  <a class="self-link" href="#faq-one-page"></a></p></dt>
  <dd>
<p>Typically content displays on only one page, even though it should be
  much longer, because it is wrapped up:</p>
  <ul>
    <li>in an absolutely positioned element, or</li>
    <li>in a floated block element, or</li>
    <li>in a single inline-block element, or</li>
    <li>in an element with fixed height, or</li>
    <li>in an element with <code><a href="/doc/12/doc-refs/#prop-overflow">overflow</a>: hidden</code>,</li>
  </ul>
  <p>which Prince cannot split over several pages.  It can happen to the whole
  content in a document, or to just a section of it.  This issue does not affect
  browsers, because they don't paginate.  See also: <a href="/doc/12/doc-prince/#paged">Paged Media</a>.</p>
</dd>

  <dt><p id="faq-resize-page">How can I resize my web page to fit it on the printed page?
  <a class="self-link" href="#faq-resize-page"></a></p></dt>
  <dd>
<p>Prince usually takes care of reformatting a document to fit on a printed
  page.  However, there are cases where it doesn't work as expected.  Wide content
  can be made fit by <a href="/doc/12/doc-prince/#rotating">Rotating content</a>, or by applying the CSS property
  <code><a href="/doc/12/doc-refs/#prop-prince-shrink-to-fit">prince-shrink-to-fit</a></code>, which scales down all content
  equally.  Alternatively, the command-line option
  <a href="/doc/12/doc-refs/#cl-css-dpi">--css-dpi</a> changes the DPI of
  the "px" units in CSS, which defaults to 96dpi.</p>
  <p class="note">We do not recommend people making a habit of using this, and
  instead advise to design a layout specifically appropriate for the paper being
  used.  Or at least using relative size units.</p>
</dd>

  <dt><p id="faq-no-trans">Why does my PDF file not show the transparent
  background? <a class="self-link" href="#faq-no-trans"></a></p></dt>
  <dd><p>Different PDF profiles have different requirements - you might be
  generating a PDF with a version or profile which does not support transparency.
  The only PDF profile to support transparency is the PDF/X-4 profile.  See also:
  <a href="/doc/12/doc-prince/#pdf-profiles">PDF Versions and Profiles</a> and <a href="/doc/12/doc-prince/#pdf-colman">Color Management and PDF Profiles</a>.</p></dd>

  <dt><p id="faq-tooltips">How can I create tooltips in the PDF file?
  <a class="self-link" href="#faq-tooltips"></a></p></dt>
  <dd>
<p>PDF tooltips can be enabled with the CSS property <code><a href="/doc/12/doc-refs/#prop-prince-tooltip">prince-tooltip</a></code> like this:</p>
	  <div class="example">
      <div class="programlisting">
        <code language="CSS"><pre>*[title] { prince-tooltip: attr(title) }</pre></code>
      </div>
      </div>
  <p>However, please note that tooltips are not a standard PDF feature, and they
  may only work in Adobe Reader and Adobe Acrobat and may not be visible in other
  PDF viewers, such as web browsers.</p>
</dd>

  <dt><p id="faq-everypage">How can I make an element, such as an image or some
  text, appear on each page of the PDF document?
  <a class="self-link" href="#faq-everypage"></a></p></dt>
  <dd><p>For this purpose you can use the <a href="/doc/12/doc-refs/#at-page"><code>@page</code></a>
  page regions.  See: <a href="/doc/12/doc-prince/#page-regions">Page regions</a> and <a href="/doc/12/doc-prince/#watermarks">Watermarks</a>.</p></dd>

  <dt><p id="faq-page-regions">How can I apply CSS styles in page regions?
  <a class="self-link" href="#faq-page-regions"></a></p></dt>
  <dd><p>You cannot add style to generated content in the page regions, except for
  some inline style properties, such as <a href="/doc/12/doc-refs/#prop-color">color</a> and
  <a href="/doc/12/doc-refs/#prop-font">font</a>.  A possibility for using more complex styling is to use
  the <code>element()</code> or <code>flow()</code> CSS functions.  See
  <a href="/doc/12/doc-prince/#page-gen-content">Generated content in page regions</a>, <a href="/doc/12/doc-prince/#content-copying-text">Copying content from the document</a> and
  <a href="/doc/12/doc-prince/#content-taking-elements">Taking elements from the document</a> - however, this latter approach will
  remove the element from the document itself.</p></dd>

  <dt><p id="faq-counting-pages">How can I start counting pages on a left page and display a right page
  as second page? <a class="self-link" href="#faq-counting-pages"></a></p></dt>
  <dd>
<p>You can specify <code><a href="/doc/12/doc-refs/#prop-break-before">break-before</a>:left | right</code>
  on the root element of the document.</p>
  <div class="example">
    <p class="label">CSS</p>
    <div class="programlisting">
      <code language="css"><pre>body[start=even] {
  break-before:left;
}</pre></code>
    </div>
    <p class="label">HTML</p>
    <div class="programlisting">
      <code language="html"><pre>&lt;body start="even" startpage="28"&gt;</pre></code>
    </div>
  </div>
  </dd>

  <dt><p id="faq-js">Does Prince support JavaScript?
  <a class="self-link" href="#faq-js"></a></p></dt>
  <dd><p>Yes, Prince supports JavaScript - remember to enable it with the
  <a href="/doc/12/doc-refs/#cl-javascript"><code>--javascript</code></a>
  command-line option (see <a href="/doc/12/doc-prince/#applying-javascript">Applying JavaScript in Prince</a>).  However,
  there are some limitations: Prince produces printed documents, and interactive
  events make no sense in this context.  Also, modifications of the document
  after layout has finished are not possible.  See: <a href="/doc/12/doc-prince/#javascript">Scripting</a>.</p></dd>

  <dt><p id="faq-jsafterkayout">Can I modify the document after layout has
  finished? <a class="self-link" href="#faq-jsafterkayout"></a></p></dt>
  <dd><p>No, unfortunately this is part of the inherent limitations of printed media -
  see <a href="/doc/12/doc-prince/#js-print">JavaScript in Printed Media</a>.  However, JavaScript can run after layout is done,
  and the output can be used for a second run of Prince - see <a href="/doc/12/doc-prince/#two-pass">The "Two-Pass" Solution</a>.</p></dd>

  <dt><p id="faq-xinclude">Can I include content of external files in my document?
  <a class="self-link" href="#faq-xinclude"></a></p></dt>
  <dd>
<p>Yes.  In XML, this is done by means of <a href="/doc/12/doc-prince/#xinclude">XML Inclusions (XInclude)</a>.  Note
  that XInclude is disabled by default, and can be enabled with the
  <a href="/doc/12/doc-refs/#cl-xinclude"><code>--xinclude</code></a>
  command-line option.  Also note that XInclude only applies to XML files.</p>
  <p>To apply it to HTML files, the XML input format needs to be specified with
  the <a href="/doc/12/doc-refs/#cl-input"><code>--input</code></a>
  command-line option.</p>
  <p>Another option in HTML is to use the <code>iframe</code> element:</p>
  <div class="example">
    <div class="programlisting">
      <code language="HTML"><pre>&lt;style&gt;
@page {
  @bottom {
    border: solid red thin;
    content: flow(footer)
  }
}
.footer {
  flow: static(footer)
}
&lt;/style&gt;
&lt;iframe class="footer" src="http://www.google.com"&gt;&lt;/iframe&gt;
&lt;p&gt;Normal content&lt;/p&gt;</pre></code>
    </div>
  </div>
  <p>However there may be some subtleties required to get the correct size and
  styling of content within iframe elements.</p>
  <p>Yet another option would be to use JavaScript to issue an XMLHttpRequest,
  parse the text of the response with DOMParser, then extract the elements and
  copy them into the main document. However, it will be tricky to support
  nested styles this way.</p>
</dd>

</dl>



  <h1 id="prince-input">Prince Input <a href="#prince-input" class="self-link"></a>
</h1>

  <p>
  Prince takes HTML or XML files as input, and converts them to PDF files.  Additionally,
  CSS style sheets can be provided for styling the documents, and JavaScript files
  can be used for additional manipulation of the input.
  </p>

  <p>
  See the sections <a href="/doc/12/doc-prince/#apply-css">Applying Style Sheets in Prince</a>, <a href="/doc/12/doc-prince/#applying-javascript">Applying JavaScript in Prince</a>
  and <a href="/doc/12/doc-prince/#xml-input">XML Input</a> for details.
  </p>

  <p>
  The input files can be provided in several ways:
  </p>

  <ul>
    <li>the command line (see <a href="/doc/12/doc-refs/#command-line">Command-line Reference</a>),</li>
    <li>the GUI, or</li>
    <li>through wrapper scripts (see <a href="/doc/12/doc-prince/#server-integration">Server Integration</a>).</li>
  </ul>

  <p>
  Input files can either be local files, or remote files that will be fetched over
  HTTP or HTTPS, in which case the URL to the file, or to the site, needs to be provided.
  Prince will automatically create the PDF output once the input pages and files have
  finished loading.
  </p>




  <h2 id="apply-css">Applying Style Sheets in Prince <a href="#apply-css" class="self-link"></a>
</h2>

<p>
Prince can apply style sheets from three different sources:
</p>

<dl>
  <dt>User style sheets</dt>
  <dd>
    <ul>
      <li>
        specified from the command line interface or the GUI
      </li>
    </ul>
  </dd>
  <dt>Author style sheets</dt>
  <dd>
    <ul>
      <li>
        referenced from HTML using &lt;link rel="stylesheet" ... /&gt;
      </li>
      <li>
        specified in HTML using the &lt;style&gt; element
      </li>
      <li>
        referenced from XML documents using the <code>xml-stylesheet</code>
        processing instruction
      </li>
    </ul>
  </dd>
  <dt>Default style sheets</dt>
  <dd>
    <ul>
      <li>
        applied automatically depending on the type of the document being
        formatted
      </li>
    </ul>
  </dd>
</dl>


  <h3 id="css-import">Importing Style Sheets <a href="#css-import" class="self-link"></a>
</h3>

<p>
Style sheets may import other style sheets using
<a href="/doc/12/doc-refs/#at-import"><code>@import</code></a> rules.
These rules must occur before any other rules or declarations in the style
sheet, and have the effect of importing all the rules and declarations from
the specified style sheet.  See <a href="/doc/12/doc-refs/#css-atrules">CSS At-rules</a>.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>@import "base.css";
@import "custom.css";

<span class="comment">/* more declarations */</span></pre></code>
</div>
</div>




  <h3 id="css-conflicting-declarations">Conflicting Declarations <a href="#css-conflicting-declarations" class="self-link"></a>
</h3>
<p>
Multiple style sheets can be applied and in some cases
declarations from different style sheets may conflict. For example, one style
sheet might specify that heading elements should use the Times New Roman font,
while a different style sheet might specify that heading elements should use
the Arial font:
</p>

<div class="example">
<p class="label">First style sheet:</p>
<div class="programlisting">
<code language="CSS"><pre>h1 {
    font-family: "Times New Roman";
    font-size: 24pt;
}</pre></code>
</div>
<p class="label">Second style sheet:</p>
<div class="programlisting">
<code language="CSS"><pre>h1 {
    font-family: "Arial";
    color: red
}</pre></code>
</div>
</div>

<p>
In the above example, the <code>font-family</code> declarations conflict,
and only one can possibly be applied. However, the <code>font-size</code> and
<code>color</code> declarations do not conflict, and thus both will be applied
to the <code>h1</code> element.
</p>




  <h3 id="css-priorities">Priority Determination <a href="#css-priorities" class="self-link"></a>
</h3>
<p>
Style sheets are applied using a cascading process that calculates a priority
for each declaration. Conflicting declarations are resolved by choosing the
declaration with the highest priority and ignoring the remaining ones.
</p>
<p>
Priority is determined by looking at the origin of the declaration and
whether or not it is labeled with <code>!important</code>.
</p>

<ol>
<li>Default style sheets (lowest priority)</li>
<li>User style sheets</li>
<li>Author style sheets</li>
<li>Author style sheets, <code>!important</code>
declarations</li>
<li>User style sheets, <code>!important</code> declarations
(highest priority)</li>
</ol>

<p>
If the conflicting declarations have the same origin and importance, the
priority is determined by comparing the specificity of the selectors used to
apply them. (Combinations of selectors have even higher priority).
</p>

<ol>
<li>Universal selector, eg. "*" (lowest priority)</li>
<li>Type selector, eg. "<code>h1</code>"</li>
<li>Attribute, Class and Pseudo-class selectors</li>
<li>ID selectors, eg. "<code>#id</code>" (highest priority)</li>
</ol>

<p>
If the conflicting declarations have the same specificity, the declaration
that occurs <i>last</i> in the style sheet has the
<i>highest</i> priority.
</p>
<p>
If the declarations are from different style sheets, the declaration that
occurs in the <i>last</i> style sheet to be specified has the
<i>highest</i> priority.
This is based on the order that style sheets are specified on the command line
and also on the order that <code>xml-stylesheet</code> processing instructions
occur in the document.
</p>




  <h2 id="applying-javascript">Applying JavaScript in Prince <a href="#applying-javascript" class="self-link"></a>
</h2>

<p>
Prince is not running JavaScript by default - document scripts can be enabled by
specifying the <a href="/doc/12/doc-refs/#cl-javascript"><code>--javascript</code></a>
option on the command-line. Prince will then execute all JavaScript found in the
HTML <code>script</code> elements in the input document.
</p>
<p>
External scripts can be run by specifying one or more
<a href="/doc/12/doc-refs/#cl-script"><code>--script=FILE</code></a>
options on the command-line. These scripts will always be executed, regardless of
whether document scripts have been enabled or not.
</p>
<p>
JavaScript functions can also be called from CSS generated content, by using the
<code>prince-script()</code> syntax for referencing <a href="/doc/12/doc-prince/#scriptfunc">Script Functions</a>.
Please note that scripts contained <code>prince-script()</code> are treated as
document scripts, and hence need to be explicitly enabled.
</p>



  <h2 id="xml">XML Input <a href="#xml" class="self-link"></a>
</h2>


  <h3 id="xml-input">XML Input <a href="#xml-input" class="self-link"></a>
</h3>

<p>
Prince processes well-formed XML 1.0 documents with full support for
namespaces, internal and external entities, DTDs, character references and
CDATA sections. Comments and processing instructions are ignored and do not
affect the output.
</p>


  <h4 id="xml-validation">Validation <a href="#xml-validation" class="self-link"></a>
</h4>
<p>
Prince loads DTD files in order to resolve entity definitions and
default attribute values. However, Prince does not perform validation upon
input documents. If validation is a processing requirement, the use of an
external validator is recommended.
</p>



  <h4 id="xml-lang">
<code>xml:lang</code><a href="#xml-lang" class="self-link"></a>
</h4>
<p>
Prince supports the <code>xml:lang</code> attribute, which is used to
indicate the language of the document text. Elements can be selected by
language using the CSS <code>:lang()</code> selector.
</p>



  <h4 id="xml-id">
<code>xml:id</code><a href="#xml-id" class="self-link"></a>
</h4>
<p>
Prince supports the <code>xml:id</code> attribute, which is used to give
elements a unique identifier. This identifier can be used when creating
links and cross-references; it also allows elements to be selected
using the CSS ID selector.
</p>



  <h4 id="xml-base">
<code>xml:base</code><a href="#xml-base" class="self-link"></a>
</h4>
<p>
Prince does not support the <code>xml:base</code> attribute, therefore
hyperlinks must be absolute URLs or relative to the document path.
</p>





  <h3 id="xml-style">XML Styling <a href="#xml-style" class="self-link"></a>
</h3>

<p>
Prince provides sensible default styling behavior for several common
XML vocabularies:
</p>

<dl>
<dt>(X)HTML</dt>
<dd>
Prince styles HTML or XHTML documents by applying a default style sheet for
formatting headings, paragraphs, tables, lists, inline elements and images.
The default style sheet can be overridden or extended by user or author
style sheets - see <a href="/doc/12/doc-prince/#apply-css">Applying Style Sheets in Prince</a>.
</dd>
<dt>DocBook</dt>
<dd>
Prince styles DocBook documents by applying a default style sheet for
formatting headings, paragraphs, tables, lists, inline elements and images.
The default style sheet can be overridden or extended
by user/author style sheets.
(Note that Prince does not process DocBook documents expressed in SGML).
</dd>
<dt>SVG</dt>
<dd>
Prince supports a rich subset of SVG 1.1, including basic shapes, paths,
text and transformations.
All <code>svg</code> elements are treated as replaced elements,
similar to <code>img</code> elements in XHTML,
and their content is rendered in a rectangular space.
No line breaks or page breaks are made within an <code>svg</code>
element.
(See <a href="/doc/12/doc-prince/#svg">Scalable Vector Graphics (SVG)</a> for details of which elements are supported).
</dd>
<dt>Any other XML</dt>
<dd>
No default style sheets will be used, so style sheets will need to be
specified by the user or referenced from the document in order for Prince
to apply style to the document - see <a href="/doc/12/doc-prince/#apply-css">Applying Style Sheets in Prince</a>.
<p class="note">
Prince does not support XSLT.  External XSLT processors can be used and the
resulting document can be passed to Prince.
</p>
</dd>
</dl>




  <h3 id="xinclude">XML Inclusions (XInclude) <a href="#xinclude" class="self-link"></a>
</h3>

<p>
XML Inclusions (XInclude) provides a method of including content from other
files into an XML document. When Prince processes the XML document, the
inclusions are resolved and the included content is treated as if
it had been in the original document all along.
</p>

<p>
The core of XInclude is a single element, <code>&lt;include href="..."/&gt;</code>, which
specifies the inclusion of the file referenced by the <code>href</code>
attribute. The element is in the XInclude namespace,
<code>http://www.w3.org/2001/XInclude</code>, which must be declared either
on the element itself or one of its ancestor elements.
</p>

<p>
Please note that XInclude is disabled by default, and can be enabled with the
<a href="/doc/12/doc-refs/#cl-xinclude"><code>--xinclude</code></a>
command-line option.  Also note that XInclude only applies to XML files.  To
apply it to HTML files, the input format needs to be specified with the
<a href="/doc/12/doc-refs/#cl-input"><code>--input</code></a>
command-line option.
</p>


  <h4 id="xml-include">Including XML files <a href="#xml-include" class="self-link"></a>
</h4>
<p>
Here is an example of a book written in XHTML in which each chapter has been
placed in a separate XML document for convenient editing and then included in
the main document using XInclude:
</p>

<div class="example">
<div class="programlisting">
<code><pre>&lt;html xmlns:xi="http://www.w3.org/2001/XInclude"&gt;
&lt;head&gt;
&lt;title&gt;Book Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;xi:include href="chap1.xml"/&gt;
&lt;xi:include href="chap2.xml"/&gt;
&lt;xi:include href="chap3.xml"/&gt;
&lt;/body&gt;
&lt;/html&gt;</pre></code>
</div>
</div>

<p>
(Note that the XInclude namespace was defined on the root element and bound
to the <code>xi</code> prefix to save space by avoiding the need to declare the
namespace on every inclusion).
</p>



  <h4 id="xml-include-text">Including text files <a href="#xml-include-text" class="self-link"></a>
</h4>
<p>
XInclude can also be used to include text files into XML documents:
</p>

<div class="example">
<div class="programlisting">
<code><pre>&lt;xi:include href="file.txt" parse="text"/&gt;</pre></code>
</div>
</div>

<p>
This is a convenient way of including files containing arbitrary non-XML
text, such as emails, database reports or program source code. It also
allows the inclusion of external XML content as "unparsed text", as if all
the markup had been explicitly escaped with character entities or placed
in a CDATA section.
</p>



  <h4 id="xml-fallback">Fallback <a href="#xml-fallback" class="self-link"></a>
</h4>
<p>
It is possible to specify fallback content that should be used if an included
file cannot be loaded.
The fallback content can be arbitrary XML and may even contain additional
inclusions.
</p>

<div class="example">
<div class="programlisting">
<code><pre>&lt;xi:include href="report.html"&gt;
    &lt;xi:fallback&gt;
	&lt;p&gt;No report is available&lt;/p&gt;
    &lt;/xi:fallback&gt;
&lt;/xi:include&gt;</pre></code>
</div>

<p class="comment">
If the <code>report.html</code> file cannot be loaded then the paragraph
saying "No report is available" will be included in the document instead.
</p>
</div>






  <h1 id="pdf-output">Prince Output <a href="#pdf-output" class="self-link"></a>
</h1>

<p>
Prince produces PDF files that are compatible with Adobe Acrobat and
other PDF viewers.  The output can be controlled in several different ways,
addressing different aspects of the resulting files.
</p>

<p class="note">
For the error and warning output log, please see <a href="/doc/12/doc-prince/#output-log">Output log</a>.
</p>


  <h2 id="pdf-profiles">PDF Versions and Profiles <a href="#pdf-profiles" class="self-link"></a>
</h2>

<p>
The PDF files produced by Prince conform to several different PDF versions, up
to PDF 1.7, depending on the chosen PDF Profile and the enabled PDF features.
</p>
<p>
Prince supports tagged PDF files and optional PDF profiles, which can be selected
using the <a href="/doc/12/doc-refs/#cl-pdf-profile"><code>--pdf-profile</code></a>
option on the <a href="/doc/12/doc-refs/#command-line">command-line interface</a>, or the
<code>setProfile</code> method if using a <a href="/doc/12/doc-prince/#wrappers">server
wrapper</a>, or the
<a href="/doc/12/doc-refs/#window.PDF.profile"><code>PDF.profile</code></a>
function in JavaScript.
</p>
<p>
The available profiles, and the PDF version they are based on, are:
</p>

<table class="grid">
 <thead>
 <tr>
  <th>PDF Profile</th>
  <th>PDF version</th>
 </tr>
 </thead>
 <tbody>
 <tr>
  <td>PDF/A-1a</td>
  <td>PDF 1.4</td>
 </tr>
 <tr>
  <td>PDF/A-1b</td>
  <td>PDF 1.4</td>
 </tr>
 <tr>
  <td>PDF/A-3a</td>
  <td>PDF 1.7</td>
 </tr>
 <tr>
  <td>PDF/A-3b</td>
  <td>PDF 1.7</td>
 </tr>
<tr>
  <td>PDF/UA-1</td>
  <td>PDF 1.7</td>
 </tr>
 <tr>
  <td>PDF/X-1a:2001</td>
  <td>PDF 1.3</td>
 </tr>
 <tr>
  <td>PDF/X-1a:2003</td>
  <td>PDF 1.4</td>
 </tr>
 <tr>
  <td>PDF/X-3:2002</td>
  <td>PDF 1.3</td>
 </tr>
 <tr>
  <td>PDF/X-3:2003</td>
  <td>PDF 1.4</td>
 </tr>
 <tr>
  <td>PDF/X-4</td>
  <td>PDF 1.6</td>
 </tr>
 </tbody>
</table>

<p>
Prince supports files with the combined PDF/A-1a+PDF/UA-1 and PDF/A-3a+PDF/UA-1
profiles.
</p>

<p>
Prince also uses:
</p>

<dl>
 <dt>PDF 1.5</dt>
 <dd>
   <ul>
     <li>if object streams are enabled, or</li>
     <li>if tagged PDF is enabled, or</li>
     <li>if 16-bit images are included in the PDF;</li>
   </ul>
 </dd>
 <dt>PDF 1.6</dt>
 <dd>
   <ul>
     <li>if the <code><a href="/doc/12/doc-refs/#prop-prince-pdf-print-scaling">prince-pdf-print-scaling</a></code> property is set, or</li>
     <li>if the <code><a href="/doc/12/doc-refs/#prop-prince-pdf-page-mode">prince-pdf-page-mode</a></code> property has the value <code>show-attachments</code>;</li>
   </ul>
 </dd>
 <dt>PDF 1.7</dt>
 <dd>
   <ul>
     <li>if the <code><a href="/doc/12/doc-refs/#prop-prince-pdf-paper-tray">prince-pdf-paper-tray</a></code> property is set, or</li>
     <li>if the <code><a href="/doc/12/doc-refs/#prop-prince-pdf-duplex">prince-pdf-duplex</a></code> property is set.</li>
   </ul>
 </dd>
</dl>

<p>
To enable tagged PDF without using one of the profiles that already imply it, the
command-line option <a href="/doc/12/doc-refs/#cl-tagged-pdf"><code>--tagged-pdf</code></a>
can be used.
</p>

<p>
Prince supports PDF object streams to reduce the size of tagged PDFs.  This can
be disabled by the command-line argument
<a href="/doc/12/doc-refs/#cl-no-object-streams"><code>--no-object-streams</code></a>
or from JavaScript via the
<a href="/doc/12/doc-refs/#window.PDF.objectStreams"><code>PDF.objectStreams</code></a>
boolean property.
</p>

<p class="note">
Object streams are enabled by default, therefore Prince produces files with PDF
version 1.5 - unless a profile that requires older PDF versions will automatically
disable object streams.
</p>

<p>
Choosing one profile over another can help producing a PDF file which has the right
properties for its intended destination.  Each PDF profile places restrictions on
the features allowed in a PDF file in order to achieve its aims.  Please also see the
<a href="/doc/12/doc-prince/#color-management">Color Management</a> section for the impact the PDF profiles have
on color management.  Prince produces error messages when the restrictions are not
respected.
</p>

<div class="example">
<div class="syntaxlisting">
<code><pre>$ <span class="userinput">prince <code class="filename">foo.html</code> --encrypt --no-embed-fonts --pdf-profile="PDF/A-1b"</span>
prince: error: PDF/A-1b does not support encryption
prince: error: PDF/A-1b requires fonts to be embedded</pre></code>
</div>
</div>

<p>
Generally speaking, PDF/A profiles were created with the goal of long-term preservation
of the documents (<b>PDF</b> for <b>A</b>rchiving), while PDF/X profiles were created
to address publisher's needs in the graphic arts industry (<b>PDF</b> for e<b>X</b>change).
The PDF/UA profile is a standard for producing accessible electronic documents
(<b>PDF</b> for <b>U</b>niversal <b>A</b>ccessibility).
</p>



<h3 id="pdfa">PDF/A <a href="#pdfa" class="self-link"></a>
</h3>

<ul>
  <li>PDF/A tries to maximize device independence</li>
  <li>Audio and video content is forbidden</li>
  <li>All fonts are embedded</li>
  <li>Colorspaces should be specified in a device-independent manner: all color data
  must be Grayscale, CMYK or named Spot Colors and there must be an output intent.
  Transparency is not allowed.  See also <a href="/doc/12/doc-prince/#pdf-colman">Color Management and PDF Profiles</a>
</li>
  <li>Encryption is forbidden</li>
</ul>



<h3 id="pdfua">PDF/UA <a href="#pdfua" class="self-link"></a>
</h3>

<ul>
  <li>Content must be tagged in a logical order</li>
  <li>Tags must correctly represent the semantic structure (headings, lists, etc.)</li>
  <li>Content not accessible to assistive technology must be avoided</li>
  <li>Meaningful images and graphics must contain alternative text descriptions</li>
  <li>Security settings must allow assistive technologies to access the content</li>
  <li>All fonts must be embedded</li>
  <li>Text must be mapped to Unicode</li>
</ul>


<h3 id="pdfx">PDF/X <a href="#pdfx" class="self-link"></a>
</h3>

<ul>
  <li>PDF/X is intended to support "blind exchange", i.e. no exchange of technical
  information is needed to render the printed page as intended</li>
  <li>Audio and video content is forbidden</li>
  <li>All fonts are embedded</li>
  <li>Colorspaces must be specified in a device-independent manner - an output intent
  is required (see the <a href="/doc/12/doc-refs/#cl-pdf-output-intent"><code>--pdf-output-intent</code></a>
  command-line option in the <a href="/doc/12/doc-refs/#cmd-pdf">PDF Output Options</a> section)</li>
  <li>See the <a href="/doc/12/doc-prince/#pdf-colman">Color Management and PDF Profiles</a> section for the color profiles available
  in each PDF/X version.  Transparency is not allowed, with the exception of PDF/X-4</li>
  <li>Encryption is forbidden</li>
</ul>







  <h2 id="pdf-features">PDF Features <a href="#pdf-features" class="self-link"></a>
</h2>

<p>
Prince supports a wide range of PDF features, including the following:
</p>

  <h3 id="pdf-links">PDF Links <a href="#pdf-links" class="self-link"></a>
</h3>
<p>
Prince supports PDF-internal and -external links.  HTML hyperlinks are
automatically converted.  To make an element in XML, or any arbitrary
element, a clickable link, the <code><a href="/doc/12/doc-refs/#prop-prince-link">prince-link</a></code> CSS property
is required.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>xref {
    prince-link: attr( linkend )
}</pre></code>
</div>
</div>

<p>
The property <code><a href="/doc/12/doc-refs/#prop-prince-pdf-link-type">prince-pdf-link-type</a></code> may be used
to control whether relative links should be embedded in the PDF as web (URL)
links or file links. By default they will be resolved against the base URL of
the input document.
</p>

<p>
Prince also supports the following PDF-specific fragment identifiers, supported
by web browsers, and will use them when generating links to local PDF files.
</p>

<div class="example">
<div class="programlisting">
<code language="HTML"><pre>&lt;a href="test.pdf#page=2"&gt;...&lt;/a&gt;

&lt;a href="test.pdf#nameddest=section1"&gt;...&lt;/a&gt;</pre></code>
</div>
</div>

<p>
Named destinations (<code>nameddest</code>) in PDF files have a similar function
to HTML IDs: they can be the target anchors for links from other documents.  The
property <code><a href="/doc/12/doc-refs/#prop-prince-pdf-destination">prince-pdf-destination</a></code> is used for
creating them.
</p>

<div class="example">
<p class="label">HTML</p>
<div class="programlisting">
<code language="HTML"><pre>&lt;div class="section" data-sectionid="section1"&gt;</pre></code>
</div>
<p class="label">CSS</p>
<div class="programlisting">
<code language="CSS"><pre>div.section {
    prince-pdf-destination: attr( data-sectionid )
}</pre></code>
</div>
<p class="comment">
In order to link to this section, the following syntax is used:
</p>
<p class="label">HTML</p>
<div class="programlisting">
<code language="HTML"><pre>&lt;a href="test.pdf#nameddest=section1"&gt;...&lt;/a&gt;</pre></code>
</div>
</div>




  <h3 id="pdf-actions">PDF Actions <a href="#pdf-actions" class="self-link"></a>
</h3>
<p>
Prince supports the <code>pdf-action:</code> URL scheme for PDF actions.
Typical values are <code>Print</code>, <code>GoBack</code>, <code>GoForward</code>,
<code>NextPage</code>, <code>PrevPage</code>, <code>FirstPage</code>,
<code>LastPage</code>.
</p>

<div class="example">
<div class="programlisting">
<code language="HTML"><pre>&lt;a href="pdf-action:Print"&gt;Print Document&lt;/a&gt;</pre></code>
</div>
</div>

<p>
However, Prince passes the provided values verbatim to the PDF viewer, so
the user can supply values that Prince doesn't know about, but the viewer does.
</p>

<p class="note">
Please be advised that this and the following actions and scripts are dependent
on the PDF viewer, and in many cases might only work in Adobe Acrobat products.
</p>

<p>
The property <code><a href="/doc/12/doc-refs/#prop-prince-pdf-open-action">prince-pdf-open-action</a></code> may be used
to specify a space-separated list of actions to perform when the PDF file is
opened, like eg. popping up the print dialog box automatically, or setting the
default zoom level for PDF documents.  Any arbitrary identifier can be specified,
although these may be PDF viewer specific; Acrobat can take just about any menu
item.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>@prince-pdf {
    prince-pdf-open-action: zoom(fit-page) print;
}</pre></code>
</div>
</div>

<p>
In a similar fashion, JavaScript code that will be executed when the PDF file
is opened may be included with the <code><a href="/doc/12/doc-refs/#prop-prince-pdf-script">prince-pdf-script</a></code>
property.  A common use case is to activate the "Print" dialog automatically.  To
achieve the equivalent of the previous example, the following code could be used:
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>@prince-pdf {
    prince-pdf-script: "this.zoomType = zoomtype.fitP; this.print();"
}</pre></code>
</div>
</div>



  <h3 id="pdf-pages">PDF Pages <a href="#pdf-pages" class="self-link"></a>
</h3>
<p>
Prince allows for some degree of control on the pages and the page layout in a PDF
file.  The CSS property <code><a href="/doc/12/doc-refs/#prop-prince-pdf-page-label">prince-pdf-page-label</a></code> can
be used to set the page label that will be displayed in the PDF viewer.  It can be
used to instruct the PDF viewer to display the page label in the ToC in a particular
way.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>@page {
    prince-pdf-page-label: counter(page, lower-roman);
}</pre></code>
</div>
</div>

<p>
The property <code><a href="/doc/12/doc-refs/#prop-prince-pdf-page-mode">prince-pdf-page-mode</a></code> can be used to
set the default page mode for the PDF file when it is opened. For example, whether
the bookmarks panel should be displayed, and whether the viewer should be fullscreen.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>@prince-pdf {
    prince-pdf-page-mode: fullscreen;
}</pre></code>
</div>
</div>

<p>
Also the default page layout for the PDF file when it is opened can be determined
with the <code><a href="/doc/12/doc-refs/#prop-prince-pdf-page-layout">prince-pdf-page-layout</a></code> property.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>@prince-pdf {
    prince-pdf-page-layout: two-column-right;
}</pre></code>
</div>
</div>

<p>
The values of this property are mapped to PDF page layout options:
</p>

<table class="grid">
<thead>
  <tr>
    <th>CSS Keyword</th>
    <th>PDF Page Layout</th>
    <th>Description</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td><code>single-page</code></td>
    <td>Single Page View</td>
    <td>Displays one page at the time</td>
  </tr>
  <tr>
    <td><code>one-column</code></td>
    <td>Enable Scrolling</td>
    <td>Displays pages in one continuous vertical column</td>
  </tr>
  <tr>
    <td>
<code>two-column</code> | <code>two-column-left</code>
</td>
    <td>Two Page Scrolling</td>
    <td>Displays facing pages side by side in a continuous vertical column - the
    first (i.e. cover) page is on the left.</td>
  </tr>
  <tr>
    <td><code>two-column-right</code></td>
    <td>Two Page Scrolling &amp; Show Cover Page</td>
    <td>Displays facing pages side by side in a continuous vertical column - the
    first (i.e. cover) page is displayed alone on the right.</td>
  </tr>
  <tr>
    <td>
<code>two-page</code> | <code>two-page-left</code>
</td>
    <td>Two Page View</td>
    <td>Displays a two-page spread at the time - the first (i.e. the cover) page
    is on the left.</td>
  </tr>
  <tr>
    <td><code>two-page-right</code></td>
    <td>Two Page View &amp; Show Cover Page</td>
    <td>Displays a two-page spread at the time - the first (i.e. the cover) page
    is displayed alone on the right.</td>
  </tr>
</tbody>
</table>



  <h3 id="pdf-printing">PDF Printing <a href="#pdf-printing" class="self-link"></a>
</h3>
<p>
Prince also provides two properties to fine-tune the printing of the PDF.  The
property <code><a href="/doc/12/doc-refs/#prop-prince-pdf-print-scaling">prince-pdf-print-scaling</a></code> can be used
to disable print scaling for the PDF file when it is printed and the property
<code><a href="/doc/12/doc-refs/#prop-prince-pdf-paper-tray">prince-pdf-paper-tray</a></code> controls the
PickTrayByPDFSize flag in generated PDF files, which specifies whether the PDF
page size is used to select the input paper tray.
</p>



  <h3 id="pdf-compression">PDF Compression <a href="#pdf-compression" class="self-link"></a>
</h3>
<p>
Prince compresses its PDF output to reduce the size of the documents that it
produces, but does not create linearized PDF files, as this would increase
formatting time and memory requirements. An external program such as Adobe
Acrobat or Ghostscript may be used for this purpose if necessary.
</p>

<p>
Compression may be disabled with the command-line option
<a href="/doc/12/doc-refs/#cl-no-compress"><code>--no-compress</code></a>.
</p>



  <h3 id="pdf-encryption">PDF Encryption and Restriction <a href="#pdf-encryption" class="self-link"></a>
</h3>
<p>
Prince can encrypt the produced PDF files with the
<a href="/doc/12/doc-refs/#cl-encrypt"><code>--encrypt</code></a>
command-line option.  The default key size is 128 bits.  With the option
<a href="/doc/12/doc-refs/#cl-key-bits"><code>--key-bits</code></a> a
different key size can be chosen.  Also the JavaScript methods
<a href="/doc/12/doc-refs/#window.PDF.encrypt"><code>PDF.encrypt</code></a> and
<a href="/doc/12/doc-refs/#window.PDF.keyBits"><code>PDF.keyBits</code></a>
can be used for the same purpose.
</p>

<p>
The command-line options <a href="/doc/12/doc-refs/#cl-user-password"><code>--user-password</code></a>
and <a href="/doc/12/doc-refs/#cl-owner-password"><code>--owner-password</code></a> set
respectively the PDF user password and the PDF owner password.
</p>

<p>
Prince also offers a range of command-line options to disallow printing, copying,
annotating and modifying the PDF output:
<a href="/doc/12/doc-refs/#cl-disallow-print"><code>--disallow-print</code></a>,
<a href="/doc/12/doc-refs/#cl-disallow-copy"><code>--disallow-copy</code></a>,
<a href="/doc/12/doc-refs/#cl-disallow-annotate"><code>--disallow-annotate</code></a> and
<a href="/doc/12/doc-refs/#cl-disallow-modify"><code>--disallow-modify</code></a>.
</p>



  <h3 id="pdf-font-embedding">PDF Font Embedding <a href="#pdf-font-embedding" class="self-link"></a>
</h3>
<p>
Prince embeds fonts in its PDF output to ensure accurate viewing and printing
on any system.  Typically, only the necessary parts of a font will be
embedded.
</p>
<p>
When disabling font subsetting with the command-line option
<a href="/doc/12/doc-refs/#cl-no-subset-fonts"><code>--no-subset-fonts</code></a>,
Prince will embed the entire font in the PDF file, which is convenient if
people are planning on editing the PDF file later, and may need to add glyphs
that were not present in the original PDF.
</p>

<p>
Font embedding can be disabled if necessary, for example if Prince is being
used to create PDF files in a controlled environment with known fonts where
space is at a premium. The command-line option
<a href="/doc/12/doc-refs/#cl-no-embed-fonts"><code>--no-embed-fonts</code></a>
is used for this purpose.
</p>



  <h3 id="pdf-bookmarks">PDF Bookmarks <a href="#pdf-bookmarks" class="self-link"></a>
</h3>

<p>
Prince can create PDF bookmarks that link to document content.
</p>


  <h4 id="bookmark-levels">Bookmark levels <a href="#bookmark-levels" class="self-link"></a>
</h4>
<p>
PDF bookmarks have numeric levels that place them in a bookmark hierarchy.
For example, a bookmark at level 2 can contain nested bookmarks at level 3,
or any higher level. The level of a bookmark is controlled using the
<code><a href="/doc/12/doc-refs/#prop-prince-bookmark-level">prince-bookmark-level</a></code> property, shown here
being applied to the XHTML heading elements:
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>h1 { prince-bookmark-level: 1 }
h2 { prince-bookmark-level: 2 }
h3 { prince-bookmark-level: 3 }
h4 { prince-bookmark-level: 4 }
h5 { prince-bookmark-level: 5 }
h6 { prince-bookmark-level: 6 }</pre></code>
</div>
</div>

<p>
The default value for this property is <code>none</code>, which inhibits the creation
of a bookmark for the element.
</p>

<p>
It is possible to control the state of the bookmark, i.e. whether the bookmark
is in an <code>open</code> or <code>closed</code> state, with the
<code><a href="/doc/12/doc-refs/#prop-prince-bookmark-state">prince-bookmark-state</a></code> property.  In this way
you can close each chapter and hide the subsections for documents that are very
long, or you can choose to have a deep bookmark tree.
</p>



  <h4 id="bookmark-labels">Bookmark labels <a href="#bookmark-labels" class="self-link"></a>
</h4>
<p>
PDF bookmarks have textual labels that by default are copied from the text
content of the element that generated the bookmark. The text of this label
may be controlled using the <code><a href="/doc/12/doc-refs/#prop-prince-bookmark-label">prince-bookmark-label</a></code>
property, shown here being applied to a chapter element that has a title
attribute:
</p>

<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code><pre>chapter {
    prince-bookmark-level: 1;
    prince-bookmark-label: attr(title)
}</pre></code>
</div>
</div>
<p>
This property can take any content value, including literal text strings and
counters.  See <a href="/doc/12/doc-prince/#gen-content-functions">Generated Content Functions</a>.
</p>



  <h4 id="bookmark-targets">Bookmark targets <a href="#bookmark-targets" class="self-link"></a>
</h4>
<p>
PDF bookmarks are links that display a particular part of the document when
activated. By default, a bookmark will link to the element that generated the
bookmark, which is sensible behavior for bookmarks generated from headings
or chapter elements. It is also possible to change the target of a bookmark
using the <code><a href="/doc/12/doc-refs/#prop-prince-bookmark-target">prince-bookmark-target</a></code> property,
which takes a URL directly or an attribute containing a URL:
</p>
<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code><pre>bookmark { prince-bookmark-target: url(#intro) }
bookmark { prince-bookmark-target: attr(href) }</pre></code>
</div>
</div>
<p>
The default value for this property is <code>self</code>, referring to the element
that generated the bookmark.
</p>




  <h3 id="pdf-tags">PDF Tags <a href="#pdf-tags" class="self-link"></a>
</h3>

<p>
Tagged PDF files have special handling mechanisms for specific tag types.  In
Prince, it is possible to assign PDF tag types to elements in the document
through the <code><a href="/doc/12/doc-refs/#prop-prince-pdf-tag-type">prince-pdf-tag-type</a></code> property, in
order to create XML vocabularies in the PDF.
</p>

<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code language="CSS"><pre>ul.toc {
  prince-pdf-tag-type: TOC;
}
.toc li {
  prince-pdf-tag-type: TOCI;
}</pre></code>
</div>
<p class="label">HTML</p>
<div class="programlisting">
<code language="HTML"><pre>&lt;ul class="toc"&gt;
  &lt;li&gt;First Chapter&lt;/li&gt;
  &lt;li&gt;Second Chapter&lt;/li&gt;
&lt;/ul&gt;</pre></code>
</div>
</div>

<p class="note">
Bruce Lawson has written an interesting introduction on how to make
<a href="https://medium.com/@bruce_39084/making-accessible-tagged-pdfs-with-prince-ad7fd7a48711">accessible
tagged PDFs with Prince</a> - all you need to know about PDF tags and Prince!
</p>


  <h3 id="pdf-metadata">PDF Metadata <a href="#pdf-metadata" class="self-link"></a>
</h3>

<p>
Prince creates PDF metadata from the content of the XHTML metadata elements.
The content of the <code>&lt;title&gt;</code> element is used for the
document title, while the <code>&lt;meta&gt;</code> element can be used to
specify the document author, subject, keywords, date, and generator
application:
</p>

<div class="example">
<p class="label">XML</p>
<div class="programlisting">
<code><pre>&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Cooking with Cabbage&lt;/title&gt;
&lt;meta name="author" content="John Smith"/&gt;
&lt;meta name="subject" content="An interesting book about food"/&gt;
&lt;meta name="keywords" content="cabbage, cooking, eating"/&gt;
&lt;meta name="date" content="2009-04-01"/&gt;
&lt;meta name="generator" content="MyReportingApp"/&gt;
&lt;/head&gt;</pre></code>
</div>
</div>


<h4 id="pdf-xmp-metadata">XMP Metadata <a href="#pdf-xmp-metadata" class="self-link"></a>
</h4>

<p>
Additionally, XMP metadata can be added to a PDF file from an XMP file.  This
file needs to be passed to Prince either via the
<a href="/doc/12/doc-refs/#cl-pdf-xmp"><code>--pdf-xmp</code></a>
command-line option, the <a href="/doc/12/doc-refs/#prop-prince-pdf-xmp">prince-pdf-xmp</a> CSS property, or it
can be specified in JavaScript with the
<a href="/doc/12/doc-refs/#window.PDF.xmp"><code>PDF.xmp()</code></a>
function.
</p>

<p class="note">
The <a href="/doc/12/doc-refs/#window.PDF.xmp"><code>PDF.xmp()</code></a>
JavaScript function, the <a href="/doc/12/doc-refs/#prop-prince-pdf-xmp">prince-pdf-xmp</a> CSS property and the
<a href="/doc/12/doc-refs/#cl-pdf-xmp"><code>--pdf-xmp</code></a>
command-line option require either a URL pointing to an XMP file, or an
encoded <code>data:</code> URL.
</p>

<p>
Prince includes data from the <code>&lt;x:xmpmeta&gt;</code> element and its
contents.  The <code>xpacket</code> processing instructions are ignored, as
Prince generates those itself when it produces the PDF file.
</p>





  <h1 id="prince-networking">Prince Networking <a href="#prince-networking" class="self-link"></a>
</h1>

<p>
Prince can process local files or fetch them from remote locations.  To do this,
a full URL needs to be provided, including the protocol.
</p>

<div class="example">
  <div class="programlisting">
    <code>prince <code class="filename">http://example.com/path/file.html</code> -o <code class="filename">out.pdf</code></code>
  </div>
</div>


  <h2 id="prince-networking-auth">Authentication <a href="#prince-networking-auth" class="self-link"></a>
</h2>

<p>
If authentication is required for the URL, the credentials can be passed by means
of the <a href="/doc/12/doc-refs/#cl-auth-user"><code>--auth-user</code></a>
and <a href="/doc/12/doc-refs/#cl-auth-password"><code>--auth-password</code></a>
command-line options.  A more cautious way is to add the
<a href="/doc/12/doc-refs/#cl-auth-server"><code>--auth-server</code></a>
option, which sends username and password credentials to the specified server only -
the default is to send them to any server which challenges for authentication.  The
option <a href="/doc/12/doc-refs/#cl-auth-scheme"><code>--auth-scheme</code></a>
sends username and password credentials only for requests with the given scheme,
either HTTP or HTTPS, while <a href="/doc/12/doc-refs/#cl-auth-method"><code>--auth-method</code></a>
specifies a comma separated list of HTTP authentication methods to enable.  Valid
entries are: <code>basic</code>, <code>digest</code>, <code>ntlm</code> and <code>negotiate</code>.
</p>

<p>
A shorthand command-line option for authentication is
<a href="/doc/12/doc-refs/#cl-auth"><code>--auth</code></a>, which specifies
a URL with credentials for HTTP authentication: <code>[SCHEME:]//USER:PASS@HOST[:PORT]</code>.
Unlike the preceding options, it may be used multiple times.  The username and password
must be percent-encoded.
</p>

<p>
The advanced command-line option
<a href="/doc/12/doc-refs/#cl-no-auth-preemptive"><code>--no-auth-preemptive</code></a>
instructs Prince not to send credentials to named servers until an authentication
challenge is received.  When multiple authentication methods are enabled, an initial
request may be required to discover the methods supported by the remote site.
</p>


  <h2 id="prince-networking-cookies">Cookies <a href="#prince-networking-cookies" class="self-link"></a>
</h2>

<p>
If cookies are required, the <a href="/doc/12/doc-refs/#cl-cookie"><code>--cookie</code></a>
command-line option can be used to set a value for the Set-Cookie HTTP header value.
The option may be used multiple times.  Alternatively, the option
<a href="/doc/12/doc-refs/#cl-cookiejar"><code>--cookiejar</code></a> specifies
a file containing HTTP cookies.
</p>


  <h2 id="prince-networking-ssl">SSL <a href="#prince-networking-ssl" class="self-link"></a>
</h2>

<p>
The command-line option <a href="/doc/12/doc-refs/#cl-ssl-cacert"><code>--ssl-cacert</code></a>
specifies an SSL certificate file, while the option
<a href="/doc/12/doc-refs/#cl-ssl-capath"><code>--ssl-capath</code></a> is
used to specify an SSL certificate directory.
</p>

<p>
The command-line option <a href="/doc/12/doc-refs/#cl-ssl-version"><code>--ssl-version</code></a>
sets the minimum version of SSL to allow.  It may be one of: <code>default</code>,
<code>tlsv1</code>, <code>tlsv1.0</code>, <code>tlsv1.1</code> or <code>tlsv1.2</code>.
The value <code>default</code> lets libcurl choose.  The option
<a href="/doc/12/doc-refs/#cl-insecure"><code>--insecure</code></a> disables
SSL verification.  Please note that using this option is not recommended!
</p>

<p>
Prince makes use of the libcurl library to process network locations - see
<a href="/doc/12/doc-refs/#acknowledgments">Acknowledgments</a>.  Please note that command-line options are
passed to curl as-is.  On some systems curl might use a library other than OpenSSL
to handle SSL - in those cases the SSL-related command-line options might behave
in a slightly different way.  In case of doubt, please check your own curl documentation.
</p>

  <h3 id="prince-networking-client-certs">Client Certificates <a href="#prince-networking-client-certs" class="self-link"></a>
</h3>

<p>
Client certificates are supported on Linux with several command-line options.  The
<a href="/doc/12/doc-refs/#cl-ssl-cert"><code>--ssl-cert</code></a> option
specifies an SSL client certificate file, while the
<a href="/doc/12/doc-refs/#cl-ssl-cert-type"><code>--ssl-cert-type</code></a>
option defines the SSL client certificate file type (PEM, DER) - the default is PEM.
The option <a href="/doc/12/doc-refs/#cl-ssl-key"><code>--ssl-key</code></a>
specifies an SSL private key file and
<a href="/doc/12/doc-refs/#cl-ssl-key-type"><code>--ssl-key-type</code></a>
is used to define the SSL private key file type (PEM, DER) - the default is PEM.
Last but not least, <a href="/doc/12/doc-refs/#cl-ssl-key-password"><code>--ssl-key-password</code></a>
indicates the passphrase for the private key.
</p>

<p>
On MacOS, the command-line option
<a href="/doc/12/doc-refs/#cl-ssl-cert"><code>--ssl-cert</code></a>
specifies a PKCS#12 file containing a client certificate and private key.  The
options <a href="/doc/12/doc-refs/#cl-ssl-cert-type"><code>--ssl-cert-type</code></a>,
<a href="/doc/12/doc-refs/#cl-ssl-key"><code>--ssl-key</code></a> and
<a href="/doc/12/doc-refs/#cl-ssl-key-password"><code>--ssl-key-password</code></a>
are not available.
</p>

<p class="note">
Client certificates are not supported on Windows.
</p>



  <h2 id="prince-networking-misc">Miscellaneous <a href="#prince-networking-misc" class="self-link"></a>
</h2>

<p>
If an HTTP proxy server is required, it can be specified with the
<a href="/doc/12/doc-refs/#cl-http-proxy"><code>--http-proxy</code></a>
command-line option.
</p>

<p>
The option <a href="/doc/12/doc-refs/#cl-http-timeout"><code>--http-timeout</code></a>
can be used to define the HTTP timeout in seconds, which can be useful for slow servers.
</p>

<p>
Prince can also disable downloading multiple HTTP resources at once with the
<a href="/doc/12/doc-refs/#cl-no-parallel-downloads"><code>--no-parallel-downloads</code></a>
command-line option.
</p>



  <h1 id="server-integration">Server Integration <a href="#server-integration" class="self-link"></a>
</h1>

  <p>Prince can be used server-side to produce PDFs, invoked by a wrapper script.  Some
  care needs to be used in the configuration to make it reliable and secure.</p>


  <h2 id="security">Security and performance <a href="#security" class="self-link"></a>
</h2>

  <p>When you control the input, Prince produces the expected output.  But when you
  have no control on the input, as happens when running Prince on a server, it might
  be important to harden the installation in order to reduce a possible surface of
  vulnerability.  Prince offers some options to aid the configuration, while other
  possibilities depend on the environment configuration on the server.</p>

  <p>It might be a good precaution to run Prince with the command-line option
  <a href="/doc/12/doc-refs/#cl-no-local-files"><code>--no-local-files</code></a>
  in order to exclude any unwanted access to the local file system.  It is also
  a good idea <em>not</em> to enable
  <a href="/doc/12/doc-refs/#cl-xxe"><code>--xml-external-entities</code></a>
  or <a href="/doc/12/doc-refs/#cl-xinclude"><code>--xinclude</code></a>
  (they are not enabled by default).</p>

  <p>A more comprehensive hardening practice is to run Prince in a chroot/jail/vms/container.
  Prince needs access to several libraries it depends on, as well as fonts and SSL
  certificates.  To check direct dependencies, run the following command:</p>

  <div class="example">
  <div class="syntaxlisting">
    <code>ldd /usr/lib/prince/bin/prince</code>
  </div>
  </div>

  <p>When running multiple instances of Prince, it might be advisable to disable
  parallel rasterization with the command-line option
  <a href="/doc/12/doc-refs/#cl-raster-threads"><code>--raster-threads=1</code></a>
  to improve throughput.  Setting <code>GC_MARKERS=1</code> in the environment will
  do the same for garbage collection threads.</p>



  <h2 id="wrappers">Prince Wrappers <a href="#wrappers" class="self-link"></a>
</h2>

  <p>Since different server configurations make use of different scripting languages,
  wrappers in those languages are necessary to invoke Prince.  Wrappers for several
  of the most widely used scripting languages are available for download on the
  <a href="/download/wrappers/">Wrappers Download Page</a>.</p>

  <p>A useful tool for writing custom wrappers in other languages are the
  <a href="/doc/12/doc-prince/#advanced-cmd">Advanced Command-Line Options</a>.</p>

  <p>For details on the usage of each of the wrappers, please consult the following
  chapters.</p>






  <h3 id="java">The Java Wrapper <a href="#java" class="self-link"></a>
</h3>

<p>
Prince can be called from within a Java class for servlets by using
<a href="/download/wrappers/#wrapper-java">Java interface</a>.
</p>
<p>
This package contains:
</p>

<ul>
<li>A single JAR file (<code class="filename">prince.jar</code>),</li>
<li>
the <a href="/doc/java/api/index.html">API documentation</a> and
</li>
<li>the Java source code for reference.</li>
</ul>

<p>
The <code>Prince.jar</code> file contains the class file that provides the Java
interface to Prince (<code>com.princexml.Prince</code>).  The documentation
lists the Java class methods and explains how to use them.
</p>





  <h3 id="csharp">The C# / .Net Wrapper <a href="#csharp" class="self-link"></a>
</h3>

<p>
Prince can be called from .NET languages using the
<a href="/download/wrappers/#wrapper-csharp">Prince C# / .Net wrapper</a>.
</p>
<p>
The wrapper package contains:
</p>

<ul>
<li>the DLL file,</li>
<li>the <a href="/doc/csharp/api/readme.html">API documentation</a> and</li>
<li>the source code.</li>
</ul>


  <h4 id="csharp-csharp">Using Prince with C# <a href="#csharp-csharp" class="self-link"></a>
</h4>
<p>
To use the Prince .NET wrapper in C#, add a reference to the DLL to your
Visual Studio project.
</p>
<p>
To convert HTML or XML files into PDF, instantiate a Prince object with the
full path to the Prince engine executable file.
Once this is done, you can apply style sheets and scripts, or configure other
properties by calling the appropriate subroutines.
Finally, you can call one of the Convert functions to generate a PDF file.
</p>
<p>
Please note that document scripts need to first be enabled with
<code>prn.SetJavaScript(true)</code> - external scripts added with
<code>AddScript</code> will always be run.
</p>
<p>
The following code sample demonstrates how to convert a single HTML document
into a PDF file:
</p>

<div class="example">
<div class="programlisting">
<code><pre><span class="comment">// instantiate Prince by specifying the full path to the engine executable</span>
Prince prn = new Prince(<span class="string">"C:\\Program Files\\Prince\\Engine\\bin\\prince.exe"</span>);

<span class="comment">// specify the log file for error and warning messages
// make sure that you have write permissions for this file</span>
prn.SetLog(<span class="string">"C:\\docs\\log.txt"</span>);

<span class="comment">// apply a CSS style sheet (optional)</span>
prn.AddStyleSheet(<span class="string">"C:\\docs\\css\\stylesheet-1.css"</span>);

<span class="comment">// apply an external JavaScript file (optional) and enable document JavaScript</span>
prn.AddScript(<span class="string">"C:\\docs\\js\\test.js"</span>);
prn.SetJavaScript(true);

<span class="comment">// convert a HTML document into a PDF file</span>
prn.Convert(<span class="string">"C:\\docs\\test1.html"</span>, <span class="string">"C:\\docs\\pdf\\test1.pdf"</span>);</pre></code>
</div>
</div>

<p>
To combine multiple HTML documents into a single PDF file, call
<code class="function">ConvertMultiple</code>:
</p>

<div class="example">
<div class="programlisting">
<code><pre>String[] doc_array = {<span class="string">"C:\\docs\\test1.html"</span>, <span class="string">"C:\\docs\\test2.html"</span>};

prn.ConvertMultiple(doc_array, <span class="string">"C:\\docs\\pdf\\merged.pdf"</span>);</pre></code>
</div>
</div>




  <h4 id="vb-net">Using Prince with VB.NET <a href="#vb-net" class="self-link"></a>
</h4>

<p>
To use the Prince <a href="/doc/12/doc-prince/#csharp">The C# / .Net Wrapper</a> in VB.NET, add a reference to the
DLL to your Visual Studio project. Alternatively, you can include
the Prince.vb source file directly if you prefer.
</p>
<p>
To convert HTML or XML files into PDF, instantiate a Prince object with the
full path to the Prince engine executable file.
Once this is done, you can apply style sheets and scripts, or configure other
properties by calling the appropriate subroutines.
Finally, you can call one of the Convert functions to generate a PDF file.
</p>
<p>
Please note that document scripts need to first be enabled with
<code>prn.SetJavaScript(true)</code> - external scripts added with
<code>AddScript</code> will always be run.
</p>
<p>
The following code sample demonstrates how to convert a single HTML document
into a PDF file:
</p>

<div class="example">
<div class="programlisting">
<code><pre><span class="comment">' instantiate Prince by specifying the full path to the engine executable</span>
Dim prn As Prince

prn = New Prince(<span class="string">"C:\Program Files\Prince\Engine\bin\prince.exe"</span>)

<span class="comment">' specify the log file for error and warning messages
' make sure that you have write permissions for this file</span>
prn.SetLog(<span class="string">"C:\docs\log.txt"</span>)

<span class="comment">' apply a CSS style sheet (optional)</span>
prn.AddStyleSheet(<span class="string">"C:\docs\css\stylesheet-1.css"</span>)

<span class="comment">// apply an external JavaScript file (optional) and enable document JavaScript</span>
prn.AddScript(<span class="string">"C:\\docs\\js\\test.js"</span>)
prn.SetJavaScript(true)

<span class="comment">' convert a HTML document into a PDF file</span>
prn.Convert(<span class="string">"C:\docs\test1.html"</span>, <span class="string">"C:\docs\pdf\test1.pdf"</span>)</pre></code>
</div>
</div>

<p>
To combine multiple HTML documents into a single PDF file, call
<code class="function">ConvertMultiple</code>:
</p>

<div class="example">
<div class="programlisting">
<code><pre>Dim doc_array() As String

doc_array = {"C:\docs\test1.html", "C:\docs\test2.html"}

prn.ConvertMultiple(doc_array, "C:\docs\pdf\merged.pdf")</pre></code>
</div>
</div>




  <h3 id="php">The PHP5 Wrapper <a href="#php" class="self-link"></a>
</h3>

<p>
Prince can be called from PHP using the
<a href="/download/wrappers/#wrapper-php5">PHP interface</a>.
</p>
<p>
This package contains two files:
</p>
<ul>
<li>The <code>prince.php</code> script and</li>
<li>the <a href="/doc/php5/api/readme.html">API documentation</a>.</li>
</ul>
<p>
The <code>prince.php</code> file contains the PHP class that provides the interface
to Prince. The <code>readme.html</code> file lists the PHP class methods and
explains how to use them.
</p>




  <h3 id="activex-com">The ActiveX/COM Wrapper <a href="#activex-com" class="self-link"></a>
</h3>

<p>
The <a href="/download/wrappers/#wrapper-activex">ActiveX/COM wrapper</a> allows Prince to be called
from various languages: <a href="/doc/12/doc-prince/#asp">ASP</a>,
<a href="/doc/12/doc-prince/#activex">ActiveX, COM, Visual Basic</a> and also
<a href="/doc/12/doc-prince/#coldfusion">Coldfusion</a>.
</p>
<p>
This package contains two files:
</p>
<ul>
<li>The <code>PRINCE.dll</code> file and</li>
<li>the <a href="/doc/activex/api/readme.html">API documentation</a>.</li>
</ul>

  <h4 id="asp">Using Prince with ASP <a href="#asp" class="self-link"></a>
</h4>

<p>
Prince can be called from ASP pages using the
<a href="/doc/12/doc-prince/#activex-com">ActiveX/COM interface</a>.
</p>

<p>
This interface is provided in the form of an ActiveX DLL file that needs to
be registered in the Windows registry using REGSVR32.EXE:
</p>

<div class="example">
<div class="programlisting">
<code><pre>regsvr32 C:\Prince\PRINCE.dll</pre></code>
</div>
</div>

<p>
In order to call Prince from an ASP page, we need to create a COM object using
the CreateObject server method. Once the COM object is
created, you can use the COM interface methods to perform the tasks.
</p>
<p>
Please note that document scripts need to first be enabled with
<code>prn.SetJavaScript(true)</code> - external scripts added with
<code>AddScript</code> will always be run.
</p>

<p>
The following is some sample code for illustration:
</p>

<div class="example">
<div class="programlisting">
<code><pre>&lt;%
Dim pr
Dim res

Set pr = Server.CreateObject("PrinceCom.Prince")
pr.SetPrincePath "C:\Prince\engine\bin\prince.exe"
pr.AddStyleSheet "C:\Prince\css\test1.css"
pr.AddStyleSheet "C:\Prince\css\test2.css"
pr.SetJavaScript(True)
pr.SetEncryptInfo 128, "password1", "password2", true, true, true, true

If pr.Convert("C:\Prince\examples\magic.html", "C:\output.pdf") = 1 Then
    res = "Successful"
Else
    res = "Unsuccessful"
End If
%&gt;</pre></code>
</div>
</div>



  <h4 id="activex">Using Prince with ActiveX / COM / Visual Basic <a href="#activex" class="self-link"></a>
</h4>

<p>
Prince can be called from Visual Basic and other languages on Windows
using the <a href="/doc/12/doc-prince/#activex-com">ActiveX/COM interface</a>.
</p>
<p>
This interface is provided in the form of an ActiveX DLL file that needs to
be registered in the Windows registry using REGSVR32.EXE:
</p>

<div class="example">
<div class="programlisting">
<code><pre>regsvr32 C:\Prince\PRINCE.dll</pre></code>
</div>
</div>

<p>
Please read the README.TXT file that comes with the ActiveX DLL file for more
details of the COM interface methods.
</p>


  <h3 id="coldfusion">Using Prince with ColdFusion <a href="#coldfusion" class="self-link"></a>
</h3>

<p>
Prince can be called from ColdFusion pages using the Java interface or the
<a href="/doc/12/doc-prince/#activex-com">ActiveX/COM interface</a>, if on Windows.
</p>


  <h4 id="cf-java">Using Java <a href="#cf-java" class="self-link"></a>
</h4>
<p>
Start by downloading the
<a href="/doc/12/doc-prince/#java">Java interface</a> for Prince.
This package contains:
</p>
<ul>
<li>A single JAR file (<code class="filename">prince.jar</code>),</li>
<li>
the <a href="/doc/java/api/index.html">API documentation</a> and
</li>
<li>the Java source code for reference.</li>
</ul>

<p>
The <code>Prince.jar</code> file contains the class file that provides the Java
interface to Prince (<code>com.princexml.Prince</code>).  The documentation
lists the Java class methods and explains how to use them.
</p>
<p>
Place the <code>Prince.jar</code> file in a directory of your choice then
start ColdFusion Administrator.
Under 'Server Settings &gt; Java and JVM', you should find 'ColdFusion Class
Path'. Here you can tell ColdFusion where to look for Java classes. Type in
the full path of the <code>Prince.jar</code> file. It should be something like:
<code>PATH\Prince.jar</code>, where <code>PATH</code> is the path of the
directory that contains the <code>Prince.jar</code>.
</p>
<p>
If this is done correctly, ColdFusion should know where to find the Prince
Java interface class. The following is some sample CFML code showing how
to use it:
</p>
<div class="example">
<div class="programlisting">
<code language="CFML"><pre>&lt;cfscript&gt;
   pr = CreateObject("java", "com.princexml.Prince");

   pr.init("C:\Prince\engine\bin\prince.exe");
   pr.addStyleSheet("C:\Prince\test\test1.css");
   pr.addStyleSheet("C:\Prince\test\test2.css");
   pr.setJavaScript(true);
   pr.setEncryptInfo(128, "secretPassword1", "secretPassword2",
      True, True, True, True);

   if (pr.Convert("C:\Prince\examples\magic.html", "C:\output.pdf"))
      WriteOutput("Successful");
   else
      WriteOutput("Unsuccessful");
&lt;/cfscript&gt;</pre></code>
</div>
</div>
<p>
If on Linux, substitute the paths with the appropriate UNIX style paths.
</p>



  <h4 id="cf-activex">Using ActiveX/COM <a href="#cf-activex" class="self-link"></a>
</h4>
<p>
If you are running ColdFusion on Windows, you can also call Prince using the
<a href="/doc/12/doc-prince/#activex-com">ActiveX/COM interface</a>.
</p>
<p>
This interface is provided in the form of an ActiveX DLL file that needs to
be registered in the Windows registry using REGSVR32.EXE:
</p>
<div class="example">
<div class="programlisting">
<code><pre>regsvr32 C:\Prince\PRINCE.dll</pre></code>
</div>
</div>
<p>
In order to call Prince from ColdFusion, we need to create a COM object using
the CreateObject function that is available in CFML scripting (you can also
use the <code>&lt;cfobject ...&gt;</code> tag if you prefer). Once the COM
object is created, you can use the COM interface methods to perform the tasks.
</p>
<p>
The following is some sample code for illustration:
</p>
<div class="example">
<div class="programlisting">
<code language="CFML"><pre>&lt;cfscript&gt;
   pr = CreateObject("Com", "PrinceCom.Prince", "local");

   pr.SetPrincePath("C:\Prince\engine\bin\prince.exe");
   pr.AddStyleSheet("C:\Prince\test\test1.css");
   pr.AddStyleSheet("C:\Prince\test\test2.css");
   pr.setJavaScript(true);
   pr.SetEncryptInfo(128, "secretPassword1", "secretPassword2",
      True, True, True, True);

   if (pr.Convert("C:\Prince\examples\magic.html", "C:\output.pdf") eq 1)
      WriteOutput("Successful");
   else
      WriteOutput("Unsuccessful");

   ReleaseComObject(pr);
&lt;/cfscript&gt;</pre></code>
</div>
</div>
<p>
Please read the README.TXT file that comes with the ActiveX DLL file for more
details of the COM interface methods.
</p>





  <h3 id="python">Using Prince with Python <a href="#python" class="self-link"></a>
</h3>

<p>
Prince can be called from Python using the
<a href="/doc/12/doc-refs/#command-line">command-line interface</a>,
 like this:
</p>

<div class="example">
<div class="programlisting">
<code><pre>import subprocess

subprocess.call(["prince","foo.xml","bar.pdf"]);</pre></code>
</div>
</div>

<p>
It is possible to write XML to Prince directly from the Python script
rather than have Prince read it from an external file:
</p>

<div class="example">
<div class="programlisting">
<code><pre>import subprocess

p = Popen(["prince","-","out.pdf"], stdin=subprocess.PIPE, stdout=subprocess.PIPE)

outs, errs = p.communicate("&lt;html&gt;&lt;body&gt;&lt;h1&gt;Hello, world!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;".encode("utf-8"))

if p.returncode :
  # Ugh.
else :
  pdf = outs</pre></code>
</div>
<p class="comment">
The first filename argument of "-" instructs Prince to read the XML from its
standard input stream rather than from a file.
</p>
</div>


<p>
For Python CGI scripts, the PDF output can be written to the standard output
stream so that it is returned to the browser:
</p>

<div class="example">
<div class="programlisting">
<code><pre>import subprocess

p = Popen(["prince","-"], stdin=subprocess.PIPE, stdout=subprocess.PIPE)

outs, errs = p.communicate("&lt;html&gt;&lt;body&gt;&lt;h1&gt;Hello, world!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;".encode("utf-8"))

if p.returncode :
  # Ugh.
else :
  pdf = outs</pre></code>
</div>
<p class="comment note">
Because the second filename argument has been omitted and the XML is being
read from standard input, the PDF will be written to standard output.
Be careful to redirect the output of this script if you try running it from
the terminal.
</p>
</div>


<p>
Alternatively, it is possible for the Python script to read the PDF output
directly rather than have Prince save it to an external file:
</p>

<div class="example">
<div class="programlisting">
<code><pre>import subprocess

p = Popen(["prince","-"], stdin=subprocess.PIPE, stdout=subprocess.PIPE)

outs, errs = p.communicate("&lt;html&gt;&lt;body&gt;&lt;h1&gt;Hello, world!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;".encode("utf-8"))

if p.returncode :
  # Ugh.
else :
  pdf = outs

print("PDF is "+str(len(pdf))+" bytes in size")</pre></code>
</div>
</div>




  <h3 id="perl">Using Prince with Perl <a href="#perl" class="self-link"></a>
</h3>

<p>
Prince can be called from Perl using the
<a href="/doc/12/doc-refs/#command-line">command-line interface</a>, like this:
</p>

<div class="example">
<div class="programlisting">
<code><pre>system("prince foo.xml bar.pdf");</pre></code>
</div>
</div>

<p>
It is possible to write XML to Prince directly from the Perl script
rather than have Prince read it from an external file:
</p>

<div class="example">
<div class="programlisting">
<code><pre>open(PRINCE, "| prince - out.pdf");
print PRINCE "&lt;html&gt;&lt;body&gt;&lt;h1&gt;Hello, world!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;";
close(PRINCE);</pre></code>
</div>
<p class="comment">
The first filename argument of "-" instructs Prince to read the XML from its
standard input stream rather than from a file.
</p>
</div>

<p>
For Perl CGI scripts, the PDF output can be written to the standard output
stream so that it is returned to the browser:
</p>

<div class="example">
<div class="programlisting">
<code><pre>print "Content-Type: application/pdf\n\n";
open(PRINCE, "| prince -");
print PRINCE "&lt;html&gt;&lt;body&gt;&lt;h1&gt;Hello, world!&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;";
close(PRINCE);</pre></code>
</div>
<p class="comment note">
Because the second filename argument has been omitted and the XML is being
read from standard input, the PDF will be written to standard output.
Be careful to redirect the output of this script if you try running it from
the terminal.
</p>
</div>


<p>
Alternatively, it is possible for the Perl script to read the PDF output
directly rather than have Prince save it to an external file:
</p>

<div class="example">
<div class="programlisting">
<code><pre>open(PRINCE, "prince foo.xml - |");
# ... read PDF output from PRINCE file handle
close(PRINCE);</pre></code>
</div>
</div>




  <h3 id="third-party-wrappers">Third-Party Wrappers <a href="#third-party-wrappers" class="self-link"></a>
</h3>

  <p>There are also third-party wrappers available for download on external sites.
  Please note that YesLogic does not take any responsibilities for third-party wrappers
  offered for download on these external locations.</p>

  <dl>
    <dt style="font-weight: bold">Ruby on Rails</dt>
    <dd><a href="https://github.com/mbleigh/princely/tree/master">A simple Rails wrapper
    for the PrinceXML PDF generation library</a></dd>
    <dt style="font-weight: bold">Node.js</dt>
    <dd><a href="https://www.npmjs.com/package/prince">Node API for executing XML/HTML
    to PDF renderer PrinceXML via prince(1) CLI</a></dd>
  </dl>




<h2 id="advanced-cmd">Advanced Command-Line Options <a href="#advanced-cmd" class="self-link"></a>
</h2>

<p>
Prince can also be called from the command-line with two special options,
useful for understanding the calls Prince can be controlled with, and
the output it produces, in order to write your own wrapper: the
<a href="/doc/12/doc-prince/#cmd-control">Prince Control Protocol</a> and the <a href="/doc/12/doc-prince/#structured-log">Structured Log</a>.
</p>


<h3 id="cmd-control">Prince Control Protocol <a href="#cmd-control" class="self-link"></a>
</h3>

<dl>
  <dt><code>prince --control</code></dt>
  <dd>
    <p>The Prince Control Protocol, accessible through the command-line option <code>--control</code>,
    is a synchronous bidirectional protocol that consists of a sequence of "chunks"
    sent via the standard input and output streams.</p>
	<p>Each chunk contains a sequence of bytes with a length and a three letter tag.
    Here is an example "version" chunk to demonstrate the syntax:</p>
	<div class="example">
    <div class="programlisting">
		<code><pre>ver 15
Prince 20161219</pre></code>
    </div>
    </div>
	<p>This chunk has a tag <code>ver</code> (all tags are three ASCII characters)
    followed by a space, then the length of the data expressed as a decimal number,
    then a newline character, then the data itself (15 bytes), then another newline
    (not part of the data).</p>
	<p>This "version" chunk is emitted by Prince when the control protocol begins
    and can be used to check the Prince version and confirm that communication is
    functioning as expected. Prince will then wait for jobs to be submitted.</p>
	<p>If a chunk contains no data then the length is zero and the chunk ends with
    the newline immediately following the length. In fact the length itself may be
    omitted, making this a perfectly valid chunk:</p>
	<div class="example">
    <div class="programlisting">
		<code><pre>end</pre></code>
	</div>
    </div>
	<p>This <code>end</code> chunk consists of three letters and a newline character
    and can be used to terminate the Prince process when there are no further jobs
    to process.</p>
	<p>Currently the control protocol includes the following chunk types sent by Prince:</p>
	<ul>
		<li>
<code>ver</code>, sent at startup</li>
		<li>
<code>pdf</code>, a generated PDF file</li>
		<li>
<code>log</code>, the complete output log for the job including all errors
        and warnings</li>
		<li>
<code>err</code>, errors relating to the control protocol itself</li>
	</ul>
	<p>And these chunks sent by the caller:</p>
	<ul>
		<li>
<code>job</code>, the description of a requested conversion job, expressed
        in JSON</li>
		<li>
<code>dat</code>, a file resource needed by the job</li>
		<li>
<code>end</code>, to terminate the control connection</li>
	</ul>
	<p>A typical interaction looks like this:</p>
	<div class="example">
    <div class="programlisting">
		<code><pre>Prince: ver
Caller: job
Caller: dat
Caller: dat
Prince: pdf
Prince: log
Caller: end</pre></code>
	</div>
    </div>
	<p>Instead of sending the final <code>end</code> chunk the caller may choose to
    submit another <code>job</code> chunk and continue converting documents. The protocol
    is synchronous so replies simply match requests in order.</p>
	<p>The <code>job</code> chunk contains a description of the conversion job represented
    in JSON format, which can be followed by an optional sequence of <code>dat</code>
    chunks containing file data which is needed by the job, eg. HTML documents, style
    sheets, PDF attachments, or whatever.</p>
	<p>The number of <code>dat</code> chunks is specified by the <code>job-resource-count</code>
    field in the job description, and these files can be accessed via a special job-resource
    URL scheme, eg. <code>job-resource:0</code> will access the content of the first
    <code>dat</code> chunk, then <code>job-resource:1</code>, <code>job-resource:2</code>,
    etc. This allows any number of resources to be provided inline with the request
    and removes the need to create actual temporary files.</p>
	<p>The JSON job description has several nested objects with fields corresponding
    to Prince options:</p>
	<div class="example">
    <div class="programlisting">
		<code><pre>{
    "input": { &lt;input options&gt; },
    "pdf": { &lt;pdf options&gt; },
    "metadata": { &lt;metadata options&gt; },
    "raster": { &lt;raster options&gt; },
    "job-resource-count": &lt;int&gt;
}</pre></code>
	</div>
    </div>
	<p>The <code>input options</code> and <code>job-resource-count</code> are mandatory,
    the rest are optional and will default to the normal values.</p>
	<p>The <code>input options</code> object includes these fields:</p>
	<div class="example">
    <div class="programlisting">
		<code><pre>{
    "src": &lt;single URL or list of URLs&gt;,
    "type": &lt;string&gt;,
    "base": &lt;string&gt;,
    "media": &lt;string&gt;,
    "styles": [ &lt;list of URLs&gt; ],
    "scripts": [ &lt;list of URLs&gt; ],
    "default-style": &lt;bool&gt;,
    "author-style": &lt;bool&gt;,
    "javascript": &lt;bool&gt;,
    "xinclude": &lt;bool&gt;,
    "xml-external-entities": &lt;bool&gt;
}</pre></code>
	</div>
    </div>
	<p>Only the <code>src</code> field is required, the rest can be left as defaults.</p>
	<p>Now we can make some simple job descriptions, eg. to convert a single HTML
    file:</p>
	<div class="example">
    <div class="programlisting">
		<code><pre>{
    "input": {
        "src": "/path/to/input.html"
    },
    "job-resource-count": 0
}</pre></code>
	</div>
    </div>
	<p>This can be sent as a single <code>job</code> chunk and Prince will respond
    with a <code>pdf</code> chunk if the conversion succeeded and a <code>log</code>
    chunk.</p>
	<p>Or you can convert a HTML document without saving it to a temporary file:</p>
	<div class="example">
    <div class="programlisting">
		<code><pre>{
    "input": {
        "src": "job-resource:0"
    },
    "job-resource-count": 1
}</pre></code>
	</div>
    </div>
	<p>This requires the <code>job</code> chunk to be followed by a <code>dat</code>
    chunk that contains the HTML and then Prince will respond as before.</p>
	<p>The <code>pdf options</code> object includes these fields:</p>
    <div class="example">
    <div class="programlisting">
		<code><pre>{
    "color-options": "auto" | "use-true-black" | "use-rich-black",
    "embed-fonts": &lt;bool&gt;,
    "subset-fonts": &lt;bool&gt;,
    "artificial-fonts": &lt;bool&gt;,
    "force-identity-encoding": &lt;bool&gt;,
    "compress": &lt;bool&gt;,
    "encrypt": {
        "key-bits": 40 | 128,
        "user-password": &lt;string&gt;,
        "owner-password": &lt;string&gt;,
        "disallow-print": &lt;bool&gt;,
        "disallow-modify": &lt;bool&gt;,
        "disallow-copy": &lt;bool&gt;,
        "disallow-annotate": &lt;bool&gt;
    },
    "pdf-profile": &lt;string&gt;,
    "pdf-output-intent": &lt;URL&gt;,
    "fallback-cmyk-profile": &lt;URL&gt;,
    "color-conversion": "none" | "full",
    "pdf-lang": &lt;string&gt;,
    "pdf-xmp": &lt;url&gt;,
    "tagged-pdf": "auto" | &lt;bool&gt;,
    "attach": [ &lt;list of attachments&gt; ]
}</pre></code>
<p>
Each attachment is a &lt;url&gt; (string) or an object:
</p>
<code><pre>{
    "url": &lt;url&gt;,
    "filename": &lt;string&gt;,
    "description": &lt;string&gt;
}</pre></code>
	</div>
    </div>
    <p>The <code>metadata options</code> object includes these fields:</p>
    <div class="example">
    <div class="programlisting">
		<code><pre>{
    "title": &lt;string&gt;,
    "subject": &lt;string&gt;,
    "author": &lt;string&gt;,
    "keywords": &lt;string&gt;,
    "creator": &lt;string&gt;,
}</pre></code>
	</div>
    </div>
    <p>The <code>raster options</code> object includes these fields:</p>
    <div class="example">
    <div class="programlisting">
		<code><pre>{
    "dpi": &lt;integer&gt;,
    "background": "white" | "transparent"
}</pre></code>
	</div>
    </div>
  </dd>
</dl>


<h3 id="structured-log">Structured Log <a href="#structured-log" class="self-link"></a>
</h3>

<dl>
  <dt><code>--structured-log=<span class="replaceable">LEVEL</span></code></dt>
  <dd>
    <p>This option is designed to make it easier to integrate other software with
    Prince. It takes these values:</p>
    <ul>
      <li><code>--no-structured-log</code></li>
      <li><code>--structured-log=normal</code></li>
      <li><code>--structured-log=quiet</code></li>
      <li><code>--structured-log=progress</code></li>
      <li><code>--structured-log=buffered</code></li>
    </ul>
    <p>The default is <code>--no-structured-log</code>, in which case error and warning
    messages will be written to the terminal (stderr stream) as they occur in a human
    readable format, eg.</p>
    <div class="example">
    <div class="programlisting">
		<code><pre>prince: foo.html: error: can't open input file: No such file or directory
prince: foo.html: error: could not load input file
prince: error: failed to load all input documents</pre></code>
	</div>
    </div>
    <p>Specifying <code>--structured-log=normal</code> writes the log messages in
    an alternate format with fields separated by <code>|</code> characters, in order
    to make it easier to parse by other software.</p>
    <p>The first field indicates the type of message, which can be:</p>
    <ul>
      <li>
<code>sta|</code> = status message;</li>
      <li>
<code>prg|</code> = progress percentage;</li>
      <li>
<code>fin|</code> = final outcome, which can be
        <ul>
          <li>
<code>fin|success</code>, or</li>
          <li>
<code>fin|failure</code>;</li>
        </ul>
      </li>
      <li>
<code>dat|<i>name</i>|<i>value</i></code> = data messages produced by
      <a href="/doc/12/doc-refs/#window.Log.data"><code>Log.data("<i>name</i>", "<i>value</i>")</code></a>;</li>
      <li>
<code>msg|</code> = messages, which can be any of the following:
        <ul>
          <li>
<code>msg|err</code> = error message;</li>
          <li>
<code>msg|wrn</code> = warning message;</li>
          <li>
<code>msg|inf</code> = information message;</li>
          <li>
<code>msg|dbg</code> = debug message;</li>
          <li>
<code>msg|out</code> = console output from <code>console.log()</code>;</li>
        </ul>
        and always followed by source location and the message itself.
      </li>
    </ul>
    <div class="example">
    <div class="programlisting">
		<code><pre>msg|err|foo.html|can't open input file: No such file or directory
msg|err|foo.html|could not load input file
msg|err||failed to load all input documents
fin|failure</pre></code>
	</div>
    <p class="note">The last <code>msg|err</code> message has an
    empty source location field.</p>
    </div>
    <p>Specifying <code>--structured-log=quiet</code> suppresses <em>all</em> log
    messages, except for the final <code>fin</code> message, indicating success or
    failure:</p>
    <div class="example">
    <div class="programlisting">
		<code><pre>fin|failure</pre></code>
	</div>
    </div>
    <p>This allows other software to read the stdout stream from Prince containing
    the PDF file in its entirety, then read the final status from the stderr stream,
    without worrying about blocking due to deadlocks.</p>
    <p>Specifying <code>--structured-log=progress</code> prints percentage log messages
    for use in GUI applications:</p>
    <div class="example">
    <div class="programlisting">
		<code><pre>prg|94
prg|96
prg|99
prg|100
fin|success</pre></code>
	</div>
    </div>
    <p>Specifying <code>--structured-log=buffered</code> is the same as <code>normal</code>,
    but all log messages will be delayed until after the full PDF has been written
    to the stdout stream, again so that other software can read from stdout and then
    read the log from stderr without deadlocking.</p>
    <p>The deadlock problem happens when Prince writes log messages to stderr and
    blocks, waiting for the other software to read them, but the other software is
    blocked waiting for Prince to write the PDF to stdout, leading to a deadlock
    where both processes hang indefinitely.</p>
    <p>By omitting log messages, or by delaying them until after the PDF is written,
    this deadlock can be avoided.  Another option is to use the <a href="/doc/12/doc-prince/#cmd-control">Prince Control Protocol</a>,
    which also avoids this problem.</p>
  </dd>
</dl>




  <h1 id="pfb">Prince for Books <a href="#pfb" class="self-link"></a>
</h1>

<p>
Prince for Books is a new venture that allows us to spend more time on features
particularly sought by publishers.
</p>

<p>
The initial focus of work is on the features common to all books: making the
pagination and line-breaking choices expected of books, by featuring a few
extensions to CSS and fine-tuned algorithms.
</p>

<p>
For the time being, Prince for Books is only available as a a command-line
application named <code>prince-books</code>.  It is used like the standard
Prince - see <a href="/doc/12/doc-refs/#command-line">Command-line Reference</a> for available options.
</p>

<div class="example">
<div class="syntaxlisting">
<code>prince-books <span class="replaceable">OPTIONS</span> <code class="filename"><span class="replaceable">FILES</span></code> [<code>-o</code> <span class="replaceable">PDF</span>]</code>
</div>
</div>

<p>
To download it, head over to the <a href="/books/">Prince for Books
download page</a>.  It is available in package bundles only - to install it,
the files need to be copied into place (Windows), or an installation script
needs to be run (on Linux and MacOS X).  It can be installed without problem
alongside a normal Prince installation - the executable to run is called
<code>prince-books</code>.
</p>


<h2 id="pfb-linebreaking">Line breaking <a href="#pfb-linebreaking" class="self-link"></a>
</h2>

<p>
Prince for Books introduces a few new CSS properties to try handling line
breaks in a more granular way, and additionally, it tries harder to avoid a
hyphen at the end of a page and at the end of the last full line, as well as
for ragged text (i.e. for left-aligned or centered text).  It also tries to
avoid a short last line, especially if it is shorter than the value of
<code><a href="/doc/12/doc-refs/#prop-text-indent">text-indent</a></code>.
</p>

<h3 id="pfb-princewrapinside">The property  <code>prince-wrap-inside</code><a href="#pfb-princewrapinside" class="self-link"></a>
</h3>

<p>
The property <code><a href="/doc/12/doc-refs/#prop-prince-wrap-inside">prince-wrap-inside</a></code> offers a way to
instruct Prince how to break text: the keyword <code>phrase</code> is for marking
up a phrase that one would weakly prefer to keep on a single line.  It adds to
Prince's perceived cost of breaking within that phrase, but only a small cost,
comparable to the cost of hyphenating a compound adjective such as ‘midyear’.
</p>

<p>
The keyword <code>avoid</code> is a stronger directive: it avoids breaking the text
to which the property is applied even if it causes the affected text to be unusually
tight, or the previous line to be unusually loose; but not if either line would
become truly exceptionally tightly or loosely spaced.
</p>

<p>
This property would most commonly be used in headings, or perhaps in important
passages of body text such as in instructions or for the name of a product in
advertising.  For example, if one opens a book that was printed before the
widespread use of computers in publishing, then one would likely see that any
headings that don't fit in one line won't simply put as much on the first line
as fits, but will instead break somewhat according to natural phrasing.
</p>

<p>
To make it more likely for Prince for Books to produce this effect, one might
put <code>span</code> elements around phrases, styling each of these spans with
<code>prince-wrap-inside:phrase</code>.
</p>

<div class="example">
<p class="label">HTML</p>
<div class="programlisting">
<code language="HTML"><pre>&lt;h1&gt;The &lt;span&gt;fulfilment &lt;span&gt;of the law&lt;/span&gt;&lt;/span&gt;
  &lt;span&gt;and &lt;span&gt;of the prophets&lt;/span&gt;&lt;/span&gt;&lt;/h1&gt;</pre></code>
</div>
<p class="label">CSS</p>
<div class="programlisting">
<code language="HTML"><pre>span {
  prince-wrap-inside: phrase;
}</pre></code>
</div>
<p>
The example would produce a title line like this:
</p>
<p style="text-align:center; white-space:pre-line;">The fulfilment of the law
and of the prophets</p>
<p>
If however the final available space were narrower than the required space,
Prince might instead format as:
</p>
<p style="text-align:center; white-space:pre-line;">The fulfilment
of the law and
of the prophets</p>
</div>

<h3 id="pfb-princelinebreakchoices">The property  <code>prince-line-break-choices</code><a href="#pfb-princelinebreakchoices" class="self-link"></a>
</h3>

<p>
Another property for fine-tuning the line breaking behaviour is
<code><a href="/doc/12/doc-refs/#prop-prince-line-break-choices">prince-line-break-choices</a></code>.
</p>

<p>
The keyword <code>title</code> is intended for title pages of books or
chapters, where phrasing considerations are of prime consideration even at
the cost of extremely unbalanced lines.
</p>

<p>
The keyword <code>heading</code>, on the other hand, is closer to <code>body</code>,
differing mainly in that it's less likely to hyphenate, and is more willing to
make the first line(s) a little shorter if doing so avoids a short last line.
</p>

<p>
The <code>*-lookahead</code> keywords enable paragraph-at-a-time
line-breaking for the paragraph in a non-justified paragraph: choosing where
to end the line not just based on what seems best for the current line (as
one might decide if using a pen or typewriter), but also considering the
effect on future lines.
</p>

<p>
Enabling lookahead for a paragraph makes Prince take longer, though the
results are typically slightly better: still ragged, but fewer lines that are
much shorter than nearby lines.
</p>

<p>
A disadvantage of lookahead is that any "mistakes" (that is, differences from
what a human would choose) risk appearing inexplicable to a reader, unlike
with the non-lookahead versions where the only reason that a line would be
noticeably short is where the following line starts with a long word.
</p>

<p>
This means that the non-lookahead versions might be a better choice in jobs
where Prince's line breaks will be accepted without human oversight; whereas
if a typesetter will look for and correct any problems in the rag of the
paragraph, then the lookahead versions will typically give a better starting
point.
</p>

<p class="note" id="note-typesetter">
A typesetter's intervention currently involves modifying the HTML: it is not
requireed to assign an <code>id</code> to each paragraph, but it is
nevertheless common practice to do so for making other changes, such as
changing the number of lines in a paragraph for pagination purposes (whether
using <code><a href="/doc/12/doc-refs/#prop-prince-n-lines">prince-n-lines</a></code> or
<code><a href="/doc/12/doc-refs/#prop-word-spacing">word-spacing</a></code> or
<code><a href="/doc/12/doc-refs/#prop-letter-spacing">letter-spacing</a></code>), or assigning a unique value
to each chapter in order to change how many lines are on the last page of the
chapter (say, by adding <code>1pt</code> to the inside margin).  See also
<a href="/doc/12/doc-prince/#pfb-spreadbalancing">Spread Balancing</a>.
</p>

<p>
To illustrate the difference, one could also say that non-lookahead versions
give paragraph shapes reminiscent of those given by word processors and web
browsers, while the lookahead versions come slightly closer to what one might
find in books.
</p>

<p>
The keyword <code>fast</code> can be used for quick web-browers–style line
breaking, useful for testing the effect of styling changes that don't depend
on good line breaking.
</p>

<div class="example">
<p>
The base stylesheet that Prince for Books applies to all HTML documents
(i.e. the "user-agent style sheet", in CSS terminology) includes the
ruleset
</p>
<div class="programlisting">
<code language="HTML"><pre>h1, h2, h3, h4, h5, h6 {
    prince-line-break-choices: heading;
}</pre></code>
</div>
<p>
but HTML semantics alone do not distinguish content where the more extreme
<code>prince-line-break-choices: title</code> could be appropriate. Doing so
requires additional conventions, such as those given in the
<a href="https://oreillymedia.github.io/HTMLBook/">HTMLBook</a> specification.
</p>
<p>The below example applies <code>title-lookahead</code> line-breaking to
the book title, chapter titles and part titles, while applying <code>heading-lookahead</code>
line-breaking to subtitles.</p>
<p class="label">CSS</p>
<div class="programlisting">
<code language="CSS"><pre>body[data-type="book"] &gt; h1,
body[data-type="book"] &gt; heading &gt; h1,
section[data-type="chapter"] &gt; h1,
section[data-type="chapter"] &gt; heading &gt; h1,
div[data-type="part"] &gt; h1,
div[data-type="part"] &gt; heading &gt; h1 {
    prince-line-break-choices: title-lookahead;
}

heading &gt; * {
    prince-line-break-choices: heading-lookahead;
}</pre></code>
</div>
<p class="note">
HTMLBook uses a slightly non-standard representation of subtitles: not using
<code>hgroup</code>, and using <code>p</code> elements rather than the heading
elements <code>h1</code> to <code>h6</code>.
</p>
</div>

<h3 id="pfb-princeforcedbreaks">The property  <code>prince-forced-breaks</code><a href="#pfb-princeforcedbreaks" class="self-link"></a>
</h3>

<p>
The property <code><a href="/doc/12/doc-refs/#prop-prince-forced-breaks">prince-forced-breaks</a></code> controls whether
a line ended by a "preserved newline" (such as introduced by <code>&lt;br&gt;</code>)
should preferably appear to be a normal full line (as if ended only by normal
line wrapping), or whether being shorter than a normal full line is actually
preferable, for example to mark a deliberate break.
</p>

<p class="note">
The <code>br</code> element would usually create a visually forced break,
treating that line much as if it were the last line of a paragraph.  For
example, it would continue to do so in any UA not supporting the property
<code>prince-forced-breaks</code> (thus getting in the way of reading the
content in some other UA, or using the same source document for web/epub
deployment), or if the stylesheet doesn't load.  Tweaking line breaks using
<code>prince-forced-breaks: full</code> is not intended to be consciously
noticeable by readers, so <code>br</code> would not be the best approximation
in HTML.
</p>

<div class="example">
<p class="label">CSS</p>
<div class="programlisting">
<code language="CSS"><pre>lb { white-space: pre; }
lb::before { content: "\A"; prince-forced-breaks: full; }</pre></code>
</div>
<p>
This example shows the styling for an <code>&lt;lb /&gt;</code> element,
which can be added to force breaks.  Of course we first need to instruct
Prince to respect "preserved newlines" - we do this with the
<code><a href="/doc/12/doc-refs/#prop-white-space">white-space</a></code> property.
</p>
<p class="note">
Literally using the element name <code>lb</code> in the html namespace would
make the document not valid HTML.  The element could be either in a non-HTML
namespace, or one could use a custom element to be inserted with JavaScript.
</p>
<p>
If multiple editions are to produced from a single source document, then a
variation would be
</p>
<p class="label">CSS</p>
<div class="programlisting">
<code language="CSS"><pre>lb[ed ~= "a"]::before { ... }</pre></code>
</div>
<p>
in the stylesheet for edition A (and similarly for the stylesheets of other
editions), and
</p>
<p class="label">HTML</p>
<div class="programlisting">
<code language="HTML"><pre>&lt;lb ed="a c" /&gt;</pre></code>
</div>
<p>
in the document where a line break should be forced only in editions A and C.
</p>
</div>

<p>
The difference is particularly marked in justified text, where lines ended by
<code>prince-forced-breaks: full</code> are subject to justification like most
other lines.
</p>


<h2 id="pfb-spreadbalancing">Spread Balancing <a href="#pfb-spreadbalancing" class="self-link"></a>
</h2>

<p>
A prominent new feature is the concept of "spread balancing": Prince for Books can
try to ensure that the content on two-page spreads is the same height.  Due to the
<code><a href="/doc/12/doc-refs/#prop-widows">widows</a></code> and <code><a href="/doc/12/doc-refs/#prop-orphans">orphans</a></code>
properties (see <a href="/doc/12/doc-prince/#widows-and-orphans">Widows and orphans</a>) it is possible for one
page to have fewer lines than the other, and this unevenness looks upsetting.
</p>

<p>
Prince for Books also tries to reduce the number of uneven spreads.
</p>


<h3 id="pfb-princepagefill">The property  <code>prince-page-fill</code><a href="#pfb-princepagefill" class="self-link"></a>
</h3>

<p>
The property <code><a href="/doc/12/doc-refs/#prop-prince-page-fill">prince-page-fill</a></code> is used to turn
on the page balancing mechanism.  Prince for Books will check how much space is
left at the bottom of each page of a two-page spread and compares it with the
line-height to determine whether the pages end with different numbers of lines.
If one page is longer than the other, Prince will attempt to repack that page
one line shorter, so that they match in height.  If it is still unbalanced,
which might happen due to triggering another widows/orphans constraint, it will
revert to the original layout.
</p>

<p>
Prince also includes the bottom margin in the evaluation for balancing, allowing
said margin to be truncated for purposes of deciding whether the two pages can be
considered to have the same length.
</p>


<h3 id="pfb-princenlines">The property  <code>prince-n-lines</code><a href="#pfb-princenlines" class="self-link"></a>
</h3>

<p>
Another way to address page balancing is by using the property
<code><a href="/doc/12/doc-refs/#prop-prince-n-lines">prince-n-lines</a></code>.  It is for use in the pagination
phase of typesetting, for ensuring that page ends are even while avoiding widows
and other awkward breaks.
</p>

<p>
Typically, the best paragraph to apply this property to will be either
already long and/or currently has either a very short or almost full last
line, so that the paragraph doesn't need to change much in length compared to
its existing "length" (as reckoned by its height).  That is, the typesetter
can choose a good candidate by looking at how much the last line would need
to shrink or grow (including a word or two for the next line if growing), and
how many times that length would fit in the height of the paragraph, with
more being better.
</p>

<p class="note">
As noted <a href="#note-typesetter">before</a>, a typesetter's intervention
currently involves modifying the HTML.
</p>

<p>
Values other than the initial value of <code>auto</code> request that the
paragraph occupy the given number of lines; where values other than a simple
integer are relative to the number of lines that the paragraph would have
occupied if this property still had its initial value (<code>auto</code>).
</p>

<p>
The value <code>change</code> means to make the paragraph either a line
longer or shorter, whichever will be deemed to look better.  This value is
provided for the common case that a page break opportunity exists both at a
line earlier and at a line later than where the page end would naturally
fall, as would typically be the case if the only relevant restriction arises
from <code>widows:2</code> or <code>orphans:2</code> or a minor heading that
occupies two body lines worth of height.  Thus, this tends to be the most
commonly used value for this property, other than leaving at its initial value.
</p>

<p>
A simple integer value is the least convenient value to use (since choosing
the desired number requires counting the existing number of lines, and since
this property is most commonly used on long paragraphs).  Its value lies in
the fact that the result is not subject to variation in "the number of lines
that the paragraph would otherwise have had", as can occur if this paragraph
spans a page end, and a subsequent styling change causes some earlier content
to changes in size, affecting what is the last line before the break, and if
this in turn affects line-breaking decisions made to avoid having a
hyphenation at the end of a page.
</p>

<p>
Alternatives to adjusting a paragraph length include adding extra space
around a heading, an image or at the start of a chapter.
</p>


<h3 id="pfb-fractionalwidows">Fractional Widows <a href="#pfb-fractionalwidows" class="self-link"></a>
</h3>

<p>
Another feature in Prince for Books are the "fractional widows": the
<code><a href="/doc/12/doc-refs/#prop-widows">widows</a></code> property is allowed a value expressed as
percentage.
</p>

<div class="example">
<div class="programlisting">
<code language="CSS"><pre>p {
  <a href="/doc/12/doc-refs/#prop-widows">widows</a>: 50%;
}</pre></code>
</div>
</div>

<p>
This indicates indicates that one widow line is accepted, as long as the line
width is at least the given percentage value of the available page width, to
avoid the worst case of having a widow line that is only one or two words long.
</p>
</div>
</div>

    <div class="footer">
        <div class="footer-copyright">
            Copyright © 2002 – 2019 YesLogic Pty. Ltd.
        </div>
        <ul class="footer-menu">
            <li><a href="/company/">About Us</a></li>
            <li><a href="/privacy/">Privacy Policy</a></li>
            <li><a href="/contact/">Contact Us</a></li>
        </ul>
        <div style="clear:both"></div>
    </div>
</div>

<script src="/js/warning.js"></script>
</body>
</html>
